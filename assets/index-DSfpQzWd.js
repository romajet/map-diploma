(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Et={},$n=[],Oe=()=>{},sd=()=>!1,Tr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Zo=e=>e.startsWith("onUpdate:"),zt=Object.assign,ta=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},od=Object.prototype.hasOwnProperty,bt=(e,t)=>od.call(e,t),it=Array.isArray,Hn=e=>Bi(e)==="[object Map]",Pr=e=>Bi(e)==="[object Set]",Va=e=>Bi(e)==="[object Date]",lt=e=>typeof e=="function",Bt=e=>typeof e=="string",Fe=e=>typeof e=="symbol",At=e=>e!==null&&typeof e=="object",Nc=e=>(At(e)||lt(e))&&lt(e.then)&&lt(e.catch),Lc=Object.prototype.toString,Bi=e=>Lc.call(e),ad=e=>Bi(e).slice(8,-1),Dc=e=>Bi(e)==="[object Object]",ea=e=>Bt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Si=Qo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ld=/-(\w)/g,pe=Rr(e=>e.replace(ld,(t,n)=>n?n.toUpperCase():"")),cd=/\B([A-Z])/g,En=Rr(e=>e.replace(cd,"-$1").toLowerCase()),Ar=Rr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bs=Rr(e=>e?`on${Ar(e)}`:""),sn=(e,t)=>!Object.is(e,t),rr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ic=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Gc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ja;const Or=()=>ja||(ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function na(e){if(it(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Bt(i)?fd(i):na(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(Bt(e)||At(e))return e}const hd=/;(?![^(]*\))/g,ud=/:([^]+)/,dd=/\/\*[^]*?\*\//g;function fd(e){const t={};return e.replace(dd,"").split(hd).forEach(n=>{if(n){const i=n.split(ud);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ia(e){let t="";if(Bt(e))t=e;else if(it(e))for(let n=0;n<e.length;n++){const i=ia(e[n]);i&&(t+=i+" ")}else if(At(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const gd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pd=Qo(gd);function Bc(e){return!!e||e===""}function md(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Fr(e[i],t[i]);return n}function Fr(e,t){if(e===t)return!0;let n=Va(e),i=Va(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Fe(e),i=Fe(t),n||i)return e===t;if(n=it(e),i=it(t),n||i)return n&&i?md(e,t):!1;if(n=At(e),i=At(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Fr(e[o],t[o]))return!1}}return String(e)===String(t)}function _d(e,t){return e.findIndex(n=>Fr(n,t))}const Uc=e=>!!(e&&e.__v_isRef===!0),be=e=>Bt(e)?e:e==null?"":it(e)||At(e)&&(e.toString===Lc||!lt(e.toString))?Uc(e)?be(e.value):JSON.stringify(e,$c,2):String(e),$c=(e,t)=>Uc(t)?$c(e,t.value):Hn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[Us(i,s)+" =>"]=r,n),{})}:Pr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Us(n))}:Fe(t)?Us(t):At(t)&&!it(t)&&!Dc(t)?String(t):t,Us=(e,t="")=>{var n;return Fe(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let he;class yd{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=he,!t&&he&&(this.index=(he.scopes||(he.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=he;try{return he=this,t()}finally{he=n}}}on(){he=this}off(){he=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function bd(){return he}let Rt;const $s=new WeakSet;class Hc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,he&&he.active&&he.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$s.has(this)&&($s.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wa(this),Wc(this);const t=Rt,n=ve;Rt=this,ve=!0;try{return this.fn()}finally{zc(this),Rt=t,ve=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)oa(t);this.deps=this.depsTail=void 0,Wa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$s.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_o(this)&&this.run()}get dirty(){return _o(this)}}let Vc=0,wi,Ci;function jc(e,t=!1){if(e.flags|=8,t){e.next=Ci,Ci=e;return}e.next=wi,wi=e}function ra(){Vc++}function sa(){if(--Vc>0)return;if(Ci){let t=Ci;for(Ci=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;wi;){let t=wi;for(wi=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function Wc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function zc(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),oa(i),vd(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function _o(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Kc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Kc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ai))return;e.globalVersion=Ai;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!_o(e)){e.flags&=-3;return}const n=Rt,i=ve;Rt=e,ve=!0;try{Wc(e);const r=e.fn(e._value);(t.version===0||sn(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Rt=n,ve=i,zc(e),e.flags&=-3}}function oa(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)oa(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function vd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ve=!0;const qc=[];function an(){qc.push(ve),ve=!1}function ln(){const e=qc.pop();ve=e===void 0?!0:e}function Wa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Rt;Rt=void 0;try{t()}finally{Rt=n}}}let Ai=0;class Sd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class aa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Rt||!ve||Rt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Rt)n=this.activeLink=new Sd(Rt,this),Rt.deps?(n.prevDep=Rt.depsTail,Rt.depsTail.nextDep=n,Rt.depsTail=n):Rt.deps=Rt.depsTail=n,Yc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Rt.depsTail,n.nextDep=void 0,Rt.depsTail.nextDep=n,Rt.depsTail=n,Rt.deps===n&&(Rt.deps=i)}return n}trigger(t){this.version++,Ai++,this.notify(t)}notify(t){ra();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{sa()}}}function Yc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Yc(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const yo=new WeakMap,vn=Symbol(""),bo=Symbol(""),Oi=Symbol("");function Xt(e,t,n){if(ve&&Rt){let i=yo.get(e);i||yo.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new aa),r.map=i,r.key=n),r.track()}}function $e(e,t,n,i,r,s){const o=yo.get(e);if(!o){Ai++;return}const a=l=>{l&&l.trigger()};if(ra(),t==="clear")o.forEach(a);else{const l=it(e),c=l&&ea(n);if(l&&n==="length"){const h=Number(i);o.forEach((d,f)=>{(f==="length"||f===Oi||!Fe(f)&&f>=h)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Oi)),t){case"add":l?c&&a(o.get("length")):(a(o.get(vn)),Hn(e)&&a(o.get(bo)));break;case"delete":l||(a(o.get(vn)),Hn(e)&&a(o.get(bo)));break;case"set":Hn(e)&&a(o.get(vn));break}}sa()}function Ln(e){const t=yt(e);return t===e?t:(Xt(t,"iterate",Oi),ge(e)?t:t.map(Jt))}function Mr(e){return Xt(e=yt(e),"iterate",Oi),e}const wd={__proto__:null,[Symbol.iterator](){return Hs(this,Symbol.iterator,Jt)},concat(...e){return Ln(this).concat(...e.map(t=>it(t)?Ln(t):t))},entries(){return Hs(this,"entries",e=>(e[1]=Jt(e[1]),e))},every(e,t){return Ne(this,"every",e,t,void 0,arguments)},filter(e,t){return Ne(this,"filter",e,t,n=>n.map(Jt),arguments)},find(e,t){return Ne(this,"find",e,t,Jt,arguments)},findIndex(e,t){return Ne(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ne(this,"findLast",e,t,Jt,arguments)},findLastIndex(e,t){return Ne(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ne(this,"forEach",e,t,void 0,arguments)},includes(...e){return Vs(this,"includes",e)},indexOf(...e){return Vs(this,"indexOf",e)},join(e){return Ln(this).join(e)},lastIndexOf(...e){return Vs(this,"lastIndexOf",e)},map(e,t){return Ne(this,"map",e,t,void 0,arguments)},pop(){return ui(this,"pop")},push(...e){return ui(this,"push",e)},reduce(e,...t){return za(this,"reduce",e,t)},reduceRight(e,...t){return za(this,"reduceRight",e,t)},shift(){return ui(this,"shift")},some(e,t){return Ne(this,"some",e,t,void 0,arguments)},splice(...e){return ui(this,"splice",e)},toReversed(){return Ln(this).toReversed()},toSorted(e){return Ln(this).toSorted(e)},toSpliced(...e){return Ln(this).toSpliced(...e)},unshift(...e){return ui(this,"unshift",e)},values(){return Hs(this,"values",Jt)}};function Hs(e,t,n){const i=Mr(e),r=i[t]();return i!==e&&!ge(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const Cd=Array.prototype;function Ne(e,t,n,i,r,s){const o=Mr(e),a=o!==e&&!ge(e),l=o[t];if(l!==Cd[t]){const d=l.apply(e,s);return a?Jt(d):d}let c=n;o!==e&&(a?c=function(d,f){return n.call(this,Jt(d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const h=l.call(o,c,i);return a&&r?r(h):h}function za(e,t,n,i){const r=Mr(e);let s=n;return r!==e&&(ge(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Jt(a),l,e)}),r[t](s,...i)}function Vs(e,t,n){const i=yt(e);Xt(i,"iterate",Oi);const r=i[t](...n);return(r===-1||r===!1)&&ha(n[0])?(n[0]=yt(n[0]),i[t](...n)):r}function ui(e,t,n=[]){an(),ra();const i=yt(e)[t].apply(e,n);return sa(),ln(),i}const xd=Qo("__proto__,__v_isRef,__isVue"),Xc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fe));function Ed(e){Fe(e)||(e=String(e));const t=yt(this);return Xt(t,"has",e),t.hasOwnProperty(e)}class Jc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?Ld:eh:s?th:Zc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=it(t);if(!r){let l;if(o&&(l=wd[n]))return l;if(n==="hasOwnProperty")return Ed}const a=Reflect.get(t,n,Qt(t)?t:i);return(Fe(n)?Xc.has(n):xd(n))||(r||Xt(t,"get",n),s)?a:Qt(a)?o&&ea(n)?a:a.value:At(a)?r?ih(a):ti(a):a}}class Qc extends Jc{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const l=wn(s);if(!ge(i)&&!wn(i)&&(s=yt(s),i=yt(i)),!it(t)&&Qt(s)&&!Qt(i))return l?!1:(s.value=i,!0)}const o=it(t)&&ea(n)?Number(n)<t.length:bt(t,n),a=Reflect.set(t,n,i,Qt(t)?t:r);return t===yt(r)&&(o?sn(i,s)&&$e(t,"set",n,i):$e(t,"add",n,i)),a}deleteProperty(t,n){const i=bt(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&$e(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Fe(n)||!Xc.has(n))&&Xt(t,"has",n),i}ownKeys(t){return Xt(t,"iterate",it(t)?"length":vn),Reflect.ownKeys(t)}}class Td extends Jc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Pd=new Qc,Rd=new Td,Ad=new Qc(!0);const vo=e=>e,Xi=e=>Reflect.getPrototypeOf(e);function Od(e,t,n){return function(...i){const r=this.__v_raw,s=yt(r),o=Hn(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...i),h=n?vo:t?So:Jt;return!t&&Xt(s,"iterate",l?bo:vn),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function Ji(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Fd(e,t){const n={get(r){const s=this.__v_raw,o=yt(s),a=yt(r);e||(sn(r,a)&&Xt(o,"get",r),Xt(o,"get",a));const{has:l}=Xi(o),c=t?vo:e?So:Jt;if(l.call(o,r))return c(s.get(r));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!e&&Xt(yt(r),"iterate",vn),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=yt(s),a=yt(r);return e||(sn(r,a)&&Xt(o,"has",r),Xt(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=yt(a),c=t?vo:e?So:Jt;return!e&&Xt(l,"iterate",vn),a.forEach((h,d)=>r.call(s,c(h),c(d),o))}};return zt(n,e?{add:Ji("add"),set:Ji("set"),delete:Ji("delete"),clear:Ji("clear")}:{add(r){!t&&!ge(r)&&!wn(r)&&(r=yt(r));const s=yt(this);return Xi(s).has.call(s,r)||(s.add(r),$e(s,"add",r,r)),this},set(r,s){!t&&!ge(s)&&!wn(s)&&(s=yt(s));const o=yt(this),{has:a,get:l}=Xi(o);let c=a.call(o,r);c||(r=yt(r),c=a.call(o,r));const h=l.call(o,r);return o.set(r,s),c?sn(s,h)&&$e(o,"set",r,s):$e(o,"add",r,s),this},delete(r){const s=yt(this),{has:o,get:a}=Xi(s);let l=o.call(s,r);l||(r=yt(r),l=o.call(s,r)),a&&a.call(s,r);const c=s.delete(r);return l&&$e(s,"delete",r,void 0),c},clear(){const r=yt(this),s=r.size!==0,o=r.clear();return s&&$e(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Od(r,e,t)}),n}function la(e,t){const n=Fd(e,t);return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(bt(n,r)&&r in i?n:i,r,s)}const Md={get:la(!1,!1)},kd={get:la(!1,!0)},Nd={get:la(!0,!1)};const Zc=new WeakMap,th=new WeakMap,eh=new WeakMap,Ld=new WeakMap;function Dd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Id(e){return e.__v_skip||!Object.isExtensible(e)?0:Dd(ad(e))}function ti(e){return wn(e)?e:ca(e,!1,Pd,Md,Zc)}function nh(e){return ca(e,!1,Ad,kd,th)}function ih(e){return ca(e,!0,Rd,Nd,eh)}function ca(e,t,n,i,r){if(!At(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=Id(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function Vn(e){return wn(e)?Vn(e.__v_raw):!!(e&&e.__v_isReactive)}function wn(e){return!!(e&&e.__v_isReadonly)}function ge(e){return!!(e&&e.__v_isShallow)}function ha(e){return e?!!e.__v_raw:!1}function yt(e){const t=e&&e.__v_raw;return t?yt(t):e}function Gd(e){return!bt(e,"__v_skip")&&Object.isExtensible(e)&&Ic(e,"__v_skip",!0),e}const Jt=e=>At(e)?ti(e):e,So=e=>At(e)?ih(e):e;function Qt(e){return e?e.__v_isRef===!0:!1}function Be(e){return rh(e,!1)}function Bd(e){return rh(e,!0)}function rh(e,t){return Qt(e)?e:new Ud(e,t)}class Ud{constructor(t,n){this.dep=new aa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:yt(t),this._value=n?t:Jt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||ge(t)||wn(t);t=i?t:yt(t),sn(t,n)&&(this._rawValue=t,this._value=i?t:Jt(t),this.dep.trigger())}}function jn(e){return Qt(e)?e.value:e}const $d={get:(e,t,n)=>t==="__v_raw"?e:jn(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Qt(r)&&!Qt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function sh(e){return Vn(e)?e:new Proxy(e,$d)}class Hd{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new aa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ai-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Rt!==this)return jc(this,!0),!0}get value(){const t=this.dep.track();return Kc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Vd(e,t,n=!1){let i,r;return lt(e)?i=e:(i=e.get,r=e.set),new Hd(i,r,n)}const Qi={},dr=new WeakMap;let yn;function jd(e,t=!1,n=yn){if(n){let i=dr.get(n);i||dr.set(n,i=[]),i.push(e)}}function Wd(e,t,n=Et){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,c=_=>r?_:ge(_)||r===!1||r===0?He(_,1):He(_);let h,d,f,u,p=!1,m=!1;if(Qt(e)?(d=()=>e.value,p=ge(e)):Vn(e)?(d=()=>c(e),p=!0):it(e)?(m=!0,p=e.some(_=>Vn(_)||ge(_)),d=()=>e.map(_=>{if(Qt(_))return _.value;if(Vn(_))return c(_);if(lt(_))return l?l(_,2):_()})):lt(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){an();try{f()}finally{ln()}}const _=yn;yn=h;try{return l?l(e,3,[u]):e(u)}finally{yn=_}}:d=Oe,t&&r){const _=d,S=r===!0?1/0:r;d=()=>He(_(),S)}const y=bd(),v=()=>{h.stop(),y&&ta(y.effects,h)};if(s&&t){const _=t;t=(...S)=>{_(...S),v()}}let E=m?new Array(e.length).fill(Qi):Qi;const g=_=>{if(!(!(h.flags&1)||!h.dirty&&!_))if(t){const S=h.run();if(r||p||(m?S.some((P,M)=>sn(P,E[M])):sn(S,E))){f&&f();const P=yn;yn=h;try{const M=[S,E===Qi?void 0:m&&E[0]===Qi?[]:E,u];l?l(t,3,M):t(...M),E=S}finally{yn=P}}}else h.run()};return a&&a(g),h=new Hc(d),h.scheduler=o?()=>o(g,!1):g,u=_=>jd(_,!1,h),f=h.onStop=()=>{const _=dr.get(h);if(_){if(l)l(_,4);else for(const S of _)S();dr.delete(h)}},t?i?g(!0):E=h.run():o?o(g.bind(null,!0),!0):h.run(),v.pause=h.pause.bind(h),v.resume=h.resume.bind(h),v.stop=v,v}function He(e,t=1/0,n){if(t<=0||!At(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Qt(e))He(e.value,t,n);else if(it(e))for(let i=0;i<e.length;i++)He(e[i],t,n);else if(Pr(e)||Hn(e))e.forEach(i=>{He(i,t,n)});else if(Dc(e)){for(const i in e)He(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&He(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ui(e,t,n,i){try{return i?e(...i):e()}catch(r){kr(r,t,n)}}function Me(e,t,n,i){if(lt(e)){const r=Ui(e,t,n,i);return r&&Nc(r)&&r.catch(s=>{kr(s,t,n)}),r}if(it(e)){const r=[];for(let s=0;s<e.length;s++)r.push(Me(e[s],t,n,i));return r}}function kr(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Et;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,l,c)===!1)return}a=a.parent}if(s){an(),Ui(s,null,10,[e,l,c]),ln();return}}zd(e,n,r,i,o)}function zd(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}const ee=[];let Pe=-1;const Wn=[];let tn=null,Bn=0;const oh=Promise.resolve();let fr=null;function ua(e){const t=fr||oh;return e?t.then(this?e.bind(this):e):t}function Kd(e){let t=Pe+1,n=ee.length;for(;t<n;){const i=t+n>>>1,r=ee[i],s=Fi(r);s<e||s===e&&r.flags&2?t=i+1:n=i}return t}function da(e){if(!(e.flags&1)){const t=Fi(e),n=ee[ee.length-1];!n||!(e.flags&2)&&t>=Fi(n)?ee.push(e):ee.splice(Kd(t),0,e),e.flags|=1,ah()}}function ah(){fr||(fr=oh.then(ch))}function qd(e){it(e)?Wn.push(...e):tn&&e.id===-1?tn.splice(Bn+1,0,e):e.flags&1||(Wn.push(e),e.flags|=1),ah()}function Ka(e,t,n=Pe+1){for(;n<ee.length;n++){const i=ee[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;ee.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function lh(e){if(Wn.length){const t=[...new Set(Wn)].sort((n,i)=>Fi(n)-Fi(i));if(Wn.length=0,tn){tn.push(...t);return}for(tn=t,Bn=0;Bn<tn.length;Bn++){const n=tn[Bn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}tn=null,Bn=0}}const Fi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ch(e){try{for(Pe=0;Pe<ee.length;Pe++){const t=ee[Pe];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ui(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Pe<ee.length;Pe++){const t=ee[Pe];t&&(t.flags&=-2)}Pe=-1,ee.length=0,lh(),fr=null,(ee.length||Wn.length)&&ch()}}let ie=null,hh=null;function gr(e){const t=ie;return ie=e,hh=e&&e.type.__scopeId||null,t}function wo(e,t=ie,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&nl(-1);const s=gr(t);let o;try{o=e(...r)}finally{gr(s),i._d&&nl(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Co(e,t){if(ie===null)return e;const n=Br(ie),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,o,a,l=Et]=t[r];s&&(lt(s)&&(s={mounted:s,updated:s}),s.deep&&He(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function pn(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(an(),Me(l,n,8,[e.el,a,e,t]),ln())}}const Yd=Symbol("_vte"),Xd=e=>e.__isTeleport;function fa(e,t){e.shapeFlag&6&&e.component?(e.transition=t,fa(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Nr(e,t){return lt(e)?zt({name:e.name},t,{setup:e}):e}function uh(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function xo(e,t,n,i,r=!1){if(it(e)){e.forEach((p,m)=>xo(p,t&&(it(t)?t[m]:t),n,i,r));return}if(xi(i)&&!r)return;const s=i.shapeFlag&4?Br(i.component):i.el,o=r?null:s,{i:a,r:l}=e,c=t&&t.r,h=a.refs===Et?a.refs={}:a.refs,d=a.setupState,f=yt(d),u=d===Et?()=>!1:p=>bt(f,p);if(c!=null&&c!==l&&(Bt(c)?(h[c]=null,u(c)&&(d[c]=null)):Qt(c)&&(c.value=null)),lt(l))Ui(l,a,12,[o,h]);else{const p=Bt(l),m=Qt(l);if(p||m){const y=()=>{if(e.f){const v=p?u(l)?d[l]:h[l]:l.value;r?it(v)&&ta(v,s):it(v)?v.includes(s)||v.push(s):p?(h[l]=[s],u(l)&&(d[l]=h[l])):(l.value=[s],e.k&&(h[e.k]=l.value))}else p?(h[l]=o,u(l)&&(d[l]=o)):m&&(l.value=o,e.k&&(h[e.k]=o))};o?(y.id=-1,ce(y,n)):y()}}}Or().requestIdleCallback;Or().cancelIdleCallback;const xi=e=>!!e.type.__asyncLoader,dh=e=>e.type.__isKeepAlive;function Jd(e,t){fh(e,"a",t)}function Qd(e,t){fh(e,"da",t)}function fh(e,t,n=qt){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Lr(t,i,n),n){let r=n.parent;for(;r&&r.parent;)dh(r.parent.vnode)&&Zd(i,t,n,r),r=r.parent}}function Zd(e,t,n,i){const r=Lr(t,e,i,!0);pa(()=>{ta(i[t],r)},n)}function Lr(e,t,n=qt,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{an();const a=Hi(n),l=Me(t,n,e,o);return a(),ln(),l});return i?r.unshift(s):r.push(s),s}}const We=e=>(t,n=qt)=>{(!ki||e==="sp")&&Lr(e,(...i)=>t(...i),n)},tf=We("bm"),$i=We("m"),ef=We("bu"),ga=We("u"),Dr=We("bum"),pa=We("um"),nf=We("sp"),rf=We("rtg"),sf=We("rtc");function of(e,t=qt){Lr("ec",e,t)}const af="components";function rn(e,t){return cf(af,e,!0,t)||e}const lf=Symbol.for("v-ndc");function cf(e,t,n=!0,i=!1){const r=ie||qt;if(r){const s=r.type;{const a=Jf(s,!1);if(a&&(a===t||a===pe(t)||a===Ar(pe(t))))return s}const o=qa(r[e]||s[e],t)||qa(r.appContext[e],t);return!o&&i?s:o}}function qa(e,t){return e&&(e[t]||e[pe(t)]||e[Ar(pe(t))])}function Ue(e,t,n,i){let r;const s=n,o=it(e);if(o||Bt(e)){const a=o&&Vn(e);let l=!1;a&&(l=!ge(e),e=Mr(e)),r=new Array(e.length);for(let c=0,h=e.length;c<h;c++)r[c]=t(l?Jt(e[c]):e[c],c,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s)}else if(At(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];r[l]=t(e[h],h,l,s)}}else r=[];return r}const Eo=e=>e?Nh(e)?Br(e):Eo(e.parent):null,Ei=zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Eo(e.parent),$root:e=>Eo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ma(e),$forceUpdate:e=>e.f||(e.f=()=>{da(e.update)}),$nextTick:e=>e.n||(e.n=ua.bind(e.proxy)),$watch:e=>Of.bind(e)}),js=(e,t)=>e!==Et&&!e.__isScriptSetup&&bt(e,t),hf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const u=o[t];if(u!==void 0)switch(u){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(js(i,t))return o[t]=1,i[t];if(r!==Et&&bt(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&bt(c,t))return o[t]=3,s[t];if(n!==Et&&bt(n,t))return o[t]=4,n[t];To&&(o[t]=0)}}const h=Ei[t];let d,f;if(h)return t==="$attrs"&&Xt(e.attrs,"get",""),h(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Et&&bt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,bt(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return js(r,t)?(r[t]=n,!0):i!==Et&&bt(i,t)?(i[t]=n,!0):bt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||e!==Et&&bt(e,o)||js(t,o)||(a=s[0])&&bt(a,o)||bt(i,o)||bt(Ei,o)||bt(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:bt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ya(e){return it(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let To=!0;function uf(e){const t=ma(e),n=e.proxy,i=e.ctx;To=!1,t.beforeCreate&&Xa(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:d,mounted:f,beforeUpdate:u,updated:p,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:E,destroyed:g,unmounted:_,render:S,renderTracked:P,renderTriggered:M,errorCaptured:T,serverPrefetch:F,expose:C,inheritAttrs:A,components:D,directives:K,filters:nt}=t;if(c&&df(c,i,null),o)for(const q in o){const J=o[q];lt(J)&&(i[q]=J.bind(n))}if(r){const q=r.call(n,n);At(q)&&(e.data=ti(q))}if(To=!0,s)for(const q in s){const J=s[q],Ot=lt(J)?J.bind(n,n):lt(J.get)?J.get.bind(n,n):Oe,j=!lt(J)&&lt(J.set)?J.set.bind(n):Oe,Z=ne({get:Ot,set:j});Object.defineProperty(i,q,{enumerable:!0,configurable:!0,get:()=>Z.value,set:st=>Z.value=st})}if(a)for(const q in a)gh(a[q],i,n,q);if(l){const q=lt(l)?l.call(n):l;Reflect.ownKeys(q).forEach(J=>{sr(J,q[J])})}h&&Xa(h,e,"c");function Y(q,J){it(J)?J.forEach(Ot=>q(Ot.bind(n))):J&&q(J.bind(n))}if(Y(tf,d),Y($i,f),Y(ef,u),Y(ga,p),Y(Jd,m),Y(Qd,y),Y(of,T),Y(sf,P),Y(rf,M),Y(Dr,E),Y(pa,_),Y(nf,F),it(C))if(C.length){const q=e.exposed||(e.exposed={});C.forEach(J=>{Object.defineProperty(q,J,{get:()=>n[J],set:Ot=>n[J]=Ot})})}else e.exposed||(e.exposed={});S&&e.render===Oe&&(e.render=S),A!=null&&(e.inheritAttrs=A),D&&(e.components=D),K&&(e.directives=K),F&&uh(e)}function df(e,t,n=Oe){it(e)&&(e=Po(e));for(const i in e){const r=e[i];let s;At(r)?"default"in r?s=Ve(r.from||i,r.default,!0):s=Ve(r.from||i):s=Ve(r),Qt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function Xa(e,t,n){Me(it(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function gh(e,t,n,i){let r=i.includes(".")?Rh(n,i):()=>n[i];if(Bt(e)){const s=t[e];lt(s)&&Kn(r,s)}else if(lt(e))Kn(r,e.bind(n));else if(At(e))if(it(e))e.forEach(s=>gh(s,t,n,i));else{const s=lt(e.handler)?e.handler.bind(n):t[e.handler];lt(s)&&Kn(r,s,e)}}function ma(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(c=>pr(l,c,o,!0)),pr(l,t,o)),At(t)&&s.set(t,l),l}function pr(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&pr(e,s,n,!0),r&&r.forEach(o=>pr(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=ff[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const ff={data:Ja,props:Qa,emits:Qa,methods:bi,computed:bi,beforeCreate:te,created:te,beforeMount:te,mounted:te,beforeUpdate:te,updated:te,beforeDestroy:te,beforeUnmount:te,destroyed:te,unmounted:te,activated:te,deactivated:te,errorCaptured:te,serverPrefetch:te,components:bi,directives:bi,watch:pf,provide:Ja,inject:gf};function Ja(e,t){return t?e?function(){return zt(lt(e)?e.call(this,this):e,lt(t)?t.call(this,this):t)}:t:e}function gf(e,t){return bi(Po(e),Po(t))}function Po(e){if(it(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function te(e,t){return e?[...new Set([].concat(e,t))]:t}function bi(e,t){return e?zt(Object.create(null),e,t):t}function Qa(e,t){return e?it(e)&&it(t)?[...new Set([...e,...t])]:zt(Object.create(null),Ya(e),Ya(t??{})):t}function pf(e,t){if(!e)return t;if(!t)return e;const n=zt(Object.create(null),e);for(const i in t)n[i]=te(e[i],t[i]);return n}function ph(){return{app:null,config:{isNativeTag:sd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mf=0;function _f(e,t){return function(i,r=null){lt(i)||(i=zt({},i)),r!=null&&!At(r)&&(r=null);const s=ph(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:mf++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Zf,get config(){return s.config},set config(h){},use(h,...d){return o.has(h)||(h&&lt(h.install)?(o.add(h),h.install(c,...d)):lt(h)&&(o.add(h),h(c,...d))),c},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),c},component(h,d){return d?(s.components[h]=d,c):s.components[h]},directive(h,d){return d?(s.directives[h]=d,c):s.directives[h]},mount(h,d,f){if(!l){const u=c._ceVNode||Vt(i,r);return u.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(u,h):e(u,h,f),l=!0,c._container=h,h.__vue_app__=c,Br(u.component)}},onUnmount(h){a.push(h)},unmount(){l&&(Me(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(h,d){return s.provides[h]=d,c},runWithContext(h){const d=zn;zn=c;try{return h()}finally{zn=d}}};return c}}let zn=null;function sr(e,t){if(qt){let n=qt.provides;const i=qt.parent&&qt.parent.provides;i===n&&(n=qt.provides=Object.create(i)),n[e]=t}}function Ve(e,t,n=!1){const i=qt||ie;if(i||zn){const r=zn?zn._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&lt(t)?t.call(i&&i.proxy):t}}const mh={},_h=()=>Object.create(mh),yh=e=>Object.getPrototypeOf(e)===mh;function yf(e,t,n,i=!1){const r={},s=_h();e.propsDefaults=Object.create(null),bh(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:nh(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function bf(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=yt(r),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(Ir(e.emitsOptions,f))continue;const u=t[f];if(l)if(bt(s,f))u!==s[f]&&(s[f]=u,c=!0);else{const p=pe(f);r[p]=Ro(l,a,p,u,e,!1)}else u!==s[f]&&(s[f]=u,c=!0)}}}else{bh(e,t,r,s)&&(c=!0);let h;for(const d in a)(!t||!bt(t,d)&&((h=En(d))===d||!bt(t,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(r[d]=Ro(l,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!bt(t,d))&&(delete s[d],c=!0)}c&&$e(e.attrs,"set","")}function bh(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Si(l))continue;const c=t[l];let h;r&&bt(r,h=pe(l))?!s||!s.includes(h)?n[h]=c:(a||(a={}))[h]=c:Ir(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=yt(n),c=a||Et;for(let h=0;h<s.length;h++){const d=s[h];n[d]=Ro(r,l,d,c[d],e,!bt(c,d))}}return o}function Ro(e,t,n,i,r,s){const o=e[n];if(o!=null){const a=bt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&lt(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const h=Hi(r);i=c[n]=l.call(null,t),h()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===En(n))&&(i=!0))}return i}const vf=new WeakMap;function vh(e,t,n=!1){const i=n?vf:t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},a=[];let l=!1;if(!lt(e)){const h=d=>{l=!0;const[f,u]=vh(d,t,!0);zt(o,f),u&&a.push(...u)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!s&&!l)return At(e)&&i.set(e,$n),$n;if(it(s))for(let h=0;h<s.length;h++){const d=pe(s[h]);Za(d)&&(o[d]=Et)}else if(s)for(const h in s){const d=pe(h);if(Za(d)){const f=s[h],u=o[d]=it(f)||lt(f)?{type:f}:zt({},f),p=u.type;let m=!1,y=!0;if(it(p))for(let v=0;v<p.length;++v){const E=p[v],g=lt(E)&&E.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(y=!1)}else m=lt(p)&&p.name==="Boolean";u[0]=m,u[1]=y,(m||bt(u,"default"))&&a.push(d)}}const c=[o,a];return At(e)&&i.set(e,c),c}function Za(e){return e[0]!=="$"&&!Si(e)}const Sh=e=>e[0]==="_"||e==="$stable",_a=e=>it(e)?e.map(Re):[Re(e)],Sf=(e,t,n)=>{if(t._n)return t;const i=wo((...r)=>_a(t(...r)),n);return i._c=!1,i},wh=(e,t,n)=>{const i=e._ctx;for(const r in e){if(Sh(r))continue;const s=e[r];if(lt(s))t[r]=Sf(r,s,i);else if(s!=null){const o=_a(s);t[r]=()=>o}}},Ch=(e,t)=>{const n=_a(t);e.slots.default=()=>n},xh=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},wf=(e,t,n)=>{const i=e.slots=_h();if(e.vnode.shapeFlag&32){const r=t._;r?(xh(i,t,n),n&&Ic(i,"_",r,!0)):wh(t,i)}else t&&Ch(e,t)},Cf=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=Et;if(i.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:xh(r,t,n):(s=!t.$stable,wh(t,r)),o=t}else t&&(Ch(e,t),o={default:1});if(s)for(const a in r)!Sh(a)&&o[a]==null&&delete r[a]},ce=If;function xf(e){return Ef(e)}function Ef(e,t){const n=Or();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:d,nextSibling:f,setScopeId:u=Oe,insertStaticContent:p}=e,m=(w,x,R,I=null,L=null,G=null,W=void 0,H=null,$=!!x.dynamicChildren)=>{if(w===x)return;w&&!di(w,x)&&(I=b(w),st(w,L,G,!0),w=null),x.patchFlag===-2&&($=!1,x.dynamicChildren=null);const{type:B,ref:tt,shapeFlag:z}=x;switch(B){case Gr:y(w,x,R,I);break;case Cn:v(w,x,R,I);break;case Ks:w==null&&E(x,R,I,W);break;case Ht:D(w,x,R,I,L,G,W,H,$);break;default:z&1?S(w,x,R,I,L,G,W,H,$):z&6?K(w,x,R,I,L,G,W,H,$):(z&64||z&128)&&B.process(w,x,R,I,L,G,W,H,$,U)}tt!=null&&L&&xo(tt,w&&w.ref,G,x||w,!x)},y=(w,x,R,I)=>{if(w==null)i(x.el=a(x.children),R,I);else{const L=x.el=w.el;x.children!==w.children&&c(L,x.children)}},v=(w,x,R,I)=>{w==null?i(x.el=l(x.children||""),R,I):x.el=w.el},E=(w,x,R,I)=>{[w.el,w.anchor]=p(w.children,x,R,I,w.el,w.anchor)},g=({el:w,anchor:x},R,I)=>{let L;for(;w&&w!==x;)L=f(w),i(w,R,I),w=L;i(x,R,I)},_=({el:w,anchor:x})=>{let R;for(;w&&w!==x;)R=f(w),r(w),w=R;r(x)},S=(w,x,R,I,L,G,W,H,$)=>{x.type==="svg"?W="svg":x.type==="math"&&(W="mathml"),w==null?P(x,R,I,L,G,W,H,$):F(w,x,L,G,W,H,$)},P=(w,x,R,I,L,G,W,H)=>{let $,B;const{props:tt,shapeFlag:z,transition:Q,dirs:at}=w;if($=w.el=o(w.type,G,tt&&tt.is,tt),z&8?h($,w.children):z&16&&T(w.children,$,null,I,L,Ws(w,G),W,H),at&&pn(w,null,I,"created"),M($,w,w.scopeId,W,I),tt){for(const Pt in tt)Pt!=="value"&&!Si(Pt)&&s($,Pt,null,tt[Pt],G,I);"value"in tt&&s($,"value",null,tt.value,G),(B=tt.onVnodeBeforeMount)&&Te(B,I,w)}at&&pn(w,null,I,"beforeMount");const pt=Tf(L,Q);pt&&Q.beforeEnter($),i($,x,R),((B=tt&&tt.onVnodeMounted)||pt||at)&&ce(()=>{B&&Te(B,I,w),pt&&Q.enter($),at&&pn(w,null,I,"mounted")},L)},M=(w,x,R,I,L)=>{if(R&&u(w,R),I)for(let G=0;G<I.length;G++)u(w,I[G]);if(L){let G=L.subTree;if(x===G||Oh(G.type)&&(G.ssContent===x||G.ssFallback===x)){const W=L.vnode;M(w,W,W.scopeId,W.slotScopeIds,L.parent)}}},T=(w,x,R,I,L,G,W,H,$=0)=>{for(let B=$;B<w.length;B++){const tt=w[B]=H?en(w[B]):Re(w[B]);m(null,tt,x,R,I,L,G,W,H)}},F=(w,x,R,I,L,G,W)=>{const H=x.el=w.el;let{patchFlag:$,dynamicChildren:B,dirs:tt}=x;$|=w.patchFlag&16;const z=w.props||Et,Q=x.props||Et;let at;if(R&&mn(R,!1),(at=Q.onVnodeBeforeUpdate)&&Te(at,R,x,w),tt&&pn(x,w,R,"beforeUpdate"),R&&mn(R,!0),(z.innerHTML&&Q.innerHTML==null||z.textContent&&Q.textContent==null)&&h(H,""),B?C(w.dynamicChildren,B,H,R,I,Ws(x,L),G):W||J(w,x,H,null,R,I,Ws(x,L),G,!1),$>0){if($&16)A(H,z,Q,R,L);else if($&2&&z.class!==Q.class&&s(H,"class",null,Q.class,L),$&4&&s(H,"style",z.style,Q.style,L),$&8){const pt=x.dynamicProps;for(let Pt=0;Pt<pt.length;Pt++){const vt=pt[Pt],oe=z[vt],Yt=Q[vt];(Yt!==oe||vt==="value")&&s(H,vt,oe,Yt,L,R)}}$&1&&w.children!==x.children&&h(H,x.children)}else!W&&B==null&&A(H,z,Q,R,L);((at=Q.onVnodeUpdated)||tt)&&ce(()=>{at&&Te(at,R,x,w),tt&&pn(x,w,R,"updated")},I)},C=(w,x,R,I,L,G,W)=>{for(let H=0;H<x.length;H++){const $=w[H],B=x[H],tt=$.el&&($.type===Ht||!di($,B)||$.shapeFlag&70)?d($.el):R;m($,B,tt,null,I,L,G,W,!0)}},A=(w,x,R,I,L)=>{if(x!==R){if(x!==Et)for(const G in x)!Si(G)&&!(G in R)&&s(w,G,x[G],null,L,I);for(const G in R){if(Si(G))continue;const W=R[G],H=x[G];W!==H&&G!=="value"&&s(w,G,H,W,L,I)}"value"in R&&s(w,"value",x.value,R.value,L)}},D=(w,x,R,I,L,G,W,H,$)=>{const B=x.el=w?w.el:a(""),tt=x.anchor=w?w.anchor:a("");let{patchFlag:z,dynamicChildren:Q,slotScopeIds:at}=x;at&&(H=H?H.concat(at):at),w==null?(i(B,R,I),i(tt,R,I),T(x.children||[],R,tt,L,G,W,H,$)):z>0&&z&64&&Q&&w.dynamicChildren?(C(w.dynamicChildren,Q,R,L,G,W,H),(x.key!=null||L&&x===L.subTree)&&Eh(w,x,!0)):J(w,x,R,tt,L,G,W,H,$)},K=(w,x,R,I,L,G,W,H,$)=>{x.slotScopeIds=H,w==null?x.shapeFlag&512?L.ctx.activate(x,R,I,W,$):nt(x,R,I,L,G,W,$):V(w,x,$)},nt=(w,x,R,I,L,G,W)=>{const H=w.component=zf(w,I,L);if(dh(w)&&(H.ctx.renderer=U),Kf(H,!1,W),H.asyncDep){if(L&&L.registerDep(H,Y,W),!w.el){const $=H.subTree=Vt(Cn);v(null,$,x,R)}}else Y(H,w,x,R,L,G,W)},V=(w,x,R)=>{const I=x.component=w.component;if(Lf(w,x,R))if(I.asyncDep&&!I.asyncResolved){q(I,x,R);return}else I.next=x,I.update();else x.el=w.el,I.vnode=x},Y=(w,x,R,I,L,G,W)=>{const H=()=>{if(w.isMounted){let{next:z,bu:Q,u:at,parent:pt,vnode:Pt}=w;{const ae=Th(w);if(ae){z&&(z.el=Pt.el,q(w,z,W)),ae.asyncDep.then(()=>{w.isUnmounted||H()});return}}let vt=z,oe;mn(w,!1),z?(z.el=Pt.el,q(w,z,W)):z=Pt,Q&&rr(Q),(oe=z.props&&z.props.onVnodeBeforeUpdate)&&Te(oe,pt,z,Pt),mn(w,!0);const Yt=zs(w),_e=w.subTree;w.subTree=Yt,m(_e,Yt,d(_e.el),b(_e),w,L,G),z.el=Yt.el,vt===null&&Df(w,Yt.el),at&&ce(at,L),(oe=z.props&&z.props.onVnodeUpdated)&&ce(()=>Te(oe,pt,z,Pt),L)}else{let z;const{el:Q,props:at}=x,{bm:pt,m:Pt,parent:vt,root:oe,type:Yt}=w,_e=xi(x);if(mn(w,!1),pt&&rr(pt),!_e&&(z=at&&at.onVnodeBeforeMount)&&Te(z,vt,x),mn(w,!0),Q&&ot){const ae=()=>{w.subTree=zs(w),ot(Q,w.subTree,w,L,null)};_e&&Yt.__asyncHydrate?Yt.__asyncHydrate(Q,w,ae):ae()}else{oe.ce&&oe.ce._injectChildStyle(Yt);const ae=w.subTree=zs(w);m(null,ae,R,I,w,L,G),x.el=ae.el}if(Pt&&ce(Pt,L),!_e&&(z=at&&at.onVnodeMounted)){const ae=x;ce(()=>Te(z,vt,ae),L)}(x.shapeFlag&256||vt&&xi(vt.vnode)&&vt.vnode.shapeFlag&256)&&w.a&&ce(w.a,L),w.isMounted=!0,x=R=I=null}};w.scope.on();const $=w.effect=new Hc(H);w.scope.off();const B=w.update=$.run.bind($),tt=w.job=$.runIfDirty.bind($);tt.i=w,tt.id=w.uid,$.scheduler=()=>da(tt),mn(w,!0),B()},q=(w,x,R)=>{x.component=w;const I=w.vnode.props;w.vnode=x,w.next=null,bf(w,x.props,I,R),Cf(w,x.children,R),an(),Ka(w),ln()},J=(w,x,R,I,L,G,W,H,$=!1)=>{const B=w&&w.children,tt=w?w.shapeFlag:0,z=x.children,{patchFlag:Q,shapeFlag:at}=x;if(Q>0){if(Q&128){j(B,z,R,I,L,G,W,H,$);return}else if(Q&256){Ot(B,z,R,I,L,G,W,H,$);return}}at&8?(tt&16&&xt(B,L,G),z!==B&&h(R,z)):tt&16?at&16?j(B,z,R,I,L,G,W,H,$):xt(B,L,G,!0):(tt&8&&h(R,""),at&16&&T(z,R,I,L,G,W,H,$))},Ot=(w,x,R,I,L,G,W,H,$)=>{w=w||$n,x=x||$n;const B=w.length,tt=x.length,z=Math.min(B,tt);let Q;for(Q=0;Q<z;Q++){const at=x[Q]=$?en(x[Q]):Re(x[Q]);m(w[Q],at,R,null,L,G,W,H,$)}B>tt?xt(w,L,G,!0,!1,z):T(x,R,I,L,G,W,H,$,z)},j=(w,x,R,I,L,G,W,H,$)=>{let B=0;const tt=x.length;let z=w.length-1,Q=tt-1;for(;B<=z&&B<=Q;){const at=w[B],pt=x[B]=$?en(x[B]):Re(x[B]);if(di(at,pt))m(at,pt,R,null,L,G,W,H,$);else break;B++}for(;B<=z&&B<=Q;){const at=w[z],pt=x[Q]=$?en(x[Q]):Re(x[Q]);if(di(at,pt))m(at,pt,R,null,L,G,W,H,$);else break;z--,Q--}if(B>z){if(B<=Q){const at=Q+1,pt=at<tt?x[at].el:I;for(;B<=Q;)m(null,x[B]=$?en(x[B]):Re(x[B]),R,pt,L,G,W,H,$),B++}}else if(B>Q)for(;B<=z;)st(w[B],L,G,!0),B++;else{const at=B,pt=B,Pt=new Map;for(B=pt;B<=Q;B++){const le=x[B]=$?en(x[B]):Re(x[B]);le.key!=null&&Pt.set(le.key,B)}let vt,oe=0;const Yt=Q-pt+1;let _e=!1,ae=0;const hi=new Array(Yt);for(B=0;B<Yt;B++)hi[B]=0;for(B=at;B<=z;B++){const le=w[B];if(oe>=Yt){st(le,L,G,!0);continue}let Ee;if(le.key!=null)Ee=Pt.get(le.key);else for(vt=pt;vt<=Q;vt++)if(hi[vt-pt]===0&&di(le,x[vt])){Ee=vt;break}Ee===void 0?st(le,L,G,!0):(hi[Ee-pt]=B+1,Ee>=ae?ae=Ee:_e=!0,m(le,x[Ee],R,null,L,G,W,H,$),oe++)}const $a=_e?Pf(hi):$n;for(vt=$a.length-1,B=Yt-1;B>=0;B--){const le=pt+B,Ee=x[le],Ha=le+1<tt?x[le+1].el:I;hi[B]===0?m(null,Ee,R,Ha,L,G,W,H,$):_e&&(vt<0||B!==$a[vt]?Z(Ee,R,Ha,2):vt--)}}},Z=(w,x,R,I,L=null)=>{const{el:G,type:W,transition:H,children:$,shapeFlag:B}=w;if(B&6){Z(w.component.subTree,x,R,I);return}if(B&128){w.suspense.move(x,R,I);return}if(B&64){W.move(w,x,R,U);return}if(W===Ht){i(G,x,R);for(let z=0;z<$.length;z++)Z($[z],x,R,I);i(w.anchor,x,R);return}if(W===Ks){g(w,x,R);return}if(I!==2&&B&1&&H)if(I===0)H.beforeEnter(G),i(G,x,R),ce(()=>H.enter(G),L);else{const{leave:z,delayLeave:Q,afterLeave:at}=H,pt=()=>i(G,x,R),Pt=()=>{z(G,()=>{pt(),at&&at()})};Q?Q(G,pt,Pt):Pt()}else i(G,x,R)},st=(w,x,R,I=!1,L=!1)=>{const{type:G,props:W,ref:H,children:$,dynamicChildren:B,shapeFlag:tt,patchFlag:z,dirs:Q,cacheIndex:at}=w;if(z===-2&&(L=!1),H!=null&&xo(H,null,R,w,!0),at!=null&&(x.renderCache[at]=void 0),tt&256){x.ctx.deactivate(w);return}const pt=tt&1&&Q,Pt=!xi(w);let vt;if(Pt&&(vt=W&&W.onVnodeBeforeUnmount)&&Te(vt,x,w),tt&6)Kt(w.component,R,I);else{if(tt&128){w.suspense.unmount(R,I);return}pt&&pn(w,null,x,"beforeUnmount"),tt&64?w.type.remove(w,x,R,U,I):B&&!B.hasOnce&&(G!==Ht||z>0&&z&64)?xt(B,x,R,!1,!0):(G===Ht&&z&384||!L&&tt&16)&&xt($,x,R),I&&dt(w)}(Pt&&(vt=W&&W.onVnodeUnmounted)||pt)&&ce(()=>{vt&&Te(vt,x,w),pt&&pn(w,null,x,"unmounted")},R)},dt=w=>{const{type:x,el:R,anchor:I,transition:L}=w;if(x===Ht){mt(R,I);return}if(x===Ks){_(w);return}const G=()=>{r(R),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(w.shapeFlag&1&&L&&!L.persisted){const{leave:W,delayLeave:H}=L,$=()=>W(R,G);H?H(w.el,G,$):$()}else G()},mt=(w,x)=>{let R;for(;w!==x;)R=f(w),r(w),w=R;r(x)},Kt=(w,x,R)=>{const{bum:I,scope:L,job:G,subTree:W,um:H,m:$,a:B}=w;tl($),tl(B),I&&rr(I),L.stop(),G&&(G.flags|=8,st(W,w,x,R)),H&&ce(H,x),ce(()=>{w.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},xt=(w,x,R,I=!1,L=!1,G=0)=>{for(let W=G;W<w.length;W++)st(w[W],x,R,I,L)},b=w=>{if(w.shapeFlag&6)return b(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const x=f(w.anchor||w.el),R=x&&x[Yd];return R?f(R):x};let O=!1;const N=(w,x,R)=>{w==null?x._vnode&&st(x._vnode,null,null,!0):m(x._vnode||null,w,x,null,null,null,R),x._vnode=w,O||(O=!0,Ka(),lh(),O=!1)},U={p:m,um:st,m:Z,r:dt,mt:nt,mc:T,pc:J,pbc:C,n:b,o:e};let X,ot;return{render:N,hydrate:X,createApp:_f(N,X)}}function Ws({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function mn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Tf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Eh(e,t,n=!1){const i=e.children,r=t.children;if(it(i)&&it(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=en(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Eh(o,a)),a.type===Gr&&(a.el=o.el)}}function Pf(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(r=n[n.length-1],e[r]<c){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<c?s=a+1:o=a;c<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function Th(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Th(t)}function tl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Rf=Symbol.for("v-scx"),Af=()=>Ve(Rf);function Kn(e,t,n){return Ph(e,t,n)}function Ph(e,t,n=Et){const{immediate:i,deep:r,flush:s,once:o}=n,a=zt({},n),l=t&&i||!t&&s!=="post";let c;if(ki){if(s==="sync"){const u=Af();c=u.__watcherHandles||(u.__watcherHandles=[])}else if(!l){const u=()=>{};return u.stop=Oe,u.resume=Oe,u.pause=Oe,u}}const h=qt;a.call=(u,p,m)=>Me(u,h,p,m);let d=!1;s==="post"?a.scheduler=u=>{ce(u,h&&h.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(u,p)=>{p?u():da(u)}),a.augmentJob=u=>{t&&(u.flags|=4),d&&(u.flags|=2,h&&(u.id=h.uid,u.i=h))};const f=Wd(e,t,a);return ki&&(c?c.push(f):l&&f()),f}function Of(e,t,n){const i=this.proxy,r=Bt(e)?e.includes(".")?Rh(i,e):()=>i[e]:e.bind(i,i);let s;lt(t)?s=t:(s=t.handler,n=t);const o=Hi(this),a=Ph(r,s.bind(i),n);return o(),a}function Rh(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const Ff=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${pe(t)}Modifiers`]||e[`${En(t)}Modifiers`];function Mf(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Et;let r=n;const s=t.startsWith("update:"),o=s&&Ff(i,t.slice(7));o&&(o.trim&&(r=n.map(h=>Bt(h)?h.trim():h)),o.number&&(r=n.map(Gc)));let a,l=i[a=Bs(t)]||i[a=Bs(pe(t))];!l&&s&&(l=i[a=Bs(En(t))]),l&&Me(l,e,6,r);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Me(c,e,6,r)}}function Ah(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},a=!1;if(!lt(e)){const l=c=>{const h=Ah(c,t,!0);h&&(a=!0,zt(o,h))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(At(e)&&i.set(e,null),null):(it(s)?s.forEach(l=>o[l]=null):zt(o,s),At(e)&&i.set(e,o),o)}function Ir(e,t){return!e||!Tr(t)?!1:(t=t.slice(2).replace(/Once$/,""),bt(e,t[0].toLowerCase()+t.slice(1))||bt(e,En(t))||bt(e,t))}function zs(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:h,props:d,data:f,setupState:u,ctx:p,inheritAttrs:m}=e,y=gr(e);let v,E;try{if(n.shapeFlag&4){const _=r||i,S=_;v=Re(c.call(S,_,h,d,u,f,p)),E=a}else{const _=t;v=Re(_.length>1?_(d,{attrs:a,slots:o,emit:l}):_(d,null)),E=t.props?a:kf(a)}}catch(_){Ti.length=0,kr(_,e,1),v=Vt(Cn)}let g=v;if(E&&m!==!1){const _=Object.keys(E),{shapeFlag:S}=g;_.length&&S&7&&(s&&_.some(Zo)&&(E=Nf(E,s)),g=qn(g,E,!1,!0))}return n.dirs&&(g=qn(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&fa(g,n.transition),v=g,gr(y),v}const kf=e=>{let t;for(const n in e)(n==="class"||n==="style"||Tr(n))&&((t||(t={}))[n]=e[n]);return t},Nf=(e,t)=>{const n={};for(const i in e)(!Zo(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Lf(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?el(i,o,c):!!o;if(l&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(o[f]!==i[f]&&!Ir(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?el(i,o,c):!0:!!o;return!1}function el(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!Ir(n,s))return!0}return!1}function Df({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const Oh=e=>e.__isSuspense;function If(e,t){t&&t.pendingBranch?it(e)?t.effects.push(...e):t.effects.push(e):qd(e)}const Ht=Symbol.for("v-fgt"),Gr=Symbol.for("v-txt"),Cn=Symbol.for("v-cmt"),Ks=Symbol.for("v-stc"),Ti=[];let ue=null;function wt(e=!1){Ti.push(ue=e?null:[])}function Gf(){Ti.pop(),ue=Ti[Ti.length-1]||null}let Mi=1;function nl(e){Mi+=e,e<0&&ue&&(ue.hasOnce=!0)}function Fh(e){return e.dynamicChildren=Mi>0?ue||$n:null,Gf(),Mi>0&&ue&&ue.push(e),e}function kt(e,t,n,i,r,s){return Fh(Mt(e,t,n,i,r,s,!0))}function vi(e,t,n,i,r){return Fh(Vt(e,t,n,i,r,!0))}function mr(e){return e?e.__v_isVNode===!0:!1}function di(e,t){return e.type===t.type&&e.key===t.key}const Mh=({key:e})=>e??null,or=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Bt(e)||Qt(e)||lt(e)?{i:ie,r:e,k:t,f:!!n}:e:null);function Mt(e,t=null,n=null,i=0,r=null,s=e===Ht?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mh(t),ref:t&&or(t),scopeId:hh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ie};return a?(ya(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Bt(n)?8:16),Mi>0&&!o&&ue&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ue.push(l),l}const Vt=Bf;function Bf(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===lf)&&(e=Cn),mr(e)){const a=qn(e,t,!0);return n&&ya(a,n),Mi>0&&!s&&ue&&(a.shapeFlag&6?ue[ue.indexOf(e)]=a:ue.push(a)),a.patchFlag=-2,a}if(Qf(e)&&(e=e.__vccOpts),t){t=Uf(t);let{class:a,style:l}=t;a&&!Bt(a)&&(t.class=ia(a)),At(l)&&(ha(l)&&!it(l)&&(l=zt({},l)),t.style=na(l))}const o=Bt(e)?1:Oh(e)?128:Xd(e)?64:At(e)?4:lt(e)?2:0;return Mt(e,t,n,i,r,o,s,!0)}function Uf(e){return e?ha(e)||yh(e)?zt({},e):e:null}function qn(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=e,c=t?Vf(r||{},t):r,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Mh(c),ref:t&&t.ref?n&&s?it(s)?s.concat(or(t)):[s,or(t)]:or(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ht?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qn(e.ssContent),ssFallback:e.ssFallback&&qn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&fa(h,l.clone(h)),h}function $f(e=" ",t=0){return Vt(Gr,null,e,t)}function Hf(e="",t=!1){return t?(wt(),vi(Cn,null,e)):Vt(Cn,null,e)}function Re(e){return e==null||typeof e=="boolean"?Vt(Cn):it(e)?Vt(Ht,null,e.slice()):mr(e)?en(e):Vt(Gr,null,String(e))}function en(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qn(e)}function ya(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(it(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),ya(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!yh(t)?t._ctx=ie:r===3&&ie&&(ie.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else lt(t)?(t={default:t,_ctx:ie},n=32):(t=String(t),i&64?(n=16,t=[$f(t)]):n=8);e.children=t,e.shapeFlag|=n}function Vf(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=ia([t.class,i.class]));else if(r==="style")t.style=na([t.style,i.style]);else if(Tr(r)){const s=t[r],o=i[r];o&&s!==o&&!(it(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function Te(e,t,n,i=null){Me(e,t,7,[n,i])}const jf=ph();let Wf=0;function zf(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||jf,s={uid:Wf++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vh(i,r),emitsOptions:Ah(i,r),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:i.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Mf.bind(null,s),e.ce&&e.ce(s),s}let qt=null;const kh=()=>qt||ie;let _r,Ao;{const e=Or(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};_r=t("__VUE_INSTANCE_SETTERS__",n=>qt=n),Ao=t("__VUE_SSR_SETTERS__",n=>ki=n)}const Hi=e=>{const t=qt;return _r(e),e.scope.on(),()=>{e.scope.off(),_r(t)}},il=()=>{qt&&qt.scope.off(),_r(null)};function Nh(e){return e.vnode.shapeFlag&4}let ki=!1;function Kf(e,t=!1,n=!1){t&&Ao(t);const{props:i,children:r}=e.vnode,s=Nh(e);yf(e,i,s,t),wf(e,r,n);const o=s?qf(e,t):void 0;return t&&Ao(!1),o}function qf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hf);const{setup:i}=n;if(i){an();const r=e.setupContext=i.length>1?Xf(e):null,s=Hi(e),o=Ui(i,e,0,[e.props,r]),a=Nc(o);if(ln(),s(),(a||e.sp)&&!xi(e)&&uh(e),a){if(o.then(il,il),t)return o.then(l=>{rl(e,l,t)}).catch(l=>{kr(l,e,0)});e.asyncDep=o}else rl(e,o,t)}else Lh(e,t)}function rl(e,t,n){lt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:At(t)&&(e.setupState=sh(t)),Lh(e,n)}let sl;function Lh(e,t,n){const i=e.type;if(!e.render){if(!t&&sl&&!i.render){const r=i.template||ma(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=zt(zt({isCustomElement:s,delimiters:a},o),l);i.render=sl(r,c)}}e.render=i.render||Oe}{const r=Hi(e);an();try{uf(e)}finally{ln(),r()}}}const Yf={get(e,t){return Xt(e,"get",""),e[t]}};function Xf(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Yf),slots:e.slots,emit:e.emit,expose:t}}function Br(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sh(Gd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ei)return Ei[n](e)},has(t,n){return n in t||n in Ei}})):e.proxy}function Jf(e,t=!0){return lt(e)?e.displayName||e.name:e.name||t&&e.__name}function Qf(e){return lt(e)&&"__vccOpts"in e}const ne=(e,t)=>Vd(e,t,ki);function Ur(e,t,n){const i=arguments.length;return i===2?At(t)&&!it(t)?mr(t)?Vt(e,null,[t]):Vt(e,t):Vt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&mr(n)&&(n=[n]),Vt(e,t,n))}const Zf="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oo;const ol=typeof window<"u"&&window.trustedTypes;if(ol)try{Oo=ol.createPolicy("vue",{createHTML:e=>e})}catch{}const Dh=Oo?e=>Oo.createHTML(e):e=>e,t0="http://www.w3.org/2000/svg",e0="http://www.w3.org/1998/Math/MathML",Ge=typeof document<"u"?document:null,al=Ge&&Ge.createElement("template"),n0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?Ge.createElementNS(t0,e):t==="mathml"?Ge.createElementNS(e0,e):n?Ge.createElement(e,{is:n}):Ge.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Ge.createTextNode(e),createComment:e=>Ge.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ge.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{al.innerHTML=Dh(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=al.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},i0=Symbol("_vtc");function r0(e,t,n){const i=e[i0];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ll=Symbol("_vod"),s0=Symbol("_vsh"),o0=Symbol(""),a0=/(^|;)\s*display\s*:/;function l0(e,t,n){const i=e.style,r=Bt(n);let s=!1;if(n&&!r){if(t)if(Bt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ar(i,a,"")}else for(const o in t)n[o]==null&&ar(i,o,"");for(const o in n)o==="display"&&(s=!0),ar(i,o,n[o])}else if(r){if(t!==n){const o=i[o0];o&&(n+=";"+o),i.cssText=n,s=a0.test(n)}}else t&&e.removeAttribute("style");ll in e&&(e[ll]=s?i.display:"",e[s0]&&(i.display="none"))}const cl=/\s*!important$/;function ar(e,t,n){if(it(n))n.forEach(i=>ar(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=c0(e,t);cl.test(n)?e.setProperty(En(i),n.replace(cl,""),"important"):e[i]=n}}const hl=["Webkit","Moz","ms"],qs={};function c0(e,t){const n=qs[t];if(n)return n;let i=pe(t);if(i!=="filter"&&i in e)return qs[t]=i;i=Ar(i);for(let r=0;r<hl.length;r++){const s=hl[r]+i;if(s in e)return qs[t]=s}return t}const ul="http://www.w3.org/1999/xlink";function dl(e,t,n,i,r,s=pd(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ul,t.slice(6,t.length)):e.setAttributeNS(ul,t,n):n==null||s&&!Bc(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Fe(n)?String(n):n)}function fl(e,t,n,i,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Dh(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Bc(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function Ih(e,t,n,i){e.addEventListener(t,n,i)}function h0(e,t,n,i){e.removeEventListener(t,n,i)}const gl=Symbol("_vei");function u0(e,t,n,i,r=null){const s=e[gl]||(e[gl]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=d0(t);if(i){const c=s[t]=p0(i,r);Ih(e,a,c,l)}else o&&(h0(e,a,o,l),s[t]=void 0)}}const pl=/(?:Once|Passive|Capture)$/;function d0(e){let t;if(pl.test(e)){t={};let i;for(;i=e.match(pl);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):En(e.slice(2)),t]}let Ys=0;const f0=Promise.resolve(),g0=()=>Ys||(f0.then(()=>Ys=0),Ys=Date.now());function p0(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Me(m0(i,n.value),t,5,[i])};return n.value=e,n.attached=g0(),n}function m0(e,t){if(it(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const ml=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,_0=(e,t,n,i,r,s)=>{const o=r==="svg";t==="class"?r0(e,i,o):t==="style"?l0(e,n,i):Tr(t)?Zo(t)||u0(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):y0(e,t,i,o))?(fl(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&dl(e,t,i,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Bt(i))?fl(e,pe(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),dl(e,t,i,o))};function y0(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&ml(t)&&lt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ml(t)&&Bt(n)?!1:t in e}const _l=e=>{const t=e.props["onUpdate:modelValue"]||!1;return it(t)?n=>rr(t,n):t},Xs=Symbol("_assign"),Fo={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=Pr(t);Ih(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Gc(yr(o)):yr(o));e[Xs](e.multiple?r?new Set(s):s:s[0]),e._assigning=!0,ua(()=>{e._assigning=!1})}),e[Xs]=_l(i)},mounted(e,{value:t}){yl(e,t)},beforeUpdate(e,t,n){e[Xs]=_l(n)},updated(e,{value:t}){e._assigning||yl(e,t)}};function yl(e,t){const n=e.multiple,i=it(t);if(!(n&&!i&&!Pr(t))){for(let r=0,s=e.options.length;r<s;r++){const o=e.options[r],a=yr(o);if(n)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=_d(t,a)>-1}else o.selected=t.has(a);else if(Fr(yr(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function yr(e){return"_value"in e?e._value:e.value}const b0=zt({patchProp:_0},n0);let bl;function v0(){return bl||(bl=xf(b0))}const S0=(...e)=>{const t=v0().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=C0(i);if(!r)return;const s=t._component;!lt(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,w0(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function w0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function C0(e){return Bt(e)?document.querySelector(e):e}const Tn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},x0={name:"App"},E0={id:"app"};function T0(e,t,n,i,r,s){const o=rn("router-view");return wt(),kt("div",E0,[Vt(o)])}const P0=Tn(x0,[["render",T0]]);/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Un=typeof document<"u";function Gh(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function R0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Gh(e.default)}const St=Object.assign;function Js(e,t){const n={};for(const i in t){const r=t[i];n[i]=we(r)?r.map(e):e(r)}return n}const Pi=()=>{},we=Array.isArray,Bh=/#/g,A0=/&/g,O0=/\//g,F0=/=/g,M0=/\?/g,Uh=/\+/g,k0=/%5B/g,N0=/%5D/g,$h=/%5E/g,L0=/%60/g,Hh=/%7B/g,D0=/%7C/g,Vh=/%7D/g,I0=/%20/g;function ba(e){return encodeURI(""+e).replace(D0,"|").replace(k0,"[").replace(N0,"]")}function G0(e){return ba(e).replace(Hh,"{").replace(Vh,"}").replace($h,"^")}function Mo(e){return ba(e).replace(Uh,"%2B").replace(I0,"+").replace(Bh,"%23").replace(A0,"%26").replace(L0,"`").replace(Hh,"{").replace(Vh,"}").replace($h,"^")}function B0(e){return Mo(e).replace(F0,"%3D")}function U0(e){return ba(e).replace(Bh,"%23").replace(M0,"%3F")}function $0(e){return e==null?"":U0(e).replace(O0,"%2F")}function Ni(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const H0=/\/$/,V0=e=>e.replace(H0,"");function Qs(e,t,n="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=K0(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:Ni(o)}}function j0(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function vl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function W0(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Yn(t.matched[i],n.matched[r])&&jh(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Yn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!z0(e[n],t[n]))return!1;return!0}function z0(e,t){return we(e)?Sl(e,t):we(t)?Sl(t,e):e===t}function Sl(e,t){return we(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function K0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const Xe={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Li;(function(e){e.pop="pop",e.push="push"})(Li||(Li={}));var Ri;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ri||(Ri={}));function q0(e){if(!e)if(Un){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),V0(e)}const Y0=/^[^#]+#/;function X0(e,t){return e.replace(Y0,"#")+t}function J0(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const $r=()=>({left:window.scrollX,top:window.scrollY});function Q0(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=J0(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function wl(e,t){return(history.state?history.state.position-t:-1)+e}const ko=new Map;function Z0(e,t){ko.set(e,t)}function t1(e){const t=ko.get(e);return ko.delete(e),t}let e1=()=>location.protocol+"//"+location.host;function Wh(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),vl(l,"")}return vl(n,e)+i+r}function n1(e,t,n,i){let r=[],s=[],o=null;const a=({state:f})=>{const u=Wh(e,location),p=n.value,m=t.value;let y=0;if(f){if(n.value=u,t.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else i(u);r.forEach(v=>{v(n.value,p,{delta:y,type:Li.pop,direction:y?y>0?Ri.forward:Ri.back:Ri.unknown})})};function l(){o=n.value}function c(f){r.push(f);const u=()=>{const p=r.indexOf(f);p>-1&&r.splice(p,1)};return s.push(u),u}function h(){const{history:f}=window;f.state&&f.replaceState(St({},f.state,{scroll:$r()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Cl(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?$r():null}}function i1(e){const{history:t,location:n}=window,i={value:Wh(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,h){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:e1()+e+l;try{t[h?"replaceState":"pushState"](c,"",f),r.value=c}catch(u){console.error(u),n[h?"replace":"assign"](f)}}function o(l,c){const h=St({},t.state,Cl(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,h,!0),i.value=l}function a(l,c){const h=St({},r.value,t.state,{forward:l,scroll:$r()});s(h.current,h,!0);const d=St({},Cl(i.value,l,null),{position:h.position+1},c);s(l,d,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function r1(e){e=q0(e);const t=i1(e),n=n1(e,t.state,t.location,t.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=St({location:"",base:e,go:i,createHref:X0.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function s1(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),r1(e)}function o1(e){return typeof e=="string"||e&&typeof e=="object"}function zh(e){return typeof e=="string"||typeof e=="symbol"}const Kh=Symbol("");var xl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(xl||(xl={}));function Xn(e,t){return St(new Error,{type:e,[Kh]:!0},t)}function Le(e,t){return e instanceof Error&&Kh in e&&(t==null||!!(e.type&t))}const El="[^/]+?",a1={sensitive:!1,strict:!1,start:!0,end:!0},l1=/[.+*?^${}()[\]/\\]/g;function c1(e,t){const n=St({},a1,t),i=[];let r=n.start?"^":"";const s=[];for(const c of e){const h=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let u=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(l1,"\\$&"),u+=40;else if(f.type===1){const{value:p,repeatable:m,optional:y,regexp:v}=f;s.push({name:p,repeatable:m,optional:y});const E=v||El;if(E!==El){u+=10;try{new RegExp(`(${E})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${p}" (${E}): `+_.message)}}let g=m?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(g=y&&c.length<2?`(?:/${g})`:"/"+g),y&&(g+="?"),r+=g,u+=20,y&&(u+=-8),m&&(u+=-20),E===".*"&&(u+=-50)}h.push(u)}i.push(h)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const h=c.match(o),d={};if(!h)return null;for(let f=1;f<h.length;f++){const u=h[f]||"",p=s[f-1];d[p.name]=u&&p.repeatable?u.split("/"):u}return d}function l(c){let h="",d=!1;for(const f of e){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const u of f)if(u.type===0)h+=u.value;else if(u.type===1){const{value:p,repeatable:m,optional:y}=u,v=p in c?c[p]:"";if(we(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const E=we(v)?v.join("/"):v;if(!E)if(y)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);h+=E}}return h||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function h1(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function qh(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=h1(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(Tl(i))return 1;if(Tl(r))return-1}return r.length-i.length}function Tl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const u1={type:0,value:""},d1=/[a-zA-Z0-9_]/;function f1(e){if(!e)return[[]];if(e==="/")return[[u1]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(u){throw new Error(`ERR (${n})/"${c}": ${u}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",h="";function d(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:d1.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function g1(e,t,n){const i=c1(f1(e.path),n),r=St(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function p1(e,t){const n=[],i=new Map;t=Ol({strict:!1,end:!0,sensitive:!1},t);function r(d){return i.get(d)}function s(d,f,u){const p=!u,m=Rl(d);m.aliasOf=u&&u.record;const y=Ol(t,d),v=[m];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const S of _)v.push(Rl(St({},m,{components:u?u.record.components:m.components,path:S,aliasOf:u?u.record:m})))}let E,g;for(const _ of v){const{path:S}=_;if(f&&S[0]!=="/"){const P=f.record.path,M=P[P.length-1]==="/"?"":"/";_.path=f.record.path+(S&&M+S)}if(E=g1(_,f,y),u?u.alias.push(E):(g=g||E,g!==E&&g.alias.push(E),p&&d.name&&!Al(E)&&o(d.name)),Yh(E)&&l(E),m.children){const P=m.children;for(let M=0;M<P.length;M++)s(P[M],E,u&&u.children[M])}u=u||E}return g?()=>{o(g)}:Pi}function o(d){if(zh(d)){const f=i.get(d);f&&(i.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=y1(d,n);n.splice(f,0,d),d.record.name&&!Al(d)&&i.set(d.record.name,d)}function c(d,f){let u,p={},m,y;if("name"in d&&d.name){if(u=i.get(d.name),!u)throw Xn(1,{location:d});y=u.record.name,p=St(Pl(f.params,u.keys.filter(g=>!g.optional).concat(u.parent?u.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),d.params&&Pl(d.params,u.keys.map(g=>g.name))),m=u.stringify(p)}else if(d.path!=null)m=d.path,u=n.find(g=>g.re.test(m)),u&&(p=u.parse(m),y=u.record.name);else{if(u=f.name?i.get(f.name):n.find(g=>g.re.test(f.path)),!u)throw Xn(1,{location:d,currentLocation:f});y=u.record.name,p=St({},f.params,d.params),m=u.stringify(p)}const v=[];let E=u;for(;E;)v.unshift(E.record),E=E.parent;return{name:y,path:m,params:p,matched:v,meta:_1(v)}}e.forEach(d=>s(d));function h(){n.length=0,i.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:r}}function Pl(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Rl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:m1(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function m1(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function Al(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function _1(e){return e.reduce((t,n)=>St(t,n.meta),{})}function Ol(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function y1(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;qh(e,t[s])<0?i=s:n=s+1}const r=b1(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function b1(e){let t=e;for(;t=t.parent;)if(Yh(t)&&qh(e,t)===0)return t}function Yh({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function v1(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(Uh," "),o=s.indexOf("="),a=Ni(o<0?s:s.slice(0,o)),l=o<0?null:Ni(s.slice(o+1));if(a in t){let c=t[a];we(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Fl(e){let t="";for(let n in e){const i=e[n];if(n=B0(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(we(i)?i.map(s=>s&&Mo(s)):[i&&Mo(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function S1(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=we(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const w1=Symbol(""),Ml=Symbol(""),va=Symbol(""),Xh=Symbol(""),No=Symbol("");function fi(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function nn(e,t,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Xn(4,{from:n,to:t})):f instanceof Error?l(f):o1(f)?l(Xn(2,{from:t,to:f})):(o&&i.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},h=s(()=>e.call(i&&i.instances[r],t,n,c));let d=Promise.resolve(h);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Zs(e,t,n,i,r=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Gh(l)){const h=(l.__vccOpts||l)[t];h&&s.push(nn(h,n,i,o,a,r))}else{let c=l();s.push(()=>c.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=R0(h)?h.default:h;o.mods[a]=h,o.components[a]=d;const u=(d.__vccOpts||d)[t];return u&&nn(u,n,i,o,a,r)()}))}}return s}function kl(e){const t=Ve(va),n=Ve(Xh),i=ne(()=>{const l=jn(e.to);return t.resolve(l)}),r=ne(()=>{const{matched:l}=i.value,{length:c}=l,h=l[c-1],d=n.matched;if(!h||!d.length)return-1;const f=d.findIndex(Yn.bind(null,h));if(f>-1)return f;const u=Nl(l[c-2]);return c>1&&Nl(h)===u&&d[d.length-1].path!==u?d.findIndex(Yn.bind(null,l[c-2])):f}),s=ne(()=>r.value>-1&&T1(n.params,i.value.params)),o=ne(()=>r.value>-1&&r.value===n.matched.length-1&&jh(n.params,i.value.params));function a(l={}){return E1(l)?t[jn(e.replace)?"replace":"push"](jn(e.to)).catch(Pi):Promise.resolve()}return{route:i,href:ne(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const C1=Nr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:kl,setup(e,{slots:t}){const n=ti(kl(e)),{options:i}=Ve(va),r=ne(()=>({[Ll(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Ll(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Ur("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),x1=C1;function E1(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function T1(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!we(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function Nl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ll=(e,t,n)=>e??t??n,P1=Nr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Ve(No),r=ne(()=>e.route||i.value),s=Ve(Ml,0),o=ne(()=>{let c=jn(s);const{matched:h}=r.value;let d;for(;(d=h[c])&&!d.components;)c++;return c}),a=ne(()=>r.value.matched[o.value]);sr(Ml,ne(()=>o.value+1)),sr(w1,a),sr(No,r);const l=Be();return Kn(()=>[l.value,a.value,e.name],([c,h,d],[f,u,p])=>{h&&(h.instances[d]=c,u&&u!==h&&c&&c===f&&(h.leaveGuards.size||(h.leaveGuards=u.leaveGuards),h.updateGuards.size||(h.updateGuards=u.updateGuards))),c&&h&&(!u||!Yn(h,u)||!f)&&(h.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=r.value,h=e.name,d=a.value,f=d&&d.components[h];if(!f)return Dl(n.default,{Component:f,route:c});const u=d.props[h],p=u?u===!0?c.params:typeof u=="function"?u(c):u:null,y=Ur(f,St({},p,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return Dl(n.default,{Component:y,route:c})||y}}});function Dl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const R1=P1;function A1(e){const t=p1(e.routes,e),n=e.parseQuery||v1,i=e.stringifyQuery||Fl,r=e.history,s=fi(),o=fi(),a=fi(),l=Bd(Xe);let c=Xe;Un&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Js.bind(null,b=>""+b),d=Js.bind(null,$0),f=Js.bind(null,Ni);function u(b,O){let N,U;return zh(b)?(N=t.getRecordMatcher(b),U=O):U=b,t.addRoute(U,N)}function p(b){const O=t.getRecordMatcher(b);O&&t.removeRoute(O)}function m(){return t.getRoutes().map(b=>b.record)}function y(b){return!!t.getRecordMatcher(b)}function v(b,O){if(O=St({},O||l.value),typeof b=="string"){const x=Qs(n,b,O.path),R=t.resolve({path:x.path},O),I=r.createHref(x.fullPath);return St(x,R,{params:f(R.params),hash:Ni(x.hash),redirectedFrom:void 0,href:I})}let N;if(b.path!=null)N=St({},b,{path:Qs(n,b.path,O.path).path});else{const x=St({},b.params);for(const R in x)x[R]==null&&delete x[R];N=St({},b,{params:d(x)}),O.params=d(O.params)}const U=t.resolve(N,O),X=b.hash||"";U.params=h(f(U.params));const ot=j0(i,St({},b,{hash:G0(X),path:U.path})),w=r.createHref(ot);return St({fullPath:ot,hash:X,query:i===Fl?S1(b.query):b.query||{}},U,{redirectedFrom:void 0,href:w})}function E(b){return typeof b=="string"?Qs(n,b,l.value.path):St({},b)}function g(b,O){if(c!==b)return Xn(8,{from:O,to:b})}function _(b){return M(b)}function S(b){return _(St(E(b),{replace:!0}))}function P(b){const O=b.matched[b.matched.length-1];if(O&&O.redirect){const{redirect:N}=O;let U=typeof N=="function"?N(b):N;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=E(U):{path:U},U.params={}),St({query:b.query,hash:b.hash,params:U.path!=null?{}:b.params},U)}}function M(b,O){const N=c=v(b),U=l.value,X=b.state,ot=b.force,w=b.replace===!0,x=P(N);if(x)return M(St(E(x),{state:typeof x=="object"?St({},X,x.state):X,force:ot,replace:w}),O||N);const R=N;R.redirectedFrom=O;let I;return!ot&&W0(i,U,N)&&(I=Xn(16,{to:R,from:U}),Z(U,U,!0,!1)),(I?Promise.resolve(I):C(R,U)).catch(L=>Le(L)?Le(L,2)?L:j(L):J(L,R,U)).then(L=>{if(L){if(Le(L,2))return M(St({replace:w},E(L.to),{state:typeof L.to=="object"?St({},X,L.to.state):X,force:ot}),O||R)}else L=D(R,U,!0,w,X);return A(R,U,L),L})}function T(b,O){const N=g(b,O);return N?Promise.reject(N):Promise.resolve()}function F(b){const O=mt.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(b):b()}function C(b,O){let N;const[U,X,ot]=O1(b,O);N=Zs(U.reverse(),"beforeRouteLeave",b,O);for(const x of U)x.leaveGuards.forEach(R=>{N.push(nn(R,b,O))});const w=T.bind(null,b,O);return N.push(w),xt(N).then(()=>{N=[];for(const x of s.list())N.push(nn(x,b,O));return N.push(w),xt(N)}).then(()=>{N=Zs(X,"beforeRouteUpdate",b,O);for(const x of X)x.updateGuards.forEach(R=>{N.push(nn(R,b,O))});return N.push(w),xt(N)}).then(()=>{N=[];for(const x of ot)if(x.beforeEnter)if(we(x.beforeEnter))for(const R of x.beforeEnter)N.push(nn(R,b,O));else N.push(nn(x.beforeEnter,b,O));return N.push(w),xt(N)}).then(()=>(b.matched.forEach(x=>x.enterCallbacks={}),N=Zs(ot,"beforeRouteEnter",b,O,F),N.push(w),xt(N))).then(()=>{N=[];for(const x of o.list())N.push(nn(x,b,O));return N.push(w),xt(N)}).catch(x=>Le(x,8)?x:Promise.reject(x))}function A(b,O,N){a.list().forEach(U=>F(()=>U(b,O,N)))}function D(b,O,N,U,X){const ot=g(b,O);if(ot)return ot;const w=O===Xe,x=Un?history.state:{};N&&(U||w?r.replace(b.fullPath,St({scroll:w&&x&&x.scroll},X)):r.push(b.fullPath,X)),l.value=b,Z(b,O,N,w),j()}let K;function nt(){K||(K=r.listen((b,O,N)=>{if(!Kt.listening)return;const U=v(b),X=P(U);if(X){M(St(X,{replace:!0}),U).catch(Pi);return}c=U;const ot=l.value;Un&&Z0(wl(ot.fullPath,N.delta),$r()),C(U,ot).catch(w=>Le(w,12)?w:Le(w,2)?(M(w.to,U).then(x=>{Le(x,20)&&!N.delta&&N.type===Li.pop&&r.go(-1,!1)}).catch(Pi),Promise.reject()):(N.delta&&r.go(-N.delta,!1),J(w,U,ot))).then(w=>{w=w||D(U,ot,!1),w&&(N.delta&&!Le(w,8)?r.go(-N.delta,!1):N.type===Li.pop&&Le(w,20)&&r.go(-1,!1)),A(U,ot,w)}).catch(Pi)}))}let V=fi(),Y=fi(),q;function J(b,O,N){j(b);const U=Y.list();return U.length?U.forEach(X=>X(b,O,N)):console.error(b),Promise.reject(b)}function Ot(){return q&&l.value!==Xe?Promise.resolve():new Promise((b,O)=>{V.add([b,O])})}function j(b){return q||(q=!b,nt(),V.list().forEach(([O,N])=>b?N(b):O()),V.reset()),b}function Z(b,O,N,U){const{scrollBehavior:X}=e;if(!Un||!X)return Promise.resolve();const ot=!N&&t1(wl(b.fullPath,0))||(U||!N)&&history.state&&history.state.scroll||null;return ua().then(()=>X(b,O,ot)).then(w=>w&&Q0(w)).catch(w=>J(w,b,O))}const st=b=>r.go(b);let dt;const mt=new Set,Kt={currentRoute:l,listening:!0,addRoute:u,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:m,resolve:v,options:e,push:_,replace:S,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:Y.add,isReady:Ot,install(b){const O=this;b.component("RouterLink",x1),b.component("RouterView",R1),b.config.globalProperties.$router=O,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>jn(l)}),Un&&!dt&&l.value===Xe&&(dt=!0,_(r.location).catch(X=>{}));const N={};for(const X in Xe)Object.defineProperty(N,X,{get:()=>l.value[X],enumerable:!0});b.provide(va,O),b.provide(Xh,nh(N)),b.provide(No,l);const U=b.unmount;mt.add(b),b.unmount=function(){mt.delete(b),mt.size<1&&(c=Xe,K&&K(),K=null,l.value=Xe,dt=!1,q=!1),U()}}};function xt(b){return b.reduce((O,N)=>O.then(()=>F(N)),Promise.resolve())}return Kt}function O1(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(c=>Yn(c,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Yn(c,l))||r.push(l))}return[n,i,r]}function Jh(e,t){return function(){return e.apply(t,arguments)}}const{toString:F1}=Object.prototype,{getPrototypeOf:Sa}=Object,Hr=(e=>t=>{const n=F1.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ce=e=>(e=e.toLowerCase(),t=>Hr(t)===e),Vr=e=>t=>typeof t===e,{isArray:ei}=Array,Di=Vr("undefined");function M1(e){return e!==null&&!Di(e)&&e.constructor!==null&&!Di(e.constructor)&&de(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qh=Ce("ArrayBuffer");function k1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Qh(e.buffer),t}const N1=Vr("string"),de=Vr("function"),Zh=Vr("number"),jr=e=>e!==null&&typeof e=="object",L1=e=>e===!0||e===!1,lr=e=>{if(Hr(e)!=="object")return!1;const t=Sa(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},D1=Ce("Date"),I1=Ce("File"),G1=Ce("Blob"),B1=Ce("FileList"),U1=e=>jr(e)&&de(e.pipe),$1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||de(e.append)&&((t=Hr(e))==="formdata"||t==="object"&&de(e.toString)&&e.toString()==="[object FormData]"))},H1=Ce("URLSearchParams"),[V1,j1,W1,z1]=["ReadableStream","Request","Response","Headers"].map(Ce),K1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),ei(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(i=0;i<o;i++)a=s[i],t.call(null,e[a],a,e)}}function tu(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eu=e=>!Di(e)&&e!==bn;function Lo(){const{caseless:e}=eu(this)&&this||{},t={},n=(i,r)=>{const s=e&&tu(t,r)||r;lr(t[s])&&lr(i)?t[s]=Lo(t[s],i):lr(i)?t[s]=Lo({},i):ei(i)?t[s]=i.slice():t[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Vi(arguments[i],n);return t}const q1=(e,t,n,{allOwnKeys:i}={})=>(Vi(t,(r,s)=>{n&&de(r)?e[s]=Jh(r,n):e[s]=r},{allOwnKeys:i}),e),Y1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),X1=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},J1=(e,t,n,i)=>{let r,s,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)o=r[s],(!i||i(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Sa(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Q1=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},Z1=e=>{if(!e)return null;if(ei(e))return e;let t=e.length;if(!Zh(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},tg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Sa(Uint8Array)),eg=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=i.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},ng=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},ig=Ce("HTMLFormElement"),rg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Il=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),sg=Ce("RegExp"),nu=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Vi(n,(r,s)=>{let o;(o=t(r,s,e))!==!1&&(i[s]=o||r)}),Object.defineProperties(e,i)},og=e=>{nu(e,(t,n)=>{if(de(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(de(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ag=(e,t)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return ei(e)?i(e):i(String(e).split(t)),n},lg=()=>{},cg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,to="abcdefghijklmnopqrstuvwxyz",Gl="0123456789",iu={DIGIT:Gl,ALPHA:to,ALPHA_DIGIT:to+to.toUpperCase()+Gl},hg=(e=16,t=iu.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function ug(e){return!!(e&&de(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const dg=e=>{const t=new Array(10),n=(i,r)=>{if(jr(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const s=ei(i)?[]:{};return Vi(i,(o,a)=>{const l=n(o,r+1);!Di(l)&&(s[a]=l)}),t[r]=void 0,s}}return i};return n(e,0)},fg=Ce("AsyncFunction"),gg=e=>e&&(jr(e)||de(e))&&de(e.then)&&de(e.catch),ru=((e,t)=>e?setImmediate:t?((n,i)=>(bn.addEventListener("message",({source:r,data:s})=>{r===bn&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),bn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",de(bn.postMessage)),pg=typeof queueMicrotask<"u"?queueMicrotask.bind(bn):typeof process<"u"&&process.nextTick||ru,k={isArray:ei,isArrayBuffer:Qh,isBuffer:M1,isFormData:$1,isArrayBufferView:k1,isString:N1,isNumber:Zh,isBoolean:L1,isObject:jr,isPlainObject:lr,isReadableStream:V1,isRequest:j1,isResponse:W1,isHeaders:z1,isUndefined:Di,isDate:D1,isFile:I1,isBlob:G1,isRegExp:sg,isFunction:de,isStream:U1,isURLSearchParams:H1,isTypedArray:tg,isFileList:B1,forEach:Vi,merge:Lo,extend:q1,trim:K1,stripBOM:Y1,inherits:X1,toFlatObject:J1,kindOf:Hr,kindOfTest:Ce,endsWith:Q1,toArray:Z1,forEachEntry:eg,matchAll:ng,isHTMLForm:ig,hasOwnProperty:Il,hasOwnProp:Il,reduceDescriptors:nu,freezeMethods:og,toObjectSet:ag,toCamelCase:rg,noop:lg,toFiniteNumber:cg,findKey:tu,global:bn,isContextDefined:eu,ALPHABET:iu,generateString:hg,isSpecCompliantForm:ug,toJSONObject:dg,isAsyncFn:fg,isThenable:gg,setImmediate:ru,asap:pg};function ct(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}k.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const su=ct.prototype,ou={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ou[e]={value:e}});Object.defineProperties(ct,ou);Object.defineProperty(su,"isAxiosError",{value:!0});ct.from=(e,t,n,i,r,s)=>{const o=Object.create(su);return k.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ct.call(o,e.message,t,n,i,r),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const mg=null;function Do(e){return k.isPlainObject(e)||k.isArray(e)}function au(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function Bl(e,t,n){return e?e.concat(t).map(function(r,s){return r=au(r),!n&&s?"["+r+"]":r}).join(n?".":""):t}function _g(e){return k.isArray(e)&&!e.some(Do)}const yg=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function Wr(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!k.isUndefined(y[m])});const i=n.metaTokens,r=n.visitor||h,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(r))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(k.isDate(p))return p.toISOString();if(!l&&k.isBlob(p))throw new ct("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(p)||k.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,m,y){let v=p;if(p&&!y&&typeof p=="object"){if(k.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(k.isArray(p)&&_g(p)||(k.isFileList(p)||k.endsWith(m,"[]"))&&(v=k.toArray(p)))return m=au(m),v.forEach(function(g,_){!(k.isUndefined(g)||g===null)&&t.append(o===!0?Bl([m],_,s):o===null?m:m+"[]",c(g))}),!1}return Do(p)?!0:(t.append(Bl(y,m,s),c(p)),!1)}const d=[],f=Object.assign(yg,{defaultVisitor:h,convertValue:c,isVisitable:Do});function u(p,m){if(!k.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),k.forEach(p,function(v,E){(!(k.isUndefined(v)||v===null)&&r.call(t,v,k.isString(E)?E.trim():E,m,f))===!0&&u(v,m?m.concat(E):[E])}),d.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return u(e),t}function Ul(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function wa(e,t){this._pairs=[],e&&Wr(e,this,t)}const lu=wa.prototype;lu.append=function(t,n){this._pairs.push([t,n])};lu.toString=function(t){const n=t?function(i){return t.call(this,i,Ul)}:Ul;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function bg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cu(e,t,n){if(!t)return e;const i=n&&n.encode||bg,r=n&&n.serialize;let s;if(r?s=r(t,n):s=k.isURLSearchParams(t)?t.toString():new wa(t,n).toString(i),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class $l{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(i){i!==null&&t(i)})}}const hu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vg=typeof URLSearchParams<"u"?URLSearchParams:wa,Sg=typeof FormData<"u"?FormData:null,wg=typeof Blob<"u"?Blob:null,Cg={isBrowser:!0,classes:{URLSearchParams:vg,FormData:Sg,Blob:wg},protocols:["http","https","file","blob","url","data"]},Ca=typeof window<"u"&&typeof document<"u",Io=typeof navigator=="object"&&navigator||void 0,xg=Ca&&(!Io||["ReactNative","NativeScript","NS"].indexOf(Io.product)<0),Eg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Tg=Ca&&window.location.href||"http://localhost",Pg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ca,hasStandardBrowserEnv:xg,hasStandardBrowserWebWorkerEnv:Eg,navigator:Io,origin:Tg},Symbol.toStringTag,{value:"Module"})),re={...Pg,...Cg};function Rg(e,t){return Wr(e,new re.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return re.isNode&&k.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function Ag(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Og(e){const t={},n=Object.keys(e);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],t[s]=e[s];return t}function uu(e){function t(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&k.isArray(r)?r.length:o,l?(k.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!k.isObject(r[o]))&&(r[o]=[]),t(n,i,r[o],s)&&k.isArray(r[o])&&(r[o]=Og(r[o])),!a)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(i,r)=>{t(Ag(i),r,n,0)}),n}return null}function Fg(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(e)}const ji={transitional:hu,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=k.isObject(t);if(s&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return r?JSON.stringify(uu(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t)||k.isReadableStream(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Rg(t,this.formSerializer).toString();if((a=k.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Wr(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),Fg(t)):t}],transformResponse:[function(t){const n=this.transitional||ji.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(k.isResponse(t)||k.isReadableStream(t))return t;if(t&&k.isString(t)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?ct.from(a,ct.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:re.classes.FormData,Blob:re.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{ji.headers[e]={}});const Mg=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kg=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||t[n]&&Mg[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Hl=Symbol("internals");function gi(e){return e&&String(e).trim().toLowerCase()}function cr(e){return e===!1||e==null?e:k.isArray(e)?e.map(cr):String(e)}function Ng(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const Lg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eo(e,t,n,i,r){if(k.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!k.isString(t)){if(k.isString(i))return t.indexOf(i)!==-1;if(k.isRegExp(i))return i.test(t)}}function Dg(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function Ig(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,s,o){return this[i].call(this,t,r,s,o)},configurable:!0})})}class se{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function s(a,l,c){const h=gi(l);if(!h)throw new Error("header name must be a non-empty string");const d=k.findKey(r,h);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=cr(a))}const o=(a,l)=>k.forEach(a,(c,h)=>s(c,h,l));if(k.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(k.isString(t)&&(t=t.trim())&&!Lg(t))o(kg(t),n);else if(k.isHeaders(t))for(const[a,l]of t.entries())s(l,a,i);else t!=null&&s(n,t,i);return this}get(t,n){if(t=gi(t),t){const i=k.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return Ng(r);if(k.isFunction(n))return n.call(this,r,i);if(k.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=gi(t),t){const i=k.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||eo(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function s(o){if(o=gi(o),o){const a=k.findKey(i,o);a&&(!n||eo(i,i[a],a,n))&&(delete i[a],r=!0)}}return k.isArray(t)?t.forEach(s):s(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!t||eo(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const n=this,i={};return k.forEach(this,(r,s)=>{const o=k.findKey(i,s);if(o){n[o]=cr(r),delete n[s];return}const a=t?Dg(s):String(s).trim();a!==s&&delete n[s],n[a]=cr(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&k.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[Hl]=this[Hl]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=gi(o);i[a]||(Ig(r,o),i[a]=!0)}return k.isArray(t)?t.forEach(s):s(t),this}}se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(se.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});k.freezeMethods(se);function no(e,t){const n=this||ji,i=t||n,r=se.from(i.headers);let s=i.data;return k.forEach(e,function(a){s=a.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function du(e){return!!(e&&e.__CANCEL__)}function ni(e,t,n){ct.call(this,e??"canceled",ct.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(ni,ct,{__CANCEL__:!0});function fu(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new ct("Request failed with status code "+n.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Gg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Bg(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),h=i[s];o||(o=c),n[r]=l,i[r]=c;let d=s,f=0;for(;d!==r;)f+=n[d++],d=d%e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),c-o<t)return;const u=h&&c-h;return u?Math.round(f*1e3/u):void 0}}function Ug(e,t){let n=0,i=1e3/t,r,s;const o=(c,h=Date.now())=>{n=h,r=null,s&&(clearTimeout(s),s=null),e.apply(null,c)};return[(...c)=>{const h=Date.now(),d=h-n;d>=i?o(c,h):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-d)))},()=>r&&o(r)]}const br=(e,t,n=3)=>{let i=0;const r=Bg(50,250);return Ug(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),h=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},Vl=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},jl=e=>(...t)=>k.asap(()=>e(...t)),$g=re.hasStandardBrowserEnv?function(){const t=re.navigator&&/(msie|trident)/i.test(re.navigator.userAgent),n=document.createElement("a");let i;function r(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(o){const a=k.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),Hg=re.hasStandardBrowserEnv?{write(e,t,n,i,r,s){const o=[e+"="+encodeURIComponent(t)];k.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),k.isString(i)&&o.push("path="+i),k.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Vg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function jg(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gu(e,t){return e&&!Vg(t)?jg(e,t):t}const Wl=e=>e instanceof se?{...e}:e;function xn(e,t){t=t||{};const n={};function i(c,h,d){return k.isPlainObject(c)&&k.isPlainObject(h)?k.merge.call({caseless:d},c,h):k.isPlainObject(h)?k.merge({},h):k.isArray(h)?h.slice():h}function r(c,h,d){if(k.isUndefined(h)){if(!k.isUndefined(c))return i(void 0,c,d)}else return i(c,h,d)}function s(c,h){if(!k.isUndefined(h))return i(void 0,h)}function o(c,h){if(k.isUndefined(h)){if(!k.isUndefined(c))return i(void 0,c)}else return i(void 0,h)}function a(c,h,d){if(d in t)return i(c,h);if(d in e)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>r(Wl(c),Wl(h),!0)};return k.forEach(Object.keys(Object.assign({},e,t)),function(h){const d=l[h]||r,f=d(e[h],t[h],h);k.isUndefined(f)&&d!==a||(n[h]=f)}),n}const pu=e=>{const t=xn({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=se.from(o),t.url=cu(gu(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(k.isFormData(n)){if(re.hasStandardBrowserEnv||re.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...h]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(re.hasStandardBrowserEnv&&(i&&k.isFunction(i)&&(i=i(t)),i||i!==!1&&$g(t.url))){const c=r&&s&&Hg.read(s);c&&o.set(r,c)}return t},Wg=typeof XMLHttpRequest<"u",zg=Wg&&function(e){return new Promise(function(n,i){const r=pu(e);let s=r.data;const o=se.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,h,d,f,u,p;function m(){u&&u(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function v(){if(!y)return;const g=se.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:g,config:e,request:y};fu(function(M){n(M),m()},function(M){i(M),m()},S),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(i(new ct("Request aborted",ct.ECONNABORTED,e,y)),y=null)},y.onerror=function(){i(new ct("Network Error",ct.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let _=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const S=r.transitional||hu;r.timeoutErrorMessage&&(_=r.timeoutErrorMessage),i(new ct(_,S.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,e,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&k.forEach(o.toJSON(),function(_,S){y.setRequestHeader(S,_)}),k.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),c&&([f,p]=br(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,u]=br(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(h=g=>{y&&(i(!g||g.type?new ni(null,e,y):g),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const E=Gg(r.url);if(E&&re.protocols.indexOf(E)===-1){i(new ct("Unsupported protocol "+E+":",ct.ERR_BAD_REQUEST,e));return}y.send(s||null)})},Kg=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const h=c instanceof Error?c:this.reason;i.abort(h instanceof ct?h:new ni(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,s(new ct(`timeout ${t} of ms exceeded`,ct.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>k.asap(a),l}},qg=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,r;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Yg=async function*(e,t){for await(const n of Xg(e))yield*qg(n,t)},Xg=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},zl=(e,t,n,i)=>{const r=Yg(e,t);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await r.next();if(c){a(),l.close();return}let d=h.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},zr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mu=zr&&typeof ReadableStream=="function",Jg=zr&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),_u=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Qg=mu&&_u(()=>{let e=!1;const t=new Request(re.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Kl=64*1024,Go=mu&&_u(()=>k.isReadableStream(new Response("").body)),vr={stream:Go&&(e=>e.body)};zr&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!vr[t]&&(vr[t]=k.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new ct(`Response type '${t}' is not supported`,ct.ERR_NOT_SUPPORT,i)})})})(new Response);const Zg=async e=>{if(e==null)return 0;if(k.isBlob(e))return e.size;if(k.isSpecCompliantForm(e))return(await new Request(re.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(k.isArrayBufferView(e)||k.isArrayBuffer(e))return e.byteLength;if(k.isURLSearchParams(e)&&(e=e+""),k.isString(e))return(await Jg(e)).byteLength},t2=async(e,t)=>{const n=k.toFiniteNumber(e.getContentLength());return n??Zg(t)},e2=zr&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:f}=pu(e);c=c?(c+"").toLowerCase():"text";let u=Kg([r,s&&s.toAbortSignal()],o),p;const m=u&&u.unsubscribe&&(()=>{u.unsubscribe()});let y;try{if(l&&Qg&&n!=="get"&&n!=="head"&&(y=await t2(h,i))!==0){let S=new Request(t,{method:"POST",body:i,duplex:"half"}),P;if(k.isFormData(i)&&(P=S.headers.get("content-type"))&&h.setContentType(P),S.body){const[M,T]=Vl(y,br(jl(l)));i=zl(S.body,Kl,M,T)}}k.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;p=new Request(t,{...f,signal:u,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",credentials:v?d:void 0});let E=await fetch(p);const g=Go&&(c==="stream"||c==="response");if(Go&&(a||g&&m)){const S={};["status","statusText","headers"].forEach(F=>{S[F]=E[F]});const P=k.toFiniteNumber(E.headers.get("content-length")),[M,T]=a&&Vl(P,br(jl(a),!0))||[];E=new Response(zl(E.body,Kl,M,()=>{T&&T(),m&&m()}),S)}c=c||"text";let _=await vr[k.findKey(vr,c)||"text"](E,e);return!g&&m&&m(),await new Promise((S,P)=>{fu(S,P,{data:_,headers:se.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:p})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new ct("Network Error",ct.ERR_NETWORK,e,p),{cause:v.cause||v}):ct.from(v,v&&v.code,e,p)}}),Bo={http:mg,xhr:zg,fetch:e2};k.forEach(Bo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ql=e=>`- ${e}`,n2=e=>k.isFunction(e)||e===null||e===!1,yu={getAdapter:e=>{e=k.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let s=0;s<t;s++){n=e[s];let o;if(i=n,!n2(n)&&(i=Bo[(o=String(n)).toLowerCase()],i===void 0))throw new ct(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(ql).join(`
`):" "+ql(s[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Bo};function io(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ni(null,e)}function Yl(e){return io(e),e.headers=se.from(e.headers),e.data=no.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),yu.getAdapter(e.adapter||ji.adapter)(e).then(function(i){return io(e),i.data=no.call(e,e.transformResponse,i),i.headers=se.from(i.headers),i},function(i){return du(i)||(io(e),i&&i.response&&(i.response.data=no.call(e,e.transformResponse,i.response),i.response.headers=se.from(i.response.headers))),Promise.reject(i)})}const bu="1.7.7",xa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xa[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Xl={};xa.transitional=function(t,n,i){function r(s,o){return"[Axios v"+bu+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(t===!1)throw new ct(r(o," has been removed"+(n?" in "+n:"")),ct.ERR_DEPRECATED);return n&&!Xl[o]&&(Xl[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function i2(e,t,n){if(typeof e!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const s=i[r],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new ct("option "+s+" must be "+l,ct.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ct("Unknown option "+s,ct.ERR_BAD_OPTION)}}const Uo={assertOptions:i2,validators:xa},Je=Uo.validators;class Sn{constructor(t){this.defaults=t,this.interceptors={request:new $l,response:new $l}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=xn(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&Uo.assertOptions(i,{silentJSONParsing:Je.transitional(Je.boolean),forcedJSONParsing:Je.transitional(Je.boolean),clarifyTimeoutError:Je.transitional(Je.boolean)},!1),r!=null&&(k.isFunction(r)?n.paramsSerializer={serialize:r}:Uo.assertOptions(r,{encode:Je.function,serialize:Je.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&k.merge(s.common,s[n.method]);s&&k.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=se.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let h,d=0,f;if(!l){const p=[Yl.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,h=Promise.resolve(n);d<f;)h=h.then(p[d++],p[d++]);return h}f=a.length;let u=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{u=p(u)}catch(y){m.call(this,y);break}}try{h=Yl.call(this,u)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)h=h.then(c[d++],c[d++]);return h}getUri(t){t=xn(this.defaults,t);const n=gu(t.baseURL,t.url);return cu(n,t.params,t.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(t){Sn.prototype[t]=function(n,i){return this.request(xn(i||{},{method:t,url:n,data:(i||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(i){return function(s,o,a){return this.request(xn(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Sn.prototype[t]=n(),Sn.prototype[t+"Form"]=n(!0)});class Ea{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},t(function(s,o,a){i.reason||(i.reason=new ni(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ea(function(r){t=r}),cancel:t}}}function r2(e){return function(n){return e.apply(null,n)}}function s2(e){return k.isObject(e)&&e.isAxiosError===!0}const $o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($o).forEach(([e,t])=>{$o[t]=e});function vu(e){const t=new Sn(e),n=Jh(Sn.prototype.request,t);return k.extend(n,Sn.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return vu(xn(e,r))},n}const Ut=vu(ji);Ut.Axios=Sn;Ut.CanceledError=ni;Ut.CancelToken=Ea;Ut.isCancel=du;Ut.VERSION=bu;Ut.toFormData=Wr;Ut.AxiosError=ct;Ut.Cancel=Ut.CanceledError;Ut.all=function(t){return Promise.all(t)};Ut.spread=r2;Ut.isAxiosError=s2;Ut.mergeConfig=xn;Ut.AxiosHeaders=se;Ut.formToJSON=e=>uu(k.isHTMLForm(e)?new FormData(e):e);Ut.getAdapter=yu.getAdapter;Ut.HttpStatusCode=$o;Ut.default=Ut;const Ho=Ut.create({baseURL:"https://mapapi.susu.ru/integration/map",headers:{"Content-Type":"application/xml",Accept:"application/xml"},responseType:"text"}),o2={name:"buildingList",data(){return{buildings:[]}},async created(){await this.fetchBuildings()},computed:{filteredBuildings(){return this.buildings.filter(e=>(e.name.includes("")||e.name.includes(" "))&&!e.name.includes("4")&&!e.name.includes("5")&&!e.name.includes("6"))}},methods:{async fetchBuildings(){try{const e=await Ho.get("/buildings",{responseType:"text"}),i=new DOMParser().parseFromString(e.data,"application/xml").getElementsByTagName("Building");this.buildings=Array.from(i).map(r=>({id:r.getElementsByTagName("Id")[0].textContent,name:r.getElementsByTagName("Name")[0].textContent,short_name:r.getElementsByTagName("ShortName")[0].textContent}))}catch(e){console.error("   : ",e)}},selectBuilding(e){this.$emit("building-selected",e)}}},a2={class:"building-list"},l2=["onClick"];function c2(e,t,n,i,r,s){return wt(),kt("div",a2,[(wt(!0),kt(Ht,null,Ue(s.filteredBuildings,o=>(wt(),kt("button",{key:o.id,onClick:a=>s.selectBuilding(o.id),class:"building-button"},be(o.name)+" ("+be(o.short_name)+") ",9,l2))),128))])}const h2=Tn(o2,[["render",c2],["__scopeId","data-v-22962545"]]),u2={name:"BuildingListView",components:{BuildingList:h2},methods:{goToClassroomTable(e){this.$router.push({name:"ClassroomTable",params:{id:e}})},goToMapView(){this.$router.push({name:"floorMap"})}}};function d2(e,t,n,i,r,s){const o=rn("BuildingList");return wt(),kt("div",null,[t[1]||(t[1]=Mt("h1",null,"",-1)),Vt(o,{onBuildingSelected:s.goToClassroomTable},null,8,["onBuildingSelected"]),t[2]||(t[2]=Mt("h1",null,"",-1)),Mt("button",{onClick:t[0]||(t[0]=(...a)=>s.goToMapView&&s.goToMapView(...a)),class:"map-button"}," ")])}const f2=Tn(u2,[["render",d2],["__scopeId","data-v-6eb7af41"]]),g2={name:"ClassroomTable",props:{buildingId:{type:String,required:!0}},data(){return{classrooms:[],filteredClassrooms:[],floors:[],selectedFloor:"all",buildingName:""}},async created(){await Promise.all([this.fetchClassrooms(),this.fetchBuildingName()]),this.setInitialFloorFromQuery()},methods:{async fetchClassrooms(){try{const e=await Ho.get(`/rooms/buildingId/${this.buildingId}`,{responseType:"text"}),i=new DOMParser().parseFromString(e.data,"application/xml").getElementsByTagName("Room");this.classrooms=Array.from(i).map(r=>({id:r.getElementsByTagName("Id")[0].textContent,name:r.getElementsByTagName("Name")[0].textContent,floor:r.getElementsByTagName("Floor")[0].textContent,number:r.getElementsByTagName("Number")[0].textContent})),this.filteredClassrooms=this.classrooms,this.extractFloors()}catch(e){console.error("   :",e)}},async fetchBuildingName(){try{const e=await Ho.get("/buildings",{responseType:"text"}),i=new DOMParser().parseFromString(e.data,"application/xml").getElementsByTagName("Building"),r=Array.from(i).find(s=>s.getElementsByTagName("Id")[0].textContent===this.buildingId);r?this.buildingName=r.getElementsByTagName("Name")[0].textContent:console.warn("  .")}catch(e){console.error("    : ",e)}},extractFloors(){const e=new Set(this.classrooms.map(t=>t.floor));this.floors=Array.from(e).sort((t,n)=>t-n)},filterClassrooms(){this.selectedFloor==="all"?this.filteredClassrooms=this.classrooms:this.filteredClassrooms=this.classrooms.filter(e=>e.floor===this.selectedFloor)},setInitialFloorFromQuery(){const e=this.$route.query.floor;e&&this.floors.includes(e)?this.selectedFloor=e:this.selectedFloor="all",this.filterClassrooms()},updateFloorQuery(){this.filterClassrooms(),this.$router.replace({query:{...this.$route.query,floor:this.selectedFloor}})}},watch:{buildingId(e,t){e!==t&&(this.fetchClassrooms(),this.fetchBuildingName(),this.selectedFloor="all",this.filterClassrooms())}}},p2={class:"classroom-table"},m2={class:"filter"},_2=["value"],y2={key:0},b2={key:1};function v2(e,t,n,i,r,s){return wt(),kt("div",p2,[Mt("h2",null,"  "+be(r.buildingName),1),Mt("div",m2,[t[3]||(t[3]=Mt("label",{for:"floor-select"}," :",-1)),Co(Mt("select",{id:"floor-select","onUpdate:modelValue":t[0]||(t[0]=o=>r.selectedFloor=o),onChange:t[1]||(t[1]=(...o)=>s.updateFloorQuery&&s.updateFloorQuery(...o))},[t[2]||(t[2]=Mt("option",{value:"all"}," ",-1)),(wt(!0),kt(Ht,null,Ue(r.floors,o=>(wt(),kt("option",{key:o,value:o},"  "+be(o),9,_2))),128))],544),[[Fo,r.selectedFloor]])]),r.filteredClassrooms.length?(wt(),kt("table",y2,[t[4]||(t[4]=Mt("thead",null,[Mt("tr",null,[Mt("th",null,"#"),Mt("th",null,""),Mt("th",null," "),Mt("th",null,"")])],-1)),Mt("tbody",null,[(wt(!0),kt(Ht,null,Ue(r.filteredClassrooms,(o,a)=>(wt(),kt("tr",{key:o.id},[Mt("td",null,be(a+1),1),Mt("td",null,be(o.number),1),Mt("td",null,be(o.name),1),Mt("td",null,be(o.floor),1)]))),128))])])):(wt(),kt("p",b2,"   "))])}const S2=Tn(g2,[["render",v2],["__scopeId","data-v-0f501c16"]]),w2={name:"ClassroomTableView",components:{ClassroomTable:S2},props:{id:{type:String,required:!0}},computed:{buildingId(){return this.id}}};function C2(e,t,n,i,r,s){const o=rn("ClassroomTable");return wt(),kt("div",null,[Vt(o,{"building-id":s.buildingId},null,8,["building-id"])])}const x2=Tn(w2,[["render",C2]]),E2={name:"FloorMap",props:{stageWidth:{type:Number,default:800},stageHeight:{type:Number,default:600}},methods:{getTextWidth(e){const n=document.createElement("canvas").getContext("2d");return n.font="20px Arial",n.measureText(e).width}},setup(){const e=Be(1),t=Be(null),n=Be(null),i=Be([{points:[0,0,0,200,52,200,52,584,20,584,20,808,1020,808,1020,0,752,0,752,152,800,152,800,584,184,584,184,152,272,152,272,0],color:"black",fill:"#ccc",buildingId:1},{points:[0,0,0,200,400,200,400,0],color:"black",fill:"#ddd",buildingId:2}]),r=Be([{points:[0,0,0,200,52,200,52,152,272,152,272,0],name:"100/1",color:"yellow",fill:"#ffa",buildingId:1,floor:1},{points:[92,200,92,344,184,344,184,200],name:"101/1",color:"blue",fill:"#aaf",buildingId:1,floor:1},{points:[92,344,92,392,184,392,184,344],name:"202/1",color:"green",fill:"#afa",buildingId:1,floor:2},{points:[92,392,92,488,184,488,184,392],name:"203/1",color:"red",fill:"#faa",buildingId:1,floor:2},{points:[200,0,200,50,400,50,400,0],name:"101/2",color:"blue",fill:"#aaf",buildingId:2,floor:1},{points:[0,150,0,200,200,200,200,150],name:"102/2",color:"green",fill:"#afa",buildingId:2,floor:1},{points:[200,150,200,200,400,200,400,150],name:"203/2",color:"red",fill:"#faa",buildingId:2,floor:2}]),s=Be(800),o=()=>{s.value=Math.min(1642,window.innerWidth-58)},a=ne(()=>[...new Set(r.value.map(u=>u.buildingId))]),l=ne(()=>t.value?[...new Set(r.value.filter(u=>u.buildingId===t.value).map(u=>u.floor))]:[]),c=ne(()=>i.value.filter(u=>u.buildingId===t.value)),h=ne(()=>r.value.filter(u=>u.buildingId===t.value&&u.floor===n.value));$i(()=>{o(),window.addEventListener("resize",o),a.value.length>0&&(t.value=a.value[0],f())}),Dr(()=>{window.removeEventListener("resize",o)});const d=u=>{u.evt.preventDefault();const p=1.1,m=u.target.getStage(),y=m.scaleX(),v={x:m.getPointerPosition().x/y-m.x()/y,y:m.getPointerPosition().y/y-m.y()/y};let g=(u.evt.deltaY>0?-1:1)>0?y*p:y/p;g=Math.max(.5,Math.min(g,3)),e.value=g,m.scale({x:g,y:g});const _={x:-(v.x-m.getPointerPosition().x/g)*g,y:-(v.y-m.getPointerPosition().y/g)*g};m.position(_),m.batchDraw()},f=()=>{t.value&&(l.value.includes(n.value)||(n.value=l.value.length>0?l.value[0]:null))};return{scale:e,buildings:i,classrooms:r,handleZoom:d,computedWidth:s,selectedBuilding:t,selectedFloor:n,uniqueBuildings:a,avaliableFloors:l,filteredBuildings:c,filteredClassrooms:h,updateDisplay:f}}},T2={class:"controls"},P2=["value"],R2=["value"],A2={class:"map-container"};function O2(e,t,n,i,r,s){const o=rn("v-line"),a=rn("v-text"),l=rn("v-layer"),c=rn("v-stage");return wt(),kt(Ht,null,[Mt("div",T2,[Co(Mt("select",{"onUpdate:modelValue":t[0]||(t[0]=h=>i.selectedBuilding=h),onChange:t[1]||(t[1]=(...h)=>i.updateDisplay&&i.updateDisplay(...h))},[(wt(!0),kt(Ht,null,Ue(i.uniqueBuildings,h=>(wt(),kt("option",{key:h,value:h},"  "+be(h),9,P2))),128))],544),[[Fo,i.selectedBuilding]]),i.avaliableFloors.length>0?Co((wt(),kt("select",{key:0,"onUpdate:modelValue":t[2]||(t[2]=h=>i.selectedFloor=h),onChange:t[3]||(t[3]=(...h)=>i.updateDisplay&&i.updateDisplay(...h))},[(wt(!0),kt(Ht,null,Ue(i.avaliableFloors,h=>(wt(),kt("option",{key:h,value:h},"  "+be(h),9,R2))),128))],544)),[[Fo,i.selectedFloor]]):Hf("",!0)]),Mt("div",A2,[Vt(c,{ref:"stage",config:{width:i.computedWidth,height:n.stageHeight,draggable:!0,scale:{x:i.scale,y:i.scale}},onWheel:i.handleZoom},{default:wo(()=>[Vt(l,null,{default:wo(()=>[(wt(!0),kt(Ht,null,Ue(i.filteredBuildings,(h,d)=>(wt(),vi(o,{key:d,points:h.points,config:{closed:!0,fill:h.fill||"gray"}},null,8,["points","config"]))),128)),(wt(!0),kt(Ht,null,Ue(i.filteredClassrooms,(h,d)=>(wt(),vi(o,{key:d,points:h.points,config:{closed:!0,stroke:h.color||"blue",strokeWidth:1,fill:h.fill||"lightblue"}},null,8,["points","config"]))),128)),(wt(!0),kt(Ht,null,Ue(i.filteredClassrooms,(h,d)=>(wt(),vi(a,{key:"text-"+d,text:h.name,x:(Math.min(...h.points.filter((f,u)=>u%2===0))+Math.max(...h.points.filter((f,u)=>u%2===0))-s.getTextWidth(h.name)/2)/2,y:(Math.min(...h.points.filter((f,u)=>u%2===1))+Math.max(...h.points.filter((f,u)=>u%2===1))-10)/2,"font-size":20,"font-family":"Arial",fill:"black",align:"center","vertical-align":"middle"},null,8,["text","x","y"]))),128)),(wt(!0),kt(Ht,null,Ue(i.filteredBuildings,(h,d)=>(wt(),vi(o,{key:d,points:h.points,config:{closed:!0,stroke:h.color||"black",strokeWidth:2}},null,8,["points","config"]))),128))]),_:1})]),_:1},8,["config","onWheel"])])],64)}const F2=Tn(E2,[["render",O2],["__scopeId","data-v-ae61b18f"]]),M2={name:"FloorMapView",components:{FloorMap:F2},setup(){const e=Be(Math.min(1700,window.innerWidth)),t=()=>{const n=document.getElementById("app"),i=n?n.clientWidth:window.innerWidth;e.value=Math.min(1700,i)};return $i(()=>{t(),window.addEventListener("resize",t)}),Dr(()=>{window.removeEventListener("resize",t)}),{mapWidth:e}}},k2={class:"floor-map-view"};function N2(e,t,n,i,r,s){const o=rn("FloorMap");return wt(),kt("div",k2,[Vt(o,{stageWidth:i.mapWidth,stageHeight:600},null,8,["stageWidth"])])}const L2=Tn(M2,[["render",N2],["__scopeId","data-v-11d99ac1"]]),D2=[{path:"/",name:"BuildingList",component:f2},{path:"/building/:id",name:"ClassroomTable",component:x2,props:!0},{path:"/test-map-view",name:"floorMap",component:L2}],I2=A1({history:s1(),routes:D2});var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ta={exports:{}},Kr={},Su={},ht={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof Jl<"u"?Jl:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.16",isBrowser:n(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return e.Konva.angleDeg?r*t:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var r;return(r=e.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(r){e.glob.Konva=r}};const i=r=>{e.Konva[r.prototype.getClassName()]=r};e._registerNode=i,e.Konva._injectGlobal(e.Konva)})(ht);var Lt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=ht;class n{constructor(_=[1,0,0,1,0,0]){this.dirty=!1,this.m=_&&_.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(_){_.m[0]=this.m[0],_.m[1]=this.m[1],_.m[2]=this.m[2],_.m[3]=this.m[3],_.m[4]=this.m[4],_.m[5]=this.m[5]}point(_){const S=this.m;return{x:S[0]*_.x+S[2]*_.y+S[4],y:S[1]*_.x+S[3]*_.y+S[5]}}translate(_,S){return this.m[4]+=this.m[0]*_+this.m[2]*S,this.m[5]+=this.m[1]*_+this.m[3]*S,this}scale(_,S){return this.m[0]*=_,this.m[1]*=_,this.m[2]*=S,this.m[3]*=S,this}rotate(_){const S=Math.cos(_),P=Math.sin(_),M=this.m[0]*S+this.m[2]*P,T=this.m[1]*S+this.m[3]*P,F=this.m[0]*-P+this.m[2]*S,C=this.m[1]*-P+this.m[3]*S;return this.m[0]=M,this.m[1]=T,this.m[2]=F,this.m[3]=C,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(_,S){const P=this.m[0]+this.m[2]*S,M=this.m[1]+this.m[3]*S,T=this.m[2]+this.m[0]*_,F=this.m[3]+this.m[1]*_;return this.m[0]=P,this.m[1]=M,this.m[2]=T,this.m[3]=F,this}multiply(_){const S=this.m[0]*_.m[0]+this.m[2]*_.m[1],P=this.m[1]*_.m[0]+this.m[3]*_.m[1],M=this.m[0]*_.m[2]+this.m[2]*_.m[3],T=this.m[1]*_.m[2]+this.m[3]*_.m[3],F=this.m[0]*_.m[4]+this.m[2]*_.m[5]+this.m[4],C=this.m[1]*_.m[4]+this.m[3]*_.m[5]+this.m[5];return this.m[0]=S,this.m[1]=P,this.m[2]=M,this.m[3]=T,this.m[4]=F,this.m[5]=C,this}invert(){const _=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),S=this.m[3]*_,P=-this.m[1]*_,M=-this.m[2]*_,T=this.m[0]*_,F=_*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),C=_*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=S,this.m[1]=P,this.m[2]=M,this.m[3]=T,this.m[4]=F,this.m[5]=C,this}getMatrix(){return this.m}decompose(){const _=this.m[0],S=this.m[1],P=this.m[2],M=this.m[3],T=this.m[4],F=this.m[5],C=_*M-S*P,A={x:T,y:F,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(_!=0||S!=0){const D=Math.sqrt(_*_+S*S);A.rotation=S>0?Math.acos(_/D):-Math.acos(_/D),A.scaleX=D,A.scaleY=C/D,A.skewX=(_*P+S*M)/C,A.skewY=0}else if(P!=0||M!=0){const D=Math.sqrt(P*P+M*M);A.rotation=Math.PI/2-(M>0?Math.acos(-P/D):-Math.acos(P/D)),A.scaleX=C/D,A.scaleY=D,A.skewX=0,A.skewY=(_*P+S*M)/C}return A.rotation=e.Util._getRotation(A.rotation),A}}e.Transform=n;let i="[object Array]",r="[object Number]",s="[object String]",o="[object Boolean]",a=Math.PI/180,l=180/Math.PI,c="#",h="",d="0",f="Konva warning: ",u="Konva error: ",p="rgb(",m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},y=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,v=[];const E=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(g){setTimeout(g,60)};e.Util={_isElement(g){return!!(g&&g.nodeType==1)},_isFunction(g){return!!(g&&g.constructor&&g.call&&g.apply)},_isPlainObject(g){return!!g&&g.constructor===Object},_isArray(g){return Object.prototype.toString.call(g)===i},_isNumber(g){return Object.prototype.toString.call(g)===r&&!isNaN(g)&&isFinite(g)},_isString(g){return Object.prototype.toString.call(g)===s},_isBoolean(g){return Object.prototype.toString.call(g)===o},isObject(g){return g instanceof Object},isValidSelector(g){if(typeof g!="string")return!1;const _=g[0];return _==="#"||_==="."||_===_.toUpperCase()},_sign(g){return g===0||g>0?1:-1},requestAnimFrame(g){v.push(g),v.length===1&&E(function(){const _=v;v=[],_.forEach(function(S){S()})})},createCanvasElement(){const g=document.createElement("canvas");try{g.style=g.style||{}}catch{}return g},createImageElement(){return document.createElement("img")},_isInDocument(g){for(;g=g.parentNode;)if(g==document)return!0;return!1},_urlToImage(g,_){const S=e.Util.createImageElement();S.onload=function(){_(S)},S.src=g},_rgbToHex(g,_,S){return((1<<24)+(g<<16)+(_<<8)+S).toString(16).slice(1)},_hexToRgb(g){g=g.replace(c,h);const _=parseInt(g,16);return{r:_>>16&255,g:_>>8&255,b:_&255}},getRandomColor(){let g=(Math.random()*16777215<<0).toString(16);for(;g.length<6;)g=d+g;return c+g},getRGB(g){let _;return g in m?(_=m[g],{r:_[0],g:_[1],b:_[2]}):g[0]===c?this._hexToRgb(g.substring(1)):g.substr(0,4)===p?(_=y.exec(g.replace(/ /g,"")),{r:parseInt(_[1],10),g:parseInt(_[2],10),b:parseInt(_[3],10)}):{r:0,g:0,b:0}},colorToRGBA(g){return g=g||"black",e.Util._namedColorToRBA(g)||e.Util._hex3ColorToRGBA(g)||e.Util._hex4ColorToRGBA(g)||e.Util._hex6ColorToRGBA(g)||e.Util._hex8ColorToRGBA(g)||e.Util._rgbColorToRGBA(g)||e.Util._rgbaColorToRGBA(g)||e.Util._hslColorToRGBA(g)},_namedColorToRBA(g){const _=m[g.toLowerCase()];return _?{r:_[0],g:_[1],b:_[2],a:1}:null},_rgbColorToRGBA(g){if(g.indexOf("rgb(")===0){g=g.match(/rgb\(([^)]+)\)/)[1];const _=g.split(/ *, */).map(Number);return{r:_[0],g:_[1],b:_[2],a:1}}},_rgbaColorToRGBA(g){if(g.indexOf("rgba(")===0){g=g.match(/rgba\(([^)]+)\)/)[1];const _=g.split(/ *, */).map((S,P)=>S.slice(-1)==="%"?P===3?parseInt(S)/100:parseInt(S)/100*255:Number(S));return{r:_[0],g:_[1],b:_[2],a:_[3]}}},_hex8ColorToRGBA(g){if(g[0]==="#"&&g.length===9)return{r:parseInt(g.slice(1,3),16),g:parseInt(g.slice(3,5),16),b:parseInt(g.slice(5,7),16),a:parseInt(g.slice(7,9),16)/255}},_hex6ColorToRGBA(g){if(g[0]==="#"&&g.length===7)return{r:parseInt(g.slice(1,3),16),g:parseInt(g.slice(3,5),16),b:parseInt(g.slice(5,7),16),a:1}},_hex4ColorToRGBA(g){if(g[0]==="#"&&g.length===5)return{r:parseInt(g[1]+g[1],16),g:parseInt(g[2]+g[2],16),b:parseInt(g[3]+g[3],16),a:parseInt(g[4]+g[4],16)/255}},_hex3ColorToRGBA(g){if(g[0]==="#"&&g.length===4)return{r:parseInt(g[1]+g[1],16),g:parseInt(g[2]+g[2],16),b:parseInt(g[3]+g[3],16),a:1}},_hslColorToRGBA(g){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(g)){const[_,...S]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(g),P=Number(S[0])/360,M=Number(S[1])/100,T=Number(S[2])/100;let F,C,A;if(M===0)return A=T*255,{r:Math.round(A),g:Math.round(A),b:Math.round(A),a:1};T<.5?F=T*(1+M):F=T+M-T*M;const D=2*T-F,K=[0,0,0];for(let nt=0;nt<3;nt++)C=P+1/3*-(nt-1),C<0&&C++,C>1&&C--,6*C<1?A=D+(F-D)*6*C:2*C<1?A=F:3*C<2?A=D+(F-D)*(2/3-C)*6:A=D,K[nt]=A*255;return{r:Math.round(K[0]),g:Math.round(K[1]),b:Math.round(K[2]),a:1}}},haveIntersection(g,_){return!(_.x>g.x+g.width||_.x+_.width<g.x||_.y>g.y+g.height||_.y+_.height<g.y)},cloneObject(g){const _={};for(const S in g)this._isPlainObject(g[S])?_[S]=this.cloneObject(g[S]):this._isArray(g[S])?_[S]=this.cloneArray(g[S]):_[S]=g[S];return _},cloneArray(g){return g.slice(0)},degToRad(g){return g*a},radToDeg(g){return g*l},_degToRad(g){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(g)},_radToDeg(g){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(g)},_getRotation(g){return t.Konva.angleDeg?e.Util.radToDeg(g):g},_capitalize(g){return g.charAt(0).toUpperCase()+g.slice(1)},throw(g){throw new Error(u+g)},error(g){console.error(u+g)},warn(g){t.Konva.showWarnings&&console.warn(f+g)},each(g,_){for(const S in g)_(S,g[S])},_inRange(g,_,S){return _<=g&&g<S},_getProjectionToSegment(g,_,S,P,M,T){let F,C,A;const D=(g-S)*(g-S)+(_-P)*(_-P);if(D==0)F=g,C=_,A=(M-S)*(M-S)+(T-P)*(T-P);else{const K=((M-g)*(S-g)+(T-_)*(P-_))/D;K<0?(F=g,C=_,A=(g-M)*(g-M)+(_-T)*(_-T)):K>1?(F=S,C=P,A=(S-M)*(S-M)+(P-T)*(P-T)):(F=g+K*(S-g),C=_+K*(P-_),A=(F-M)*(F-M)+(C-T)*(C-T))}return[F,C,A]},_getProjectionToLine(g,_,S){const P=e.Util.cloneObject(g);let M=Number.MAX_VALUE;return _.forEach(function(T,F){if(!S&&F===_.length-1)return;const C=_[(F+1)%_.length],A=e.Util._getProjectionToSegment(T.x,T.y,C.x,C.y,g.x,g.y),D=A[0],K=A[1],nt=A[2];nt<M&&(P.x=D,P.y=K,M=nt)}),P},_prepareArrayForTween(g,_,S){let P,M=[],T=[];if(g.length>_.length){const C=_;_=g,g=C}for(P=0;P<g.length;P+=2)M.push({x:g[P],y:g[P+1]});for(P=0;P<_.length;P+=2)T.push({x:_[P],y:_[P+1]});const F=[];return T.forEach(function(C){const A=e.Util._getProjectionToLine(C,M,S);F.push(A.x),F.push(A.y)}),F},_prepareToStringify(g){let _;g.visitedByCircularReferenceRemoval=!0;for(const S in g)if(g.hasOwnProperty(S)&&g[S]&&typeof g[S]=="object"){if(_=Object.getOwnPropertyDescriptor(g,S),g[S].visitedByCircularReferenceRemoval||e.Util._isElement(g[S]))if(_.configurable)delete g[S];else return null;else if(e.Util._prepareToStringify(g[S])===null)if(_.configurable)delete g[S];else return null}return delete g.visitedByCircularReferenceRemoval,g},_assign(g,_){for(const S in _)g[S]=_[S];return g},_getFirstPointerId(g){return g.touches?g.changedTouches[0].identifier:g.pointerId||999},releaseCanvas(...g){t.Konva.releaseCanvasOnDestroy&&g.forEach(_=>{_.width=0,_.height=0})},drawRoundedRectPath(g,_,S,P){let M=0,T=0,F=0,C=0;typeof P=="number"?M=T=F=C=Math.min(P,_/2,S/2):(M=Math.min(P[0]||0,_/2,S/2),T=Math.min(P[1]||0,_/2,S/2),C=Math.min(P[2]||0,_/2,S/2),F=Math.min(P[3]||0,_/2,S/2)),g.moveTo(M,0),g.lineTo(_-T,0),g.arc(_-T,T,T,Math.PI*3/2,0,!1),g.lineTo(_,S-C),g.arc(_-C,S-C,C,0,Math.PI/2,!1),g.lineTo(F,S),g.arc(F,S-F,F,Math.PI/2,Math.PI,!1),g.lineTo(0,M),g.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}})(Lt);var Nt={},ut={},et={};Object.defineProperty(et,"__esModule",{value:!0});et.RGBComponent=B2;et.alphaComponent=U2;et.getNumberValidator=$2;et.getNumberOrArrayOfNumbersValidator=H2;et.getNumberOrAutoValidator=V2;et.getStringValidator=j2;et.getStringOrGradientValidator=W2;et.getFunctionValidator=z2;et.getNumberArrayValidator=K2;et.getBooleanValidator=q2;et.getComponentValidator=Y2;const ze=ht,Dt=Lt;function Ke(e){return Dt.Util._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||Dt.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}function B2(e){return e>255?255:e<0?0:Math.round(e)}function U2(e){return e>1?1:e<1e-4?1e-4:e}function $2(){if(ze.Konva.isUnminified)return function(e,t){return Dt.Util._isNumber(e)||Dt.Util.warn(Ke(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function H2(e){if(ze.Konva.isUnminified)return function(t,n){const i=Dt.Util._isNumber(t),r=Dt.Util._isArray(t)&&t.length==e;return!i&&!r&&Dt.Util.warn(Ke(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function V2(){if(ze.Konva.isUnminified)return function(e,t){return Dt.Util._isNumber(e)||e==="auto"||Dt.Util.warn(Ke(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function j2(){if(ze.Konva.isUnminified)return function(e,t){return Dt.Util._isString(e)||Dt.Util.warn(Ke(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function W2(){if(ze.Konva.isUnminified)return function(e,t){const n=Dt.Util._isString(e),i=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return n||i||Dt.Util.warn(Ke(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function z2(){if(ze.Konva.isUnminified)return function(e,t){return Dt.Util._isFunction(e)||Dt.Util.warn(Ke(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}}function K2(){if(ze.Konva.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(Dt.Util._isArray(e)?e.forEach(function(i){Dt.Util._isNumber(i)||Dt.Util.warn('"'+t+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):Dt.Util.warn(Ke(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}function q2(){if(ze.Konva.isUnminified)return function(e,t){return e===!0||e===!1||Dt.Util.warn(Ke(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}function Y2(e){if(ze.Konva.isUnminified)return function(t,n){return t==null||Dt.Util.isObject(t)||Dt.Util.warn(Ke(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=Lt,n=et,i="get",r="set";e.Factory={addGetterSetter(s,o,a,l,c){e.Factory.addGetter(s,o,a),e.Factory.addSetter(s,o,l,c),e.Factory.addOverloadedGetterSetter(s,o)},addGetter(s,o,a){const l=i+t.Util._capitalize(o);s.prototype[l]=s.prototype[l]||function(){const c=this.attrs[o];return c===void 0?a:c}},addSetter(s,o,a,l){const c=r+t.Util._capitalize(o);s.prototype[c]||e.Factory.overWriteSetter(s,o,a,l)},overWriteSetter(s,o,a,l){const c=r+t.Util._capitalize(o);s.prototype[c]=function(h){return a&&h!==void 0&&h!==null&&(h=a.call(this,h,o)),this._setAttr(o,h),l&&l.call(this),this}},addComponentsGetterSetter(s,o,a,l,c){let h=a.length,d=t.Util._capitalize,f=i+d(o),u=r+d(o),p,m;s.prototype[f]=function(){const v={};for(p=0;p<h;p++)m=a[p],v[m]=this.getAttr(o+d(m));return v};const y=(0,n.getComponentValidator)(a);s.prototype[u]=function(v){let E=this.attrs[o],g;l&&(v=l.call(this,v)),y&&y.call(this,v,o);for(g in v)v.hasOwnProperty(g)&&this._setAttr(o+d(g),v[g]);return v||a.forEach(_=>{this._setAttr(o+d(_),void 0)}),this._fireChangeEvent(o,E,v),c&&c.call(this),this},e.Factory.addOverloadedGetterSetter(s,o)},addOverloadedGetterSetter(s,o){const a=t.Util._capitalize(o),l=r+a,c=i+a;s.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(s,o,a,l){t.Util.error("Adding deprecated "+o);const c=i+t.Util._capitalize(o),h=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[c]=function(){t.Util.error(h);const d=this.attrs[o];return d===void 0?a:d},e.Factory.addSetter(s,o,l,function(){t.Util.error(h)}),e.Factory.addOverloadedGetterSetter(s,o)},backCompat(s,o){t.Util.each(o,function(a,l){const c=s.prototype[l],h=i+t.Util._capitalize(a),d=r+t.Util._capitalize(a);function f(){c.apply(this,arguments),t.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[a]=f,s.prototype[h]=f,s.prototype[d]=f})},afterSetFilter(){this._filterUpToDate=!1}}})(ut);var Se={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.HitContext=je.SceneContext=je.Context=void 0;const wu=Lt,X2=ht;function J2(e){let t=[],n=e.length,i=wu.Util,r,s;for(r=0;r<n;r++)s=e[r],i._isNumber(s)?s=Math.round(s*1e3)/1e3:i._isString(s)||(s=s+""),t.push(s);return t}const Ql=",",Q2="(",Z2=")",tp="([",ep="])",np=";",ip="()",rp="=",Zl=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],sp=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],op=100;class qr{constructor(t){this.canvas=t,X2.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,n){let i=this.traceArr,r=i.length,s="",o,a,l,c;for(o=0;o<r;o++)a=i[o],l=a.method,l?(c=a.args,s+=l,t?s+=ip:wu.Util._isArray(c[0])?s+=tp+c.join(Ql)+ep:(n&&(c=c.map(h=>typeof h=="number"?Math.floor(h):h)),s+=Q2+c.join(Ql)+Z2)):(s+=a.property,t||(s+=rp+a.val)),s+=np;return s}clearTrace(){this.traceArr=[]}_trace(t){let n=this.traceArr,i;n.push(t),i=n.length,i>=op&&n.shift()}reset(){const t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){const n=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(t){const n=t.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(t){const n=t.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(t){const n=t.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(t,n){this._context[t]=n}arc(t,n,i,r,s,o){this._context.arc(t,n,i,r,s,o)}arcTo(t,n,i,r,s){this._context.arcTo(t,n,i,r,s)}beginPath(){this._context.beginPath()}bezierCurveTo(t,n,i,r,s,o){this._context.bezierCurveTo(t,n,i,r,s,o)}clearRect(t,n,i,r){this._context.clearRect(t,n,i,r)}clip(...t){this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(t,n){const i=arguments;if(i.length===2)return this._context.createImageData(t,n);if(i.length===1)return this._context.createImageData(t)}createLinearGradient(t,n,i,r){return this._context.createLinearGradient(t,n,i,r)}createPattern(t,n){return this._context.createPattern(t,n)}createRadialGradient(t,n,i,r,s,o){return this._context.createRadialGradient(t,n,i,r,s,o)}drawImage(t,n,i,r,s,o,a,l,c){const h=arguments,d=this._context;h.length===3?d.drawImage(t,n,i):h.length===5?d.drawImage(t,n,i,r,s):h.length===9&&d.drawImage(t,n,i,r,s,o,a,l,c)}ellipse(t,n,i,r,s,o,a,l){this._context.ellipse(t,n,i,r,s,o,a,l)}isPointInPath(t,n,i,r){return i?this._context.isPointInPath(i,t,n,r):this._context.isPointInPath(t,n,r)}fill(...t){this._context.fill.apply(this._context,t)}fillRect(t,n,i,r){this._context.fillRect(t,n,i,r)}strokeRect(t,n,i,r){this._context.strokeRect(t,n,i,r)}fillText(t,n,i,r){r?this._context.fillText(t,n,i,r):this._context.fillText(t,n,i)}measureText(t){return this._context.measureText(t)}getImageData(t,n,i,r){return this._context.getImageData(t,n,i,r)}lineTo(t,n){this._context.lineTo(t,n)}moveTo(t,n){this._context.moveTo(t,n)}rect(t,n,i,r){this._context.rect(t,n,i,r)}roundRect(t,n,i,r,s){this._context.roundRect(t,n,i,r,s)}putImageData(t,n,i){this._context.putImageData(t,n,i)}quadraticCurveTo(t,n,i,r){this._context.quadraticCurveTo(t,n,i,r)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,n){this._context.scale(t,n)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,n,i,r,s,o){this._context.setTransform(t,n,i,r,s,o)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,n,i,r){this._context.strokeText(t,n,i,r)}transform(t,n,i,r,s,o){this._context.transform(t,n,i,r,s,o)}translate(t,n){this._context.translate(t,n)}_enableTrace(){let t=this,n=Zl.length,i=this.setAttr,r,s;const o=function(a){let l=t[a],c;t[a]=function(){return s=J2(Array.prototype.slice.call(arguments,0)),c=l.apply(t,arguments),t._trace({method:a,args:s}),c}};for(r=0;r<n;r++)o(Zl[r]);t.setAttr=function(){i.apply(t,arguments);const a=arguments[0];let l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),t._trace({property:a,val:l})}}_applyGlobalCompositeOperation(t){const n=t.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}je.Context=qr;sp.forEach(function(e){Object.defineProperty(qr.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class ap extends qr{constructor(t,{willReadFrequently:n=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(t){const n=t.fill();this.setAttr("fillStyle",n),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){const n=t._getLinearGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fillRadialGradient(t){const n=t._getRadialGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fill(t){const n=t.fill(),i=t.getFillPriority();if(n&&i==="color"){this._fillColor(t);return}const r=t.getFillPatternImage();if(r&&i==="pattern"){this._fillPattern(t);return}const s=t.getFillLinearGradientColorStops();if(s&&i==="linear-gradient"){this._fillLinearGradient(t);return}const o=t.getFillRadialGradientColorStops();if(o&&i==="radial-gradient"){this._fillRadialGradient(t);return}n?this._fillColor(t):r?this._fillPattern(t):s?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const n=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,i.x,i.y);if(r){for(let o=0;o<r.length;o+=2)s.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",s)}}_stroke(t){const n=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(t),n&&t.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}}_applyShadow(t){var n,i,r;const s=(n=t.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(i=t.getShadowBlur())!==null&&i!==void 0?i:5,a=(r=t.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},l=t.getAbsoluteScale(),c=this.canvas.getPixelRatio(),h=l.x*c,d=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",o*Math.min(Math.abs(h),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*h),this.setAttr("shadowOffsetY",a.y*d)}}je.SceneContext=ap;class lp extends qr{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const n=t.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(t);const i=t.hitStrokeWidth(),r=i==="auto"?t.strokeWidth():i;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),n||this.restore()}}}je.HitContext=lp;Object.defineProperty(Se,"__esModule",{value:!0});Se.HitCanvas=Se.SceneCanvas=Se.Canvas=void 0;const Sr=Lt,Cu=je,xu=ht,cp=ut,hp=et;let Zi;function up(){if(Zi)return Zi;const e=Sr.Util.createCanvasElement(),t=e.getContext("2d");return Zi=function(){const n=xu.Konva._global.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/i}(),Sr.Util.releaseCanvas(e),Zi}class Yr{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const i=(t||{}).pixelRatio||xu.Konva.pixelRatio||up();this.pixelRatio=i,this._canvas=Sr.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){const n=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,n){this.setWidth(t||0),this.setHeight(n||0)}toDataURL(t,n){try{return this._canvas.toDataURL(t,n)}catch{try{return this._canvas.toDataURL()}catch(r){return Sr.Util.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Se.Canvas=Yr;cp.Factory.addGetterSetter(Yr,"pixelRatio",void 0,(0,hp.getNumberValidator)());class dp extends Yr{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new Cu.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}Se.SceneCanvas=dp;class fp extends Yr{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new Cu.HitContext(this),this.setSize(t.width,t.height)}}Se.HitCanvas=fp;var Xr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=ht,n=Lt;e.DD={get isDragging(){let i=!1;return e.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return e.DD._dragElements.forEach(r=>{i=r.node}),i},_dragElements:new Map,_drag(i){const r=[];e.DD._dragElements.forEach((s,o)=>{const{node:a}=s,l=a.getStage();l.setPointersPositions(i),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(i));const c=l._changedPointerPositions.find(h=>h.id===s.pointerId);if(c){if(s.dragStatus!=="dragging"){const h=a.dragDistance();if(Math.max(Math.abs(c.x-s.startPointerPos.x),Math.abs(c.y-s.startPointerPos.y))<h||(a.startDrag({evt:i}),!a.isDragging()))return}a._setDragPosition(i,s),r.push(a)}}),r.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:i},!0)})},_endDragBefore(i){const r=[];e.DD._dragElements.forEach(s=>{const{node:o}=s,a=o.getStage();if(i&&a.setPointersPositions(i),!a._changedPointerPositions.find(h=>h.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,s.dragStatus="stopped");const c=s.node.getLayer()||s.node instanceof t.Konva.Stage&&s.node;c&&r.indexOf(c)===-1&&r.push(c)}),r.forEach(s=>{s.draw()})},_endDragAfter(i){e.DD._dragElements.forEach((r,s)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:i},!0),r.dragStatus!=="dragging"&&e.DD._dragElements.delete(s)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))})(Xr);Object.defineProperty(Nt,"__esModule",{value:!0});Nt.Node=void 0;const ft=Lt,Wi=ut,pi=Se,Qe=ht,fe=Xr,Gt=et,hr="absoluteOpacity",tr="allEventListeners",Ie="absoluteTransform",tc="absoluteScale",_n="canvas",gp="Change",pp="children",mp="konva",Vo="listening",ec="mouseenter",nc="mouseleave",ic="set",rc="Shape",ur=" ",sc="stage",Ze="transform",_p="Stage",jo="visible",yp=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ur);let bp=1;class rt{constructor(t){this._id=bp++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===Ze||t===Ie)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,n){let i=this._cache.get(t);return(i===void 0||(t===Ze||t===Ie)&&i.dirty===!0)&&(i=n.call(this),this._cache.set(t,i)),i}_calculate(t,n,i){if(!this._attachedDepsListeners.get(t)){const r=n.map(s=>s+"Change.konva").join(ur);this.on(r,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,i)}_getCanvasCache(){return this._cache.get(_n)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Ie&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(_n)){const{scene:t,filter:n,hit:i}=this._cache.get(_n);ft.Util.releaseCanvas(t,n,i),this._cache.delete(_n)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){const n=t||{};let i={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(n.width||i.width),s=Math.ceil(n.height||i.height),o=n.pixelRatio,a=n.x===void 0?Math.floor(i.x):n.x,l=n.y===void 0?Math.floor(i.y):n.y,c=n.offset||0,h=n.drawBorder||!1,d=n.hitCanvasPixelRatio||1;if(!r||!s){ft.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const f=Math.abs(Math.round(i.x)-a)>.5?1:0,u=Math.abs(Math.round(i.y)-l)>.5?1:0;r+=c*2+f,s+=c*2+u,a-=c,l-=c;const p=new pi.SceneCanvas({pixelRatio:o,width:r,height:s}),m=new pi.SceneCanvas({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),y=new pi.HitCanvas({pixelRatio:d,width:r,height:s}),v=p.getContext(),E=y.getContext();return y.isCache=!0,p.isCache=!0,this._cache.delete(_n),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),v.save(),E.save(),v.translate(-a,-l),E.translate(-a,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(hr),this._clearSelfAndDescendantCache(tc),this.drawScene(p,this),this.drawHit(y,this),this._isUnderCache=!1,v.restore(),E.restore(),h&&(v.save(),v.beginPath(),v.rect(0,0,r,s),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.set(_n,{scene:p,filter:m,hit:y,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(_n)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,n){const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}];let r=1/0,s=1/0,o=-1/0,a=-1/0;const l=this.getAbsoluteTransform(n);return i.forEach(function(c){const h=l.point(c);r===void 0&&(r=o=h.x,s=a=h.y),r=Math.min(r,h.x),s=Math.min(s,h.y),o=Math.max(o,h.x),a=Math.max(a,h.y)}),{x:r,y:s,width:o-r,height:a-s}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();t.translate(n.x,n.y);const i=this._getCachedSceneCanvas(),r=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/r,i.height/r),t.restore()}_drawCachedHitCanvas(t){const n=this._getCanvasCache(),i=n.hit;t.save(),t.translate(n.x,n.y),t.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),t.restore()}_getCachedSceneCanvas(){let t=this.filters(),n=this._getCanvasCache(),i=n.scene,r=n.filter,s=r.getContext(),o,a,l,c;if(t){if(!this._filterUpToDate){const h=i.pixelRatio;r.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(o=t.length,s.clear(),s.drawImage(i._canvas,0,0,i.getWidth()/h,i.getHeight()/h),a=s.getImageData(0,0,r.getWidth(),r.getHeight()),l=0;l<o;l++){if(c=t[l],typeof c!="function"){ft.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),s.putImageData(a,0,0)}}catch(d){ft.Util.error("Unable to apply filter. "+d.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return r}return i}on(t,n){if(this._cache&&this._cache.delete(tr),arguments.length===3)return this._delegate.apply(this,arguments);let i=t.split(ur),r=i.length,s,o,a,l,c;for(s=0;s<r;s++)o=i[s],a=o.split("."),l=a[0],c=a[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:c,handler:n});return this}off(t,n){let i=(t||"").split(ur),r=i.length,s,o,a,l,c,h;if(this._cache&&this._cache.delete(tr),!t)for(o in this.eventListeners)this._off(o);for(s=0;s<r;s++)if(a=i[s],l=a.split("."),c=l[0],h=l[1],c)this.eventListeners[c]&&this._off(c,h,n);else for(o in this.eventListeners)this._off(o,h,n);return this}dispatchEvent(t){const n={target:this,type:t.type,evt:t};return this.fire(t.type,n),this}addEventListener(t,n){return this.on(t,function(i){n.call(this,i.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,n,i){const r=this;this.on(t,function(s){const o=s.target.findAncestors(n,!0,r);for(let a=0;a<o.length;a++)s=ft.Util.cloneObject(s),s.currentTarget=o[a],i.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),fe.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ie),this._clearSelfAndDescendantCache(hr),this._clearSelfAndDescendantCache(tc),this._clearSelfAndDescendantCache(sc),this._clearSelfAndDescendantCache(jo),this._clearSelfAndDescendantCache(Vo)}_remove(){this._clearCaches();const t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){const n="get"+ft.Util._capitalize(t);return ft.Util._isFunction(this[n])?this[n]():this.attrs[t]}getAncestors(){let t=this.getParent(),n=[];for(;t;)n.push(t),t=t.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{let n,i;if(!t)return this;for(n in t)n!==pp&&(i=ic+ft.Util._capitalize(n),ft.Util._isFunction(this[i])?this[i](t[n]):this._setAttr(n,t[n]))}),this}isListening(){return this._getCache(Vo,this._isListening)}_isListening(t){if(!this.listening())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isListening(t):!0}isVisible(){return this._getCache(jo,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isVisible(t):!0}shouldDrawHit(t,n=!1){if(t)return this._isVisible(t)&&this._isListening(t);const i=this.getLayer();let r=!1;fe.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===i)&&(r=!0)});const s=!n&&!Qe.Konva.hitOnDragEnabled&&(r||Qe.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let t=this.getDepth(),n=this,i=0,r,s,o,a;function l(h){for(r=[],s=h.length,o=0;o<s;o++)a=h[o],i++,a.nodeType!==rc&&(r=r.concat(a.getChildren().slice())),a._id===n._id&&(o=s);r.length>0&&r[0].getDepth()<=t&&l(r)}const c=this.getStage();return n.nodeType!==_p&&c&&l(c.getChildren()),i}getDepth(){let t=0,n=this.parent;for(;n;)t++,n=n.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Ze),this._clearSelfAndDescendantCache(Ie)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const t=this.getStage();if(!t)return null;const n=t.getPointerPosition();if(!n)return null;const i=this.getAbsoluteTransform().copy();return i.invert(),i.point(n)}getAbsolutePosition(t){let n=!1,i=this.parent;for(;i;){if(i.isCached()){n=!0;break}i=i.parent}n&&!t&&(t=!0);const r=this.getAbsoluteTransform(t).getMatrix(),s=new ft.Transform,o=this.offset();return s.m=r.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(t){const{x:n,y:i,...r}=this._clearTransform();this.attrs.x=n,this.attrs.y=i,this._clearCache(Ze);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(t.x,t.y),t={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(r),this.setPosition({x:t.x,y:t.y}),this._clearCache(Ze),this._clearSelfAndDescendantCache(Ie),this}_setTransform(t){let n;for(n in t)this.attrs[n]=t[n]}_clearTransform(){const t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){let n=t.x,i=t.y,r=this.x(),s=this.y();return n!==void 0&&(r+=n),i!==void 0&&(s+=i),this.setPosition({x:r,y:s}),this}_eachAncestorReverse(t,n){let i=[],r=this.getParent(),s,o;if(!(n&&n._id===this._id)){for(i.unshift(this);r&&(!n||r._id!==n._id);)i.unshift(r),r=r.parent;for(s=i.length,o=0;o<s;o++)t(i[o])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return ft.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ft.Util.warn("Node has no parent. moveUp function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ft.Util.warn("Node has no parent. moveDown function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ft.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return ft.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&ft.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(hr,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let t=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(t*=n.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){let t=this.getAttrs(),n,i,r,s,o;const a={attrs:{},className:this.getClassName()};for(n in t)i=t[n],o=ft.Util.isObject(i)&&!ft.Util._isPlainObject(i)&&!ft.Util._isArray(i),!o&&(r=typeof this[n]=="function"&&this[n],delete t[n],s=r?r.call(this):null,t[n]=i,s!==i&&(a.attrs[n]=i));return ft.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,n,i){const r=[];n&&this._isMatch(t)&&r.push(this);let s=this.parent;for(;s;){if(s===i)return r;s._isMatch(t)&&r.push(s),s=s.parent}return r}isAncestorOf(t){return!1}findAncestor(t,n,i){return this.findAncestors(t,n,i)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);let n=t.replace(/ /g,"").split(","),i=n.length,r,s;for(r=0;r<i;r++)if(s=n[r],ft.Util.isValidSelector(s)||(ft.Util.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ft.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ft.Util.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(sc,this._getStage)}_getStage(){const t=this.getParent();return t?t.getStage():null}fire(t,n={},i){return n.target=n.target||this,i?this._fireAndBubble(t,n):this._fire(t,n),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Ie,this._getAbsoluteTransform)}_getAbsoluteTransform(t){let n;if(t)return n=new ft.Transform,this._eachAncestorReverse(function(i){const r=i.transformsEnabled();r==="all"?n.multiply(i.getTransform()):r==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},t),n;{n=this._cache.get(Ie)||new ft.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const i=this.transformsEnabled();if(i==="all")n.multiply(this.getTransform());else if(i==="position"){const r=this.attrs.x||0,s=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(r-o,s-a)}return n.dirty=!1,n}}getAbsoluteScale(t){let n=this;for(;n;)n._isUnderCache&&(t=n),n=n.getParent();const r=this.getAbsoluteTransform(t).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Ze,this._getTransform)}_getTransform(){var t,n;const i=this._cache.get(Ze)||new ft.Transform;i.reset();const r=this.x(),s=this.y(),o=Qe.Konva.getAngle(this.rotation()),a=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,h=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(r!==0||s!==0)&&i.translate(r,s),o!==0&&i.rotate(o),(c!==0||h!==0)&&i.skew(c,h),(a!==1||l!==1)&&i.scale(a,l),(d!==0||f!==0)&&i.translate(-1*d,-1*f),i.dirty=!1,i}clone(t){let n=ft.Util.cloneObject(this.attrs),i,r,s,o,a;for(i in t)n[i]=t[i];const l=new this.constructor(n);for(i in this.eventListeners)for(r=this.eventListeners[i],s=r.length,o=0;o<s;o++)a=r[o],a.name.indexOf(mp)<0&&(l.eventListeners[i]||(l.eventListeners[i]=[]),l.eventListeners[i].push(a));return l}_toKonvaCanvas(t){t=t||{};const n=this.getClientRect(),i=this.getStage(),r=t.x!==void 0?t.x:Math.floor(n.x),s=t.y!==void 0?t.y:Math.floor(n.y),o=t.pixelRatio||1,a=new pi.SceneCanvas({width:t.width||Math.ceil(n.width)||(i?i.width():0),height:t.height||Math.ceil(n.height)||(i?i.height():0),pixelRatio:o}),l=a.getContext(),c=new pi.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(r),height:a.height/a.pixelRatio+Math.abs(s),pixelRatio:a.pixelRatio});return t.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(r||s)&&l.translate(-1*r,-1*s),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};const n=t.mimeType||null,i=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(n,i);return t.callback&&t.callback(r),r}toImage(t){return new Promise((n,i)=>{try{const r=t==null?void 0:t.callback;r&&delete t.callback,ft.Util._urlToImage(this.toDataURL(t),function(s){n(s),r==null||r(s)})}catch(r){i(r)}})}toBlob(t){return new Promise((n,i)=>{try{const r=t==null?void 0:t.callback;r&&delete t.callback,this.toCanvas(t).toBlob(s=>{n(s),r==null||r(s)},t==null?void 0:t.mimeType,t==null?void 0:t.quality)}catch(r){i(r)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Qe.Konva.dragDistance}_off(t,n,i){let r=this.eventListeners[t],s,o,a;for(s=0;s<r.length;s++)if(o=r[s].name,a=r[s].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!i||i===a)){if(r.splice(s,1),r.length===0){delete this.eventListeners[t];break}s--}}_fireChangeEvent(t,n,i){this._fire(t+gp,{oldVal:n,newVal:i})}addName(t){if(!this.hasName(t)){const n=this.name(),i=n?n+" "+t:t;this.name(i)}return this}hasName(t){if(!t)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(t)!==-1:!1}removeName(t){const n=(this.name()||"").split(/\s/g),i=n.indexOf(t);return i!==-1&&(n.splice(i,1),this.name(n.join(" "))),this}setAttr(t,n){const i=this[ic+ft.Util._capitalize(t)];return ft.Util._isFunction(i)?i.call(this,n):this._setAttr(t,n),this}_requestDraw(){if(Qe.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();t==null||t.batchDraw()}}_setAttr(t,n){const i=this.attrs[t];i===n&&!ft.Util.isObject(n)||(n==null?delete this.attrs[t]:this.attrs[t]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,n),this._requestDraw())}_setComponentAttr(t,n,i){let r;i!==void 0&&(r=this.attrs[t],r||(this.attrs[t]=this.getAttr(t)),this.attrs[t][n]=i,this._fireChangeEvent(t,r,i))}_fireAndBubble(t,n,i){if(n&&this.nodeType===rc&&(n.target=this),!((t===ec||t===nc)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i))){this._fire(t,n);const s=(t===ec||t===nc)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,n,i):this._fireAndBubble.call(this.parent,t,n))}}_getProtoListeners(t){var n,i,r;const s=(n=this._cache.get(tr))!==null&&n!==void 0?n:{};let o=s==null?void 0:s[t];if(o===void 0){o=[];let a=Object.getPrototypeOf(this);for(;a;){const l=(r=(i=a.eventListeners)===null||i===void 0?void 0:i[t])!==null&&r!==void 0?r:[];o.push(...l),a=Object.getPrototypeOf(a)}s[t]=o,this._cache.set(tr,s)}return o}_fire(t,n){n=n||{},n.currentTarget=this,n.type=t;const i=this._getProtoListeners(t);if(i)for(var r=0;r<i.length;r++)i[r].handler.call(this,n);const s=this.eventListeners[t];if(s)for(var r=0;r<s.length;r++)s[r].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){const n=t?t.pointerId:void 0,i=this.getStage(),r=this.getAbsolutePosition();if(!i)return;const s=i._getPointerById(n)||i._changedPointerPositions[0]||r;fe.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-r.x,y:s.y-r.y},dragStatus:"ready",pointerId:n})}startDrag(t,n=!0){fe.DD._dragElements.has(this._id)||this._createDragElement(t);const i=fe.DD._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},n)}_setDragPosition(t,n){const i=this.getStage()._getPointerById(n.pointerId);if(!i)return;let r={x:i.x-n.offset.x,y:i.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const o=s.call(this,r,t);o?r=o:ft.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==r.x||this._lastPos.y!==r.y)&&(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(t){const n=fe.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),fe.DD._endDragBefore(t),fe.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=fe.DD._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){if(!(!(t.evt.button!==void 0)||Qe.Konva.dragButtons.indexOf(t.evt.button)>=0)||this.isDragging())return;let r=!1;fe.DD._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(r=!0)}),r||this._createDragElement(t)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=fe.DD._dragElements.get(this._id),i=n&&n.dragStatus==="dragging",r=n&&n.dragStatus==="ready";i?this.stopDrag():r&&fe.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const n=this.getStage();if(!n)return!1;const i={x:-t.x,y:-t.y,width:n.width()+2*t.x,height:n.height()+2*t.y};return ft.Util.haveIntersection(i,this.getClientRect())}static create(t,n){return ft.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,n)}static _createNode(t,n){let i=rt.prototype.getClassName.call(t),r=t.children,s,o,a;n&&(t.attrs.container=n),Qe.Konva[i]||(ft.Util.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const l=Qe.Konva[i];if(s=new l(t.attrs),r)for(o=r.length,a=0;a<o;a++)s.add(rt._createNode(r[a]));return s}}Nt.Node=rt;rt.prototype.nodeType="Node";rt.prototype._attrsAffectingSize=[];rt.prototype.eventListeners={};rt.prototype.on.call(rt.prototype,yp,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Ze),this._clearSelfAndDescendantCache(Ie)});rt.prototype.on.call(rt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(jo)});rt.prototype.on.call(rt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Vo)});rt.prototype.on.call(rt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(hr)});const Tt=Wi.Factory.addGetterSetter;Tt(rt,"zIndex");Tt(rt,"absolutePosition");Tt(rt,"position");Tt(rt,"x",0,(0,Gt.getNumberValidator)());Tt(rt,"y",0,(0,Gt.getNumberValidator)());Tt(rt,"globalCompositeOperation","source-over",(0,Gt.getStringValidator)());Tt(rt,"opacity",1,(0,Gt.getNumberValidator)());Tt(rt,"name","",(0,Gt.getStringValidator)());Tt(rt,"id","",(0,Gt.getStringValidator)());Tt(rt,"rotation",0,(0,Gt.getNumberValidator)());Wi.Factory.addComponentsGetterSetter(rt,"scale",["x","y"]);Tt(rt,"scaleX",1,(0,Gt.getNumberValidator)());Tt(rt,"scaleY",1,(0,Gt.getNumberValidator)());Wi.Factory.addComponentsGetterSetter(rt,"skew",["x","y"]);Tt(rt,"skewX",0,(0,Gt.getNumberValidator)());Tt(rt,"skewY",0,(0,Gt.getNumberValidator)());Wi.Factory.addComponentsGetterSetter(rt,"offset",["x","y"]);Tt(rt,"offsetX",0,(0,Gt.getNumberValidator)());Tt(rt,"offsetY",0,(0,Gt.getNumberValidator)());Tt(rt,"dragDistance",null,(0,Gt.getNumberValidator)());Tt(rt,"width",0,(0,Gt.getNumberValidator)());Tt(rt,"height",0,(0,Gt.getNumberValidator)());Tt(rt,"listening",!0,(0,Gt.getBooleanValidator)());Tt(rt,"preventDefault",!0,(0,Gt.getBooleanValidator)());Tt(rt,"filters",null,function(e){return this._filterUpToDate=!1,e});Tt(rt,"visible",!0,(0,Gt.getBooleanValidator)());Tt(rt,"transformsEnabled","all",(0,Gt.getStringValidator)());Tt(rt,"size");Tt(rt,"dragBoundFunc");Tt(rt,"draggable",!1,(0,Gt.getBooleanValidator)());Wi.Factory.backCompat(rt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Container=void 0;const ii=ut,ro=Nt,Jr=et;class Rn extends ro.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const n=this.children||[],i=[];return n.forEach(function(r){t(r)&&i.push(r)}),i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(let i=0;i<t.length;i++)this.add(t[i]);return this}const n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){const n=this._generalFind(t,!0);return n.length>0?n[0]:void 0}_generalFind(t,n){const i=[];return this._descendants(r=>{const s=r._isMatch(t);return s&&i.push(r),!!(s&&n)}),i}_descendants(t){let n=!1;const i=this.getChildren();for(const r of i){if(n=t(r),n)return!0;if(r.hasChildren()&&(n=r._descendants(t),n))return!0}return!1}toObject(){const t=ro.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(n=>{t.children.push(n.toObject())}),t}isAncestorOf(t){let n=t.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(t){const n=ro.Node.prototype.clone.call(this,t);return this.getChildren().forEach(function(i){n.add(i.clone())}),n}getAllIntersections(t){const n=[];return this.find("Shape").forEach(i=>{i.isVisible()&&i.intersects(t)&&n.push(i)}),n}_clearSelfAndDescendantCache(t){var n;super._clearSelfAndDescendantCache(t),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(i){i._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(n,i){n.index=i}),this._requestDraw()}drawScene(t,n,i){const r=this.getLayer(),s=t||r&&r.getCanvas(),o=s&&s.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(l){o.save();const h=this.getAbsoluteTransform(n).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,n,i);return this}drawHit(t,n){if(!this.shouldDrawHit(n))return this;const i=this.getLayer(),r=t||i&&i.hitCanvas,s=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){s.save();const l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",r,n);return this}_drawChildren(t,n,i,r){var s;const o=n&&n.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),h=typeof a=="number"&&typeof l=="number"||c,d=i===this;if(h){o.save();const u=this.getAbsoluteTransform(i);let p=u.getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),o.beginPath();let m;if(c)m=c.call(this,o,this);else{const y=this.clipX(),v=this.clipY();o.rect(y||0,v||0,a,l)}o.clip.apply(o,m),p=u.copy().invert().getMatrix(),o.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const f=!d&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";f&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(u){u[t](n,i,r)}),f&&o.restore(),h&&o.restore()}getClientRect(t={}){var n;const i=t.skipTransform,r=t.relativeTo;let s,o,a,l,c={x:1/0,y:1/0,width:0,height:0};const h=this;(n=this.children)===null||n===void 0||n.forEach(function(u){if(!u.visible())return;const p=u.getClientRect({relativeTo:h,skipShadow:t.skipShadow,skipStroke:t.skipStroke});p.width===0&&p.height===0||(s===void 0?(s=p.x,o=p.y,a=p.x+p.width,l=p.y+p.height):(s=Math.min(s,p.x),o=Math.min(o,p.y),a=Math.max(a,p.x+p.width),l=Math.max(l,p.y+p.height)))});const d=this.find("Shape");let f=!1;for(let u=0;u<d.length;u++)if(d[u]._isVisible(this)){f=!0;break}return f&&s!==void 0?c={x:s,y:o,width:a-s,height:l-o}:c={x:0,y:0,width:0,height:0},i?c:this._transformedRect(c,r)}}Pn.Container=Rn;ii.Factory.addComponentsGetterSetter(Rn,"clip",["x","y","width","height"]);ii.Factory.addGetterSetter(Rn,"clipX",void 0,(0,Jr.getNumberValidator)());ii.Factory.addGetterSetter(Rn,"clipY",void 0,(0,Jr.getNumberValidator)());ii.Factory.addGetterSetter(Rn,"clipWidth",void 0,(0,Jr.getNumberValidator)());ii.Factory.addGetterSetter(Rn,"clipHeight",void 0,(0,Jr.getNumberValidator)());ii.Factory.addGetterSetter(Rn,"clipFunc");var Eu={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.getCapturedShape=Sp;cn.createEvent=Pa;cn.hasPointerCapture=wp;cn.setPointerCapture=Cp;cn.releaseCapture=Pu;const vp=ht,Ii=new Map,Tu=vp.Konva._global.PointerEvent!==void 0;function Sp(e){return Ii.get(e)}function Pa(e){return{evt:e,pointerId:e.pointerId}}function wp(e,t){return Ii.get(e)===t}function Cp(e,t){Pu(e),t.getStage()&&(Ii.set(e,t),Tu&&t._fire("gotpointercapture",Pa(new PointerEvent("gotpointercapture"))))}function Pu(e,t){const n=Ii.get(e);if(!n)return;const i=n.getStage();i&&i.content,Ii.delete(e),Tu&&n._fire("lostpointercapture",Pa(new PointerEvent("lostpointercapture")))}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=Lt,n=ut,i=Pn,r=ht,s=Se,o=Xr,a=ht,l=cn,c="Stage",h="string",d="px",f="mouseout",u="mouseleave",p="mouseover",m="mouseenter",y="mousemove",v="mousedown",E="mouseup",g="pointermove",_="pointerdown",S="pointerup",P="pointercancel",M="lostpointercapture",T="pointerout",F="pointerleave",C="pointerover",A="pointerenter",D="contextmenu",K="touchstart",nt="touchend",V="touchmove",Y="touchcancel",q="wheel",J=5,Ot=[[m,"_pointerenter"],[v,"_pointerdown"],[y,"_pointermove"],[E,"_pointerup"],[u,"_pointerleave"],[K,"_pointerdown"],[V,"_pointermove"],[nt,"_pointerup"],[Y,"_pointercancel"],[p,"_pointerover"],[q,"_wheel"],[D,"_contextmenu"],[_,"_pointerdown"],[g,"_pointermove"],[S,"_pointerup"],[P,"_pointercancel"],[M,"_lostpointercapture"]],j={mouse:{[T]:f,[F]:u,[C]:p,[A]:m,[g]:y,[_]:v,[S]:E,[P]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[T]:"touchout",[F]:"touchleave",[C]:"touchover",[A]:"touchenter",[g]:V,[_]:K,[S]:nt,[P]:Y,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[T]:T,[F]:F,[C]:C,[A]:A,[g]:g,[_]:_,[S]:S,[P]:P,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Z=xt=>xt.indexOf("pointer")>=0?"pointer":xt.indexOf("touch")>=0?"touch":"mouse",st=xt=>{const b=Z(xt);if(b==="pointer")return r.Konva.pointerEventsEnabled&&j.pointer;if(b==="touch")return j.touch;if(b==="mouse")return j.mouse};function dt(xt={}){return(xt.clipFunc||xt.clipWidth||xt.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),xt}const mt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class Kt extends i.Container{constructor(b){super(dt(b)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{dt(this.attrs)}),this._checkVisibility()}_validateAdd(b){const O=b.getType()==="Layer",N=b.getType()==="FastLayer";O||N||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const b=this.visible()?"":"none";this.content.style.display=b}setContainer(b){if(typeof b===h){if(b.charAt(0)==="."){const N=b.slice(1);b=document.getElementsByClassName(N)[0]}else{var O;b.charAt(0)!=="#"?O=b:O=b.slice(1),b=document.getElementById(O)}if(!b)throw"Can not find container in document with id "+O}return this._setAttr("container",b),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),b.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let b=this.children,O=b.length,N;for(N=0;N<O;N++)b[N].clear();return this}clone(b){return b||(b={}),b.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,b)}destroy(){super.destroy();const b=this.content;b&&t.Util._isInDocument(b)&&this.container().removeChild(b);const O=e.stages.indexOf(this);return O>-1&&e.stages.splice(O,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const b=this._pointerPositions[0]||this._changedPointerPositions[0];return b?{x:b.x,y:b.y}:(t.Util.warn(mt),null)}_getPointerById(b){return this._pointerPositions.find(O=>O.id===b)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(b){b=b||{},b.x=b.x||0,b.y=b.y||0,b.width=b.width||this.width(),b.height=b.height||this.height();const O=new s.SceneCanvas({width:b.width,height:b.height,pixelRatio:b.pixelRatio||1}),N=O.getContext()._context,U=this.children;return(b.x||b.y)&&N.translate(-1*b.x,-1*b.y),U.forEach(function(X){if(!X.isVisible())return;const ot=X._toKonvaCanvas(b);N.drawImage(ot._canvas,b.x,b.y,ot.getWidth()/ot.getPixelRatio(),ot.getHeight()/ot.getPixelRatio())}),O}getIntersection(b){if(!b)return null;let O=this.children,N=O.length,U=N-1,X;for(X=U;X>=0;X--){const ot=O[X].getIntersection(b);if(ot)return ot}return null}_resizeDOM(){const b=this.width(),O=this.height();this.content&&(this.content.style.width=b+d,this.content.style.height=O+d),this.bufferCanvas.setSize(b,O),this.bufferHitCanvas.setSize(b,O),this.children.forEach(N=>{N.setSize({width:b,height:O}),N.draw()})}add(b,...O){if(arguments.length>1){for(let U=0;U<arguments.length;U++)this.add(arguments[U]);return this}super.add(b);const N=this.children.length;return N>J&&t.Util.warn("The stage has "+N+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),b.setSize({width:this.width(),height:this.height()}),b.draw(),r.Konva.isBrowser&&this.content.appendChild(b.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(b){return l.hasPointerCapture(b,this)}setPointerCapture(b){l.setPointerCapture(b,this)}releaseCapture(b){l.releaseCapture(b,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&Ot.forEach(([b,O])=>{this.content.addEventListener(b,N=>{this[O](N)},{passive:!1})})}_pointerenter(b){this.setPointersPositions(b);const O=st(b.type);O&&this._fire(O.pointerenter,{evt:b,target:this,currentTarget:this})}_pointerover(b){this.setPointersPositions(b);const O=st(b.type);O&&this._fire(O.pointerover,{evt:b,target:this,currentTarget:this})}_getTargetShape(b){let O=this[b+"targetShape"];return O&&!O.getStage()&&(O=null),O}_pointerleave(b){const O=st(b.type),N=Z(b.type);if(!O)return;this.setPointersPositions(b);const U=this._getTargetShape(N),X=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;U&&X?(U._fireAndBubble(O.pointerout,{evt:b}),U._fireAndBubble(O.pointerleave,{evt:b}),this._fire(O.pointerleave,{evt:b,target:this,currentTarget:this}),this[N+"targetShape"]=null):X&&(this._fire(O.pointerleave,{evt:b,target:this,currentTarget:this}),this._fire(O.pointerout,{evt:b,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(b){const O=st(b.type),N=Z(b.type);if(!O)return;this.setPointersPositions(b);let U=!1;this._changedPointerPositions.forEach(X=>{const ot=this.getIntersection(X);if(o.DD.justDragged=!1,r.Konva["_"+N+"ListenClick"]=!0,!ot||!ot.isListening()){this[N+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&ot.setPointerCapture(X.id),this[N+"ClickStartShape"]=ot,ot._fireAndBubble(O.pointerdown,{evt:b,pointerId:X.id}),U=!0;const w=b.type.indexOf("touch")>=0;ot.preventDefault()&&b.cancelable&&w&&b.preventDefault()}),U||this._fire(O.pointerdown,{evt:b,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(b){const O=st(b.type),N=Z(b.type);if(!O||(r.Konva.isDragging()&&o.DD.node.preventDefault()&&b.cancelable&&b.preventDefault(),this.setPointersPositions(b),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const X={};let ot=!1;const w=this._getTargetShape(N);this._changedPointerPositions.forEach(x=>{const R=l.getCapturedShape(x.id)||this.getIntersection(x),I=x.id,L={evt:b,pointerId:I},G=w!==R;if(G&&w&&(w._fireAndBubble(O.pointerout,{...L},R),w._fireAndBubble(O.pointerleave,{...L},R)),R){if(X[R._id])return;X[R._id]=!0}R&&R.isListening()?(ot=!0,G&&(R._fireAndBubble(O.pointerover,{...L},w),R._fireAndBubble(O.pointerenter,{...L},w),this[N+"targetShape"]=R),R._fireAndBubble(O.pointermove,{...L})):w&&(this._fire(O.pointerover,{evt:b,target:this,currentTarget:this,pointerId:I}),this[N+"targetShape"]=null)}),ot||this._fire(O.pointermove,{evt:b,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(b){const O=st(b.type),N=Z(b.type);if(!O)return;this.setPointersPositions(b);const U=this[N+"ClickStartShape"],X=this[N+"ClickEndShape"],ot={};let w=!1;this._changedPointerPositions.forEach(x=>{const R=l.getCapturedShape(x.id)||this.getIntersection(x);if(R){if(R.releaseCapture(x.id),ot[R._id])return;ot[R._id]=!0}const I=x.id,L={evt:b,pointerId:I};let G=!1;r.Konva["_"+N+"InDblClickWindow"]?(G=!0,clearTimeout(this[N+"DblTimeout"])):o.DD.justDragged||(r.Konva["_"+N+"InDblClickWindow"]=!0,clearTimeout(this[N+"DblTimeout"])),this[N+"DblTimeout"]=setTimeout(function(){r.Konva["_"+N+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),R&&R.isListening()?(w=!0,this[N+"ClickEndShape"]=R,R._fireAndBubble(O.pointerup,{...L}),r.Konva["_"+N+"ListenClick"]&&U&&U===R&&(R._fireAndBubble(O.pointerclick,{...L}),G&&X&&X===R&&R._fireAndBubble(O.pointerdblclick,{...L}))):(this[N+"ClickEndShape"]=null,r.Konva["_"+N+"ListenClick"]&&this._fire(O.pointerclick,{evt:b,target:this,currentTarget:this,pointerId:I}),G&&this._fire(O.pointerdblclick,{evt:b,target:this,currentTarget:this,pointerId:I}))}),w||this._fire(O.pointerup,{evt:b,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+N+"ListenClick"]=!1,b.cancelable&&N!=="touch"&&b.preventDefault()}_contextmenu(b){this.setPointersPositions(b);const O=this.getIntersection(this.getPointerPosition());O&&O.isListening()?O._fireAndBubble(D,{evt:b}):this._fire(D,{evt:b,target:this,currentTarget:this})}_wheel(b){this.setPointersPositions(b);const O=this.getIntersection(this.getPointerPosition());O&&O.isListening()?O._fireAndBubble(q,{evt:b}):this._fire(q,{evt:b,target:this,currentTarget:this})}_pointercancel(b){this.setPointersPositions(b);const O=l.getCapturedShape(b.pointerId)||this.getIntersection(this.getPointerPosition());O&&O._fireAndBubble(S,l.createEvent(b)),l.releaseCapture(b.pointerId)}_lostpointercapture(b){l.releaseCapture(b.pointerId)}setPointersPositions(b){let O=this._getContentPosition(),N=null,U=null;b=b||window.event,b.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(b.touches,X=>{this._pointerPositions.push({id:X.identifier,x:(X.clientX-O.left)/O.scaleX,y:(X.clientY-O.top)/O.scaleY})}),Array.prototype.forEach.call(b.changedTouches||b.touches,X=>{this._changedPointerPositions.push({id:X.identifier,x:(X.clientX-O.left)/O.scaleX,y:(X.clientY-O.top)/O.scaleY})})):(N=(b.clientX-O.left)/O.scaleX,U=(b.clientY-O.top)/O.scaleY,this.pointerPos={x:N,y:U},this._pointerPositions=[{x:N,y:U,id:t.Util._getFirstPointerId(b)}],this._changedPointerPositions=[{x:N,y:U,id:t.Util._getFirstPointerId(b)}])}_setPointerPosition(b){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(b)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const b=this.content.getBoundingClientRect();return{top:b.top,left:b.left,scaleX:b.width/this.content.clientWidth||1,scaleY:b.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const b=this.container();if(!b)throw"Stage has no container. A container is required.";b.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),b.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(b){b.batchDraw()}),this}}e.Stage=Kt,Kt.prototype.nodeType=c,(0,a._registerNode)(Kt),n.Factory.addGetterSetter(Kt,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(xt=>{xt.batchDraw()})})})(Eu);var zi={},jt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=ht,n=Lt,i=ut,r=Nt,s=et,o=ht,a=cn,l="hasShadow",c="shadowRGBA",h="patternImage",d="linearGradient",f="radialGradient";let u;function p(){return u||(u=n.Util.createCanvasElement().getContext("2d"),u)}e.shapes={};function m(F){const C=this.attrs.fillRule;C?F.fill(C):F.fill()}function y(F){F.stroke()}function v(F){const C=this.attrs.fillRule;C?F.fill(C):F.fill()}function E(F){F.stroke()}function g(){this._clearCache(l)}function _(){this._clearCache(c)}function S(){this._clearCache(h)}function P(){this._clearCache(d)}function M(){this._clearCache(f)}class T extends r.Node{constructor(C){super(C);let A;for(;A=n.Util.getRandomColor(),!(A&&!(A in e.shapes)););this.colorKey=A,e.shapes[A]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(h,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const A=p().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(A&&A.setTransform){const D=new n.Transform;D.translate(this.fillPatternX(),this.fillPatternY()),D.rotate(t.Konva.getAngle(this.fillPatternRotation())),D.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),D.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const K=D.getMatrix(),nt=typeof DOMMatrix>"u"?{a:K[0],b:K[1],c:K[2],d:K[3],e:K[4],f:K[5]}:new DOMMatrix(K);A.setTransform(nt)}return A}}_getLinearGradient(){return this._getCache(d,this.__getLinearGradient)}__getLinearGradient(){const C=this.fillLinearGradientColorStops();if(C){const A=p(),D=this.fillLinearGradientStartPoint(),K=this.fillLinearGradientEndPoint(),nt=A.createLinearGradient(D.x,D.y,K.x,K.y);for(let V=0;V<C.length;V+=2)nt.addColorStop(C[V],C[V+1]);return nt}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){const C=this.fillRadialGradientColorStops();if(C){const A=p(),D=this.fillRadialGradientStartPoint(),K=this.fillRadialGradientEndPoint(),nt=A.createRadialGradient(D.x,D.y,this.fillRadialGradientStartRadius(),K.x,K.y,this.fillRadialGradientEndRadius());for(let V=0;V<C.length;V+=2)nt.addColorStop(C[V],C[V+1]);return nt}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const C=n.Util.colorToRGBA(this.shadowColor());if(C)return"rgba("+C.r+","+C.g+","+C.b+","+C.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const C=this.hitStrokeWidth();return C==="auto"?this.hasStroke():this.strokeEnabled()&&!!C}intersects(C){const A=this.getStage();if(!A)return!1;const D=A.bufferHitCanvas;return D.getContext().clear(),this.drawHit(D,void 0,!0),D.context.getImageData(Math.round(C.x),Math.round(C.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(C){var A;if(!((A=this.attrs.perfectDrawEnabled)!==null&&A!==void 0?A:!0))return!1;const K=C||this.hasFill(),nt=this.hasStroke(),V=this.getAbsoluteOpacity()!==1;if(K&&nt&&V)return!0;const Y=this.hasShadow(),q=this.shadowForStrokeEnabled();return!!(K&&nt&&Y&&q)}setStrokeHitEnabled(C){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),C?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const C=this.size();return{x:this._centroid?-C.width/2:0,y:this._centroid?-C.height/2:0,width:C.width,height:C.height}}getClientRect(C={}){let A=!1,D=this.getParent();for(;D;){if(D.isCached()){A=!0;break}D=D.getParent()}const K=C.skipTransform,nt=C.relativeTo||A&&this.getStage()||void 0,V=this.getSelfRect(),q=!C.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,J=V.width+q,Ot=V.height+q,j=!C.skipShadow&&this.hasShadow(),Z=j?this.shadowOffsetX():0,st=j?this.shadowOffsetY():0,dt=J+Math.abs(Z),mt=Ot+Math.abs(st),Kt=j&&this.shadowBlur()||0,xt=dt+Kt*2,b=mt+Kt*2,O={width:xt,height:b,x:-(q/2+Kt)+Math.min(Z,0)+V.x,y:-(q/2+Kt)+Math.min(st,0)+V.y};return K?O:this._transformedRect(O,nt)}drawScene(C,A,D){const K=this.getLayer();let nt=C||K.getCanvas(),V=nt.getContext(),Y=this._getCanvasCache(),q=this.getSceneFunc(),J=this.hasShadow(),Ot,j;const Z=nt.isCache,st=A===this;if(!this.isVisible()&&!st)return this;if(Y){V.save();const mt=this.getAbsoluteTransform(A).getMatrix();return V.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]),this._drawCachedSceneCanvas(V),V.restore(),this}if(!q)return this;if(V.save(),this._useBufferCanvas()&&!Z){Ot=this.getStage();const mt=D||Ot.bufferCanvas;j=mt.getContext(),j.clear(),j.save(),j._applyLineJoin(this);var dt=this.getAbsoluteTransform(A).getMatrix();j.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),q.call(this,j,this),j.restore();const Kt=mt.pixelRatio;J&&V._applyShadow(this),V._applyOpacity(this),V._applyGlobalCompositeOperation(this),V.drawImage(mt._canvas,0,0,mt.width/Kt,mt.height/Kt)}else{if(V._applyLineJoin(this),!st){var dt=this.getAbsoluteTransform(A).getMatrix();V.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),V._applyOpacity(this),V._applyGlobalCompositeOperation(this)}J&&V._applyShadow(this),q.call(this,V,this)}return V.restore(),this}drawHit(C,A,D=!1){if(!this.shouldDrawHit(A,D))return this;const K=this.getLayer(),nt=C||K.hitCanvas,V=nt&&nt.getContext(),Y=this.hitFunc()||this.sceneFunc(),q=this._getCanvasCache(),J=q&&q.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),J){V.save();const j=this.getAbsoluteTransform(A).getMatrix();return V.transform(j[0],j[1],j[2],j[3],j[4],j[5]),this._drawCachedHitCanvas(V),V.restore(),this}if(!Y)return this;if(V.save(),V._applyLineJoin(this),!(this===A)){const j=this.getAbsoluteTransform(A).getMatrix();V.transform(j[0],j[1],j[2],j[3],j[4],j[5])}return Y.call(this,V,this),V.restore(),this}drawHitFromCache(C=0){let A=this._getCanvasCache(),D=this._getCachedSceneCanvas(),K=A.hit,nt=K.getContext(),V=K.getWidth(),Y=K.getHeight(),q,J,Ot,j,Z,st;nt.clear(),nt.drawImage(D._canvas,0,0,V,Y);try{for(q=nt.getImageData(0,0,V,Y),J=q.data,Ot=J.length,j=n.Util._hexToRgb(this.colorKey),Z=0;Z<Ot;Z+=4)st=J[Z+3],st>C?(J[Z]=j.r,J[Z+1]=j.g,J[Z+2]=j.b,J[Z+3]=255):J[Z+3]=0;nt.putImageData(q,0,0)}catch(dt){n.Util.error("Unable to draw hit graph from cached scene canvas. "+dt.message)}return this}hasPointerCapture(C){return a.hasPointerCapture(C,this)}setPointerCapture(C){a.setPointerCapture(C,this)}releaseCapture(C){a.releaseCapture(C,this)}}e.Shape=T,T.prototype._fillFunc=m,T.prototype._strokeFunc=y,T.prototype._fillFuncHit=v,T.prototype._strokeFuncHit=E,T.prototype._centroid=!1,T.prototype.nodeType="Shape",(0,o._registerNode)(T),T.prototype.eventListeners={},T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",g),T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",S),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",P),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),i.Factory.addGetterSetter(T,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(T,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(T,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(T,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(T,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(T,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(T,"lineJoin"),i.Factory.addGetterSetter(T,"lineCap"),i.Factory.addGetterSetter(T,"sceneFunc"),i.Factory.addGetterSetter(T,"hitFunc"),i.Factory.addGetterSetter(T,"dash"),i.Factory.addGetterSetter(T,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(T,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(T,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternImage"),i.Factory.addGetterSetter(T,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(T,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(T,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(T,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(T,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(T,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(T,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(T,"fillEnabled",!0),i.Factory.addGetterSetter(T,"strokeEnabled",!0),i.Factory.addGetterSetter(T,"shadowEnabled",!0),i.Factory.addGetterSetter(T,"dashEnabled",!0),i.Factory.addGetterSetter(T,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(T,"fillPriority","color"),i.Factory.addComponentsGetterSetter(T,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(T,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(T,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(T,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(T,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(T,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(T,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(T,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(T,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(T,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(T,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(T,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(T,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(T,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(T,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(T,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(T,"fillPatternRotation",0),i.Factory.addGetterSetter(T,"fillRule",void 0,(0,s.getStringValidator)()),i.Factory.backCompat(T,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(jt);Object.defineProperty(zi,"__esModule",{value:!0});zi.Layer=void 0;const De=Lt,so=Pn,Dn=Nt,Ra=ut,oc=Se,xp=et,Ep=jt,Tp=ht,Pp="#",Rp="beforeDraw",Ap="draw",Ru=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Op=Ru.length;class ri extends so.Container{constructor(t){super(t),this.canvas=new oc.SceneCanvas,this.hitCanvas=new oc.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),t<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[t+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Dn.Node.prototype.moveToTop.call(this);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Dn.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Dn.Node.prototype.moveDown.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Dn.Node.prototype.moveToBottom.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const t=this.getNativeCanvasElement();return Dn.Node.prototype.remove.call(this),t&&t.parentNode&&De.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:n}){return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&De.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),Dn.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){De.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){De.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,De.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;let n=1,i=!1;for(;;){for(let r=0;r<Op;r++){const s=Ru[r],o=this._getIntersection({x:t.x+s.x*n,y:t.y+s.y*n}),a=o.shape;if(a)return a;if(i=!!o.antialiased,!o.antialiased)break}if(i)n+=1;else return null}}_getIntersection(t){const n=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*n),Math.round(t.y*n),1,1).data,r=i[3];if(r===255){const s=De.Util._rgbToHex(i[0],i[1],i[2]),o=Ep.shapes[Pp+s];return o?{shape:o}:{antialiased:!0}}else if(r>0)return{antialiased:!0};return{}}drawScene(t,n){const i=this.getLayer(),r=t||i&&i.getCanvas();return this._fire(Rp,{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),so.Container.prototype.drawScene.call(this,r,n),this._fire(Ap,{node:this}),this}drawHit(t,n){const i=this.getLayer(),r=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),so.Container.prototype.drawHit.call(this,r,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){De.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return De.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}destroy(){return De.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}zi.Layer=ri;ri.prototype.nodeType="Layer";(0,Tp._registerNode)(ri);Ra.Factory.addGetterSetter(ri,"imageSmoothingEnabled",!0);Ra.Factory.addGetterSetter(ri,"clearBeforeDraw",!0);Ra.Factory.addGetterSetter(ri,"hitGraphEnabled",!0,(0,xp.getBooleanValidator)());var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.FastLayer=void 0;const Fp=Lt,Mp=zi,kp=ht;class Aa extends Mp.Layer{constructor(t){super(t),this.listening(!1),Fp.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Qr.FastLayer=Aa;Aa.prototype.nodeType="FastLayer";(0,kp._registerNode)(Aa);var si={};Object.defineProperty(si,"__esModule",{value:!0});si.Group=void 0;const Np=Lt,Lp=Pn,Dp=ht;class Oa extends Lp.Container{_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&Np.Util.throw("You may only add groups and shapes to groups.")}}si.Group=Oa;Oa.prototype.nodeType="Group";(0,Dp._registerNode)(Oa);var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.Animation=void 0;const oo=ht,ac=Lt,ao=function(){return oo.glob.performance&&oo.glob.performance.now?function(){return oo.glob.performance.now()}:function(){return new Date().getTime()}}();class Ae{constructor(t,n){this.id=Ae.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:ao(),frameRate:0},this.func=t,this.setLayers(n)}setLayers(t){let n=[];return t&&(n=Array.isArray(t)?t:[t]),this.layers=n,this}getLayers(){return this.layers}addLayer(t){const n=this.layers,i=n.length;for(let r=0;r<i;r++)if(n[r]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){const n=Ae.animations,i=n.length;for(let r=0;r<i;r++)if(n[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=ao(),Ae._addAnimation(this),this}stop(){return Ae._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){const n=t.id,i=this.animations,r=i.length;for(let s=0;s<r;s++)if(i[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const t={},n=this.animations;for(let i=0;i<n.length;i++){const r=n[i],s=r.layers,o=r.func;r._updateFrameObject(ao());const a=s.length;let l;if(o?l=o.call(r,r.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){const h=s[c];h._id!==void 0&&(t[h._id]=h)}}for(const i in t)t.hasOwnProperty(i)&&t[i].batchDraw()}static _animationLoop(){const t=Ae;t.animations.length?(t._runFrames(),ac.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ac.Util.requestAnimFrame(this._animationLoop))}}oi.Animation=Ae;Ae.animations=[];Ae.animIdCounter=0;Ae.animRunning=!1;var Au={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=Lt,n=oi,i=Nt,r=ht;let s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,a=2,l=3,c=0,h=["fill","stroke","shadowColor"];class d{constructor(p,m,y,v,E,g,_){this.prop=p,this.propFunc=m,this.begin=v,this._pos=v,this.duration=g,this._change=0,this.prevPos=0,this.yoyo=_,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=y,this._change=E-this.begin,this.pause()}fire(p){const m=this[p];m&&m()}setTime(p){p>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():p<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=p,this.update())}getTime(){return this._time}setPosition(p){this.prevPos=this._pos,this.propFunc(p),this._pos=p}getPosition(p){return p===void 0&&(p=this._time),this.func(p,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(p){this.pause(),this._time=p,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const p=this.getTimer()-this._startTime;this.state===a?this.setTime(p):this.state===l&&this.setTime(this.duration-p)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class f{constructor(p){let m=this,y=p.node,v=y._id,E,g=p.easing||e.Easings.Linear,_=!!p.yoyo,S;typeof p.duration>"u"?E=.3:p.duration===0?E=.001:E=p.duration,this.node=y,this._id=c++;const P=y.getLayer()||(y instanceof r.Konva.Stage?y.getLayers():null);P||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){m.tween.onEnterFrame()},P),this.tween=new d(S,function(M){m._tweenFunc(M)},g,0,1,E*1e3,_),this._addListeners(),f.attrs[v]||(f.attrs[v]={}),f.attrs[v][this._id]||(f.attrs[v][this._id]={}),f.tweens[v]||(f.tweens[v]={});for(S in p)s[S]===void 0&&this._addAttr(S,p[S]);this.reset(),this.onFinish=p.onFinish,this.onReset=p.onReset,this.onUpdate=p.onUpdate}_addAttr(p,m){let y=this.node,v=y._id,E,g,_,S,P,M,T,F;if(_=f.tweens[v][p],_&&delete f.attrs[v][_][p],E=y.getAttr(p),t.Util._isArray(m))if(g=[],P=Math.max(m.length,E.length),p==="points"&&m.length!==E.length&&(m.length>E.length?(T=E,E=t.Util._prepareArrayForTween(E,m,y.closed())):(M=m,m=t.Util._prepareArrayForTween(m,E,y.closed()))),p.indexOf("fill")===0)for(S=0;S<P;S++)if(S%2===0)g.push(m[S]-E[S]);else{const C=t.Util.colorToRGBA(E[S]);F=t.Util.colorToRGBA(m[S]),E[S]=C,g.push({r:F.r-C.r,g:F.g-C.g,b:F.b-C.b,a:F.a-C.a})}else for(S=0;S<P;S++)g.push(m[S]-E[S]);else h.indexOf(p)!==-1?(E=t.Util.colorToRGBA(E),F=t.Util.colorToRGBA(m),g={r:F.r-E.r,g:F.g-E.g,b:F.b-E.b,a:F.a-E.a}):g=m-E;f.attrs[v][this._id][p]={start:E,diff:g,end:m,trueEnd:M,trueStart:T},f.tweens[v][p]=this._id}_tweenFunc(p){let m=this.node,y=f.attrs[m._id][this._id],v,E,g,_,S,P,M,T;for(v in y){if(E=y[v],g=E.start,_=E.diff,T=E.end,t.Util._isArray(g))if(S=[],M=Math.max(g.length,T.length),v.indexOf("fill")===0)for(P=0;P<M;P++)P%2===0?S.push((g[P]||0)+_[P]*p):S.push("rgba("+Math.round(g[P].r+_[P].r*p)+","+Math.round(g[P].g+_[P].g*p)+","+Math.round(g[P].b+_[P].b*p)+","+(g[P].a+_[P].a*p)+")");else for(P=0;P<M;P++)S.push((g[P]||0)+_[P]*p);else h.indexOf(v)!==-1?S="rgba("+Math.round(g.r+_.r*p)+","+Math.round(g.g+_.g*p)+","+Math.round(g.b+_.b*p)+","+(g.a+_.a*p)+")":S=g+_*p;m.setAttr(v,S)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const p=this.node,m=f.attrs[p._id][this._id];m.points&&m.points.trueEnd&&p.setAttr("points",m.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const p=this.node,m=f.attrs[p._id][this._id];m.points&&m.points.trueStart&&p.points(m.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(p){return this.tween.seek(p*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let p=this.node._id,m=this._id,y=f.tweens[p],v;this.pause();for(v in y)delete f.tweens[p][v];delete f.attrs[p][m]}}e.Tween=f,f.attrs={},f.tweens={},i.Node.prototype.to=function(u){const p=u.onFinish;u.node=this,u.onFinish=function(){this.destroy(),p&&p()},new f(u).play()},e.Easings={BackEaseIn(u,p,m,y){return m*(u/=y)*u*((1.70158+1)*u-1.70158)+p},BackEaseOut(u,p,m,y){return m*((u=u/y-1)*u*((1.70158+1)*u+1.70158)+1)+p},BackEaseInOut(u,p,m,y){let v=1.70158;return(u/=y/2)<1?m/2*(u*u*(((v*=1.525)+1)*u-v))+p:m/2*((u-=2)*u*(((v*=1.525)+1)*u+v)+2)+p},ElasticEaseIn(u,p,m,y,v,E){let g=0;return u===0?p:(u/=y)===1?p+m:(E||(E=y*.3),!v||v<Math.abs(m)?(v=m,g=E/4):g=E/(2*Math.PI)*Math.asin(m/v),-(v*Math.pow(2,10*(u-=1))*Math.sin((u*y-g)*(2*Math.PI)/E))+p)},ElasticEaseOut(u,p,m,y,v,E){let g=0;return u===0?p:(u/=y)===1?p+m:(E||(E=y*.3),!v||v<Math.abs(m)?(v=m,g=E/4):g=E/(2*Math.PI)*Math.asin(m/v),v*Math.pow(2,-10*u)*Math.sin((u*y-g)*(2*Math.PI)/E)+m+p)},ElasticEaseInOut(u,p,m,y,v,E){let g=0;return u===0?p:(u/=y/2)===2?p+m:(E||(E=y*(.3*1.5)),!v||v<Math.abs(m)?(v=m,g=E/4):g=E/(2*Math.PI)*Math.asin(m/v),u<1?-.5*(v*Math.pow(2,10*(u-=1))*Math.sin((u*y-g)*(2*Math.PI)/E))+p:v*Math.pow(2,-10*(u-=1))*Math.sin((u*y-g)*(2*Math.PI)/E)*.5+m+p)},BounceEaseOut(u,p,m,y){return(u/=y)<1/2.75?m*(7.5625*u*u)+p:u<2/2.75?m*(7.5625*(u-=1.5/2.75)*u+.75)+p:u<2.5/2.75?m*(7.5625*(u-=2.25/2.75)*u+.9375)+p:m*(7.5625*(u-=2.625/2.75)*u+.984375)+p},BounceEaseIn(u,p,m,y){return m-e.Easings.BounceEaseOut(y-u,0,m,y)+p},BounceEaseInOut(u,p,m,y){return u<y/2?e.Easings.BounceEaseIn(u*2,0,m,y)*.5+p:e.Easings.BounceEaseOut(u*2-y,0,m,y)*.5+m*.5+p},EaseIn(u,p,m,y){return m*(u/=y)*u+p},EaseOut(u,p,m,y){return-m*(u/=y)*(u-2)+p},EaseInOut(u,p,m,y){return(u/=y/2)<1?m/2*u*u+p:-m/2*(--u*(u-2)-1)+p},StrongEaseIn(u,p,m,y){return m*(u/=y)*u*u*u*u+p},StrongEaseOut(u,p,m,y){return m*((u=u/y-1)*u*u*u*u+1)+p},StrongEaseInOut(u,p,m,y){return(u/=y/2)<1?m/2*u*u*u*u*u+p:m/2*((u-=2)*u*u*u*u+2)+p},Linear(u,p,m,y){return m*u/y+p}}})(Au);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=ht,n=Lt,i=Nt,r=Pn,s=Eu,o=zi,a=Qr,l=si,c=Xr,h=jt,d=oi,f=Au,u=je,p=Se;e.Konva=n.Util._assign(t.Konva,{Util:n.Util,Transform:n.Transform,Node:i.Node,Container:r.Container,Stage:s.Stage,stages:s.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:l.Group,DD:c.DD,Shape:h.Shape,shapes:h.shapes,Animation:d.Animation,Tween:f.Tween,Easings:f.Easings,Context:u.Context,Canvas:p.Canvas}),e.default=e.Konva})(Su);var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Arc=void 0;const ts=ut,Ip=jt,lc=ht,es=et,Gp=ht;class qe extends Ip.Shape{_sceneFunc(t){const n=lc.Konva.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,n,i),t.arc(0,0,this.innerRadius(),n,0,!i),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),n=this.outerRadius(),i=this.clockwise(),r=lc.Konva.getAngle(i?360-this.angle():this.angle()),s=Math.cos(Math.min(r,Math.PI)),o=1,a=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),l=Math.sin(Math.min(r,Math.PI/2)),c=s*(s>0?t:n),h=o*n,d=a*(a>0?t:n),f=l*(l>0?n:t);return{x:c,y:i?-1*f:d,width:h-c,height:f-d}}}Zr.Arc=qe;qe.prototype._centroid=!0;qe.prototype.className="Arc";qe.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Gp._registerNode)(qe);ts.Factory.addGetterSetter(qe,"innerRadius",0,(0,es.getNumberValidator)());ts.Factory.addGetterSetter(qe,"outerRadius",0,(0,es.getNumberValidator)());ts.Factory.addGetterSetter(qe,"angle",0,(0,es.getNumberValidator)());ts.Factory.addGetterSetter(qe,"clockwise",!1,(0,es.getBooleanValidator)());var ns={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.Line=void 0;const is=ut,Bp=ht,Up=jt,Ou=et;function Wo(e,t,n,i,r,s,o){const a=Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(s-i,2)),c=o*a/(a+l),h=o*l/(a+l),d=n-c*(r-e),f=i-c*(s-t),u=n+h*(r-e),p=i+h*(s-t);return[d,f,u,p]}function cc(e,t){const n=e.length,i=[];for(let r=2;r<n-2;r+=2){const s=Wo(e[r-2],e[r-1],e[r],e[r+1],e[r+2],e[r+3],t);isNaN(s[0])||(i.push(s[0]),i.push(s[1]),i.push(e[r]),i.push(e[r+1]),i.push(s[2]),i.push(s[3]))}return i}class hn extends Up.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){let n=this.points(),i=n.length,r=this.tension(),s=this.closed(),o=this.bezier(),a,l,c;if(i){if(t.beginPath(),t.moveTo(n[0],n[1]),r!==0&&i>4){for(a=this.getTensionPoints(),l=a.length,c=s?0:4,s||t.quadraticCurveTo(a[0],a[1],a[2],a[3]);c<l-2;)t.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);s||t.quadraticCurveTo(a[l-2],a[l-1],n[i-2],n[i-1])}else if(o)for(c=2;c<i;)t.bezierCurveTo(n[c++],n[c++],n[c++],n[c++],n[c++],n[c++]);else for(c=2;c<i;c+=2)t.lineTo(n[c],n[c+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():cc(this.points(),this.tension())}_getTensionPointsClosed(){const t=this.points(),n=t.length,i=this.tension(),r=Wo(t[n-2],t[n-1],t[0],t[1],t[2],t[3],i),s=Wo(t[n-4],t[n-3],t[n-2],t[n-1],t[0],t[1],i),o=cc(t,i);return[r[2],r[3]].concat(o).concat([s[0],s[1],t[n-2],t[n-1],s[2],s[3],r[0],r[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();let n=t[0],i=t[0],r=t[1],s=t[1],o,a;for(let l=0;l<t.length/2;l++)o=t[l*2],a=t[l*2+1],n=Math.min(n,o),i=Math.max(i,o),r=Math.min(r,a),s=Math.max(s,a);return{x:n,y:r,width:i-n,height:s-r}}}Ki.Line=hn;hn.prototype.className="Line";hn.prototype._attrsAffectingSize=["points","bezier","tension"];(0,Bp._registerNode)(hn);is.Factory.addGetterSetter(hn,"closed",!1);is.Factory.addGetterSetter(hn,"bezier",!1);is.Factory.addGetterSetter(hn,"tension",0,(0,Ou.getNumberValidator)());is.Factory.addGetterSetter(hn,"points",[],(0,Ou.getNumberArrayValidator)());var ai={},Fu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(o,a,l)=>{let c,h;const f=l/2;c=0;for(let u=0;u<20;u++)h=f*e.tValues[20][u]+f,c+=e.cValues[20][u]*i(o,a,h);return f*c};e.getCubicArcLength=t;const n=(o,a,l)=>{l===void 0&&(l=1);const c=o[0]-2*o[1]+o[2],h=a[0]-2*a[1]+a[2],d=2*o[1]-2*o[0],f=2*a[1]-2*a[0],u=4*(c*c+h*h),p=4*(c*d+h*f),m=d*d+f*f;if(u===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(a[2]-a[0],2));const y=p/(2*u),v=m/u,E=l+y,g=v-y*y,_=E*E+g>0?Math.sqrt(E*E+g):0,S=y*y+g>0?Math.sqrt(y*y+g):0,P=y+Math.sqrt(y*y+g)!==0?g*Math.log(Math.abs((E+_)/(y+S))):0;return Math.sqrt(u)/2*(E*_-y*S+P)};e.getQuadraticArcLength=n;function i(o,a,l){const c=r(1,l,o),h=r(1,l,a),d=c*c+h*h;return Math.sqrt(d)}const r=(o,a,l)=>{const c=l.length-1;let h,d;if(c===0)return 0;if(o===0){d=0;for(let f=0;f<=c;f++)d+=e.binomialCoefficients[c][f]*Math.pow(1-a,c-f)*Math.pow(a,f)*l[f];return d}else{h=new Array(c);for(let f=0;f<c;f++)h[f]=c*(l[f+1]-l[f]);return r(o-1,a,h)}},s=(o,a,l)=>{let c=1,h=o/a,d=(o-l(h))/a,f=0;for(;c>.001;){const u=l(h+d),p=Math.abs(o-u)/a;if(p<c)c=p,h+=d;else{const m=l(h-d),y=Math.abs(o-m)/a;y<c?(c=y,h-=d):d/=2}if(f++,f>500)break}return h};e.t2length=s})(Fu);Object.defineProperty(ai,"__esModule",{value:!0});ai.Path=void 0;const $p=ut,Hp=jt,Vp=ht,In=Fu;class $t extends Hp.Shape{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=$t.parsePathData(this.data()),this.pathLength=$t.getPathLength(this.dataArray)}_sceneFunc(t){const n=this.dataArray;t.beginPath();let i=!1;for(let m=0;m<n.length;m++){const y=n[m].command,v=n[m].points;switch(y){case"L":t.lineTo(v[0],v[1]);break;case"M":t.moveTo(v[0],v[1]);break;case"C":t.bezierCurveTo(v[0],v[1],v[2],v[3],v[4],v[5]);break;case"Q":t.quadraticCurveTo(v[0],v[1],v[2],v[3]);break;case"A":var r=v[0],s=v[1],o=v[2],a=v[3],l=v[4],c=v[5],h=v[6],d=v[7],f=o>a?o:a,u=o>a?1:o/a,p=o>a?a/o:1;t.translate(r,s),t.rotate(h),t.scale(u,p),t.arc(0,0,f,l,l+c,1-d),t.scale(1/u,1/p),t.rotate(-h),t.translate(-r,-s);break;case"z":i=!0,t.closePath();break}}!i&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){let t=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],h=l.points[5],d=l.points[4]+h;let f=Math.PI/180;if(Math.abs(c-d)<f&&(f=Math.abs(c-d)),h<0)for(let u=c-f;u>d;u-=f){const p=$t.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],u,0);t.push(p.x,p.y)}else for(let u=c+f;u<d;u+=f){const p=$t.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],u,0);t.push(p.x,p.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const h=$t.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);t.push(h.x,h.y)}else t=t.concat(l.points)});let n=t[0],i=t[0],r=t[1],s=t[1],o,a;for(let l=0;l<t.length/2;l++)o=t[l*2],a=t[l*2+1],isNaN(o)||(n=Math.min(n,o),i=Math.max(i,o)),isNaN(a)||(r=Math.min(r,a),s=Math.max(s,a));return{x:n,y:r,width:i-n,height:s-r}}getLength(){return this.pathLength}getPointAtLength(t){return $t.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,n,i,r){return Math.sqrt((i-t)*(i-t)+(r-n)*(r-n))}static getPathLength(t){let n=0;for(let i=0;i<t.length;++i)n+=t[i].pathLength;return n}static getPointAtLengthOfDataArray(t,n){let i,r=0,s=n.length;if(!s)return null;for(;r<s&&t>n[r].pathLength;)t-=n[r].pathLength,++r;if(r===s)return i=n[r-1].points.slice(-2),{x:i[0],y:i[1]};if(t<.01)return i=n[r].points.slice(0,2),{x:i[0],y:i[1]};const o=n[r],a=o.points;switch(o.command){case"L":return $t.getPointOnLine(t,o.start.x,o.start.y,a[0],a[1]);case"C":return $t.getPointOnCubicBezier((0,In.t2length)(t,$t.getPathLength(n),m=>(0,In.getCubicArcLength)([o.start.x,a[0],a[2],a[4]],[o.start.y,a[1],a[3],a[5]],m)),o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return $t.getPointOnQuadraticBezier((0,In.t2length)(t,$t.getPathLength(n),m=>(0,In.getQuadraticArcLength)([o.start.x,a[0],a[2]],[o.start.y,a[1],a[3]],m)),o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var l=a[0],c=a[1],h=a[2],d=a[3],f=a[4],u=a[5],p=a[6];return f+=u*t/o.pathLength,$t.getPointOnEllipticalArc(l,c,h,d,f,p)}return null}static getPointOnLine(t,n,i,r,s,o,a){o=o??n,a=a??i;const l=this.getLineLength(n,i,r,s);if(l<1e-10)return{x:n,y:i};if(r===n)return{x:o,y:a+(s>i?t:-t)};const c=(s-i)/(r-n),h=Math.sqrt(t*t/(1+c*c))*(r<n?-1:1),d=c*h;if(Math.abs(a-i-c*(o-n))<1e-10)return{x:o+h,y:a+d};const f=((o-n)*(r-n)+(a-i)*(s-i))/(l*l),u=n+f*(r-n),p=i+f*(s-i),m=this.getLineLength(o,a,u,p),y=Math.sqrt(t*t-m*m),v=Math.sqrt(y*y/(1+c*c))*(r<n?-1:1),E=c*v;return{x:u+v,y:p+E}}static getPointOnCubicBezier(t,n,i,r,s,o,a,l,c){function h(y){return y*y*y}function d(y){return 3*y*y*(1-y)}function f(y){return 3*y*(1-y)*(1-y)}function u(y){return(1-y)*(1-y)*(1-y)}const p=l*h(t)+o*d(t)+r*f(t)+n*u(t),m=c*h(t)+a*d(t)+s*f(t)+i*u(t);return{x:p,y:m}}static getPointOnQuadraticBezier(t,n,i,r,s,o,a){function l(u){return u*u}function c(u){return 2*u*(1-u)}function h(u){return(1-u)*(1-u)}const d=o*l(t)+r*c(t)+n*h(t),f=a*l(t)+s*c(t)+i*h(t);return{x:d,y:f}}static getPointOnEllipticalArc(t,n,i,r,s,o){const a=Math.cos(o),l=Math.sin(o),c={x:i*Math.cos(s),y:r*Math.sin(s)};return{x:t+(c.x*a-c.y*l),y:n+(c.x*l+c.y*a)}}static parsePathData(t){if(!t)return[];let n=t;const i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var r=0;r<i.length;r++)n=n.replace(new RegExp(i[r],"g"),"|"+i[r]);const s=n.split("|"),o=[],a=[];let l=0,c=0;const h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(r=1;r<s.length;r++){let T=s[r],F=T.charAt(0);for(T=T.slice(1),a.length=0;d=h.exec(T);)a.push(d[0]);const C=[];for(let A=0,D=a.length;A<D;A++){if(a[A]==="00"){C.push(0,0);continue}const K=parseFloat(a[A]);isNaN(K)?C.push(0):C.push(K)}for(;C.length>0&&!isNaN(C[0]);){let A="",D=[];const K=l,nt=c;var f,u,p,m,y,v,E,g,_,S;switch(F){case"l":l+=C.shift(),c+=C.shift(),A="L",D.push(l,c);break;case"L":l=C.shift(),c=C.shift(),D.push(l,c);break;case"m":var P=C.shift(),M=C.shift();if(l+=P,c+=M,A="M",o.length>2&&o[o.length-1].command==="z"){for(let V=o.length-2;V>=0;V--)if(o[V].command==="M"){l=o[V].points[0]+P,c=o[V].points[1]+M;break}}D.push(l,c),F="l";break;case"M":l=C.shift(),c=C.shift(),A="M",D.push(l,c),F="L";break;case"h":l+=C.shift(),A="L",D.push(l,c);break;case"H":l=C.shift(),A="L",D.push(l,c);break;case"v":c+=C.shift(),A="L",D.push(l,c);break;case"V":c=C.shift(),A="L",D.push(l,c);break;case"C":D.push(C.shift(),C.shift(),C.shift(),C.shift()),l=C.shift(),c=C.shift(),D.push(l,c);break;case"c":D.push(l+C.shift(),c+C.shift(),l+C.shift(),c+C.shift()),l+=C.shift(),c+=C.shift(),A="C",D.push(l,c);break;case"S":u=l,p=c,f=o[o.length-1],f.command==="C"&&(u=l+(l-f.points[2]),p=c+(c-f.points[3])),D.push(u,p,C.shift(),C.shift()),l=C.shift(),c=C.shift(),A="C",D.push(l,c);break;case"s":u=l,p=c,f=o[o.length-1],f.command==="C"&&(u=l+(l-f.points[2]),p=c+(c-f.points[3])),D.push(u,p,l+C.shift(),c+C.shift()),l+=C.shift(),c+=C.shift(),A="C",D.push(l,c);break;case"Q":D.push(C.shift(),C.shift()),l=C.shift(),c=C.shift(),D.push(l,c);break;case"q":D.push(l+C.shift(),c+C.shift()),l+=C.shift(),c+=C.shift(),A="Q",D.push(l,c);break;case"T":u=l,p=c,f=o[o.length-1],f.command==="Q"&&(u=l+(l-f.points[0]),p=c+(c-f.points[1])),l=C.shift(),c=C.shift(),A="Q",D.push(u,p,l,c);break;case"t":u=l,p=c,f=o[o.length-1],f.command==="Q"&&(u=l+(l-f.points[0]),p=c+(c-f.points[1])),l+=C.shift(),c+=C.shift(),A="Q",D.push(u,p,l,c);break;case"A":m=C.shift(),y=C.shift(),v=C.shift(),E=C.shift(),g=C.shift(),_=l,S=c,l=C.shift(),c=C.shift(),A="A",D=this.convertEndpointToCenterParameterization(_,S,l,c,E,g,m,y,v);break;case"a":m=C.shift(),y=C.shift(),v=C.shift(),E=C.shift(),g=C.shift(),_=l,S=c,l+=C.shift(),c+=C.shift(),A="A",D=this.convertEndpointToCenterParameterization(_,S,l,c,E,g,m,y,v);break}o.push({command:A||F,points:D,start:{x:K,y:nt},pathLength:this.calcLength(K,nt,A||F,D)})}(F==="z"||F==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(t,n,i,r){let s,o,a,l;const c=$t;switch(i){case"L":return c.getLineLength(t,n,r[0],r[1]);case"C":return(0,In.getCubicArcLength)([t,r[0],r[2],r[4]],[n,r[1],r[3],r[5]],1);case"Q":return(0,In.getQuadraticArcLength)([t,r[0],r[2]],[n,r[1],r[3]],1);case"A":s=0;var h=r[4],d=r[5],f=r[4]+d,u=Math.PI/180;if(Math.abs(h-f)<u&&(u=Math.abs(h-f)),o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],h,0),d<0)for(l=h-u;l>f;l-=u)a=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=h+u;l<f;l+=u)a=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],f,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),s}return 0}static convertEndpointToCenterParameterization(t,n,i,r,s,o,a,l,c){const h=c*(Math.PI/180),d=Math.cos(h)*(t-i)/2+Math.sin(h)*(n-r)/2,f=-1*Math.sin(h)*(t-i)/2+Math.cos(h)*(n-r)/2,u=d*d/(a*a)+f*f/(l*l);u>1&&(a*=Math.sqrt(u),l*=Math.sqrt(u));let p=Math.sqrt((a*a*(l*l)-a*a*(f*f)-l*l*(d*d))/(a*a*(f*f)+l*l*(d*d)));s===o&&(p*=-1),isNaN(p)&&(p=0);const m=p*a*f/l,y=p*-l*d/a,v=(t+i)/2+Math.cos(h)*m-Math.sin(h)*y,E=(n+r)/2+Math.sin(h)*m+Math.cos(h)*y,g=function(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])},_=function(C,A){return(C[0]*A[0]+C[1]*A[1])/(g(C)*g(A))},S=function(C,A){return(C[0]*A[1]<C[1]*A[0]?-1:1)*Math.acos(_(C,A))},P=S([1,0],[(d-m)/a,(f-y)/l]),M=[(d-m)/a,(f-y)/l],T=[(-1*d-m)/a,(-1*f-y)/l];let F=S(M,T);return _(M,T)<=-1&&(F=Math.PI),_(M,T)>=1&&(F=0),o===0&&F>0&&(F=F-2*Math.PI),o===1&&F<0&&(F=F+2*Math.PI),[v,E,a,l,P,F,h,o]}}ai.Path=$t;$t.prototype.className="Path";$t.prototype._attrsAffectingSize=["data"];(0,Vp._registerNode)($t);$p.Factory.addGetterSetter($t,"data");Object.defineProperty(ns,"__esModule",{value:!0});ns.Arrow=void 0;const rs=ut,jp=Ki,Mu=et,Wp=ht,hc=ai;class An extends jp.Line{_sceneFunc(t){super._sceneFunc(t);const n=Math.PI*2,i=this.points();let r=i;const s=this.tension()!==0&&i.length>4;s&&(r=this.getTensionPoints());const o=this.pointerLength(),a=i.length;let l,c;if(s){const f=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],i[a-2],i[a-1]],u=hc.Path.calcLength(r[r.length-4],r[r.length-3],"C",f),p=hc.Path.getPointOnQuadraticBezier(Math.min(1,1-o/u),f[0],f[1],f[2],f[3],f[4],f[5]);l=i[a-2]-p.x,c=i[a-1]-p.y}else l=i[a-2]-i[a-4],c=i[a-1]-i[a-3];const h=(Math.atan2(c,l)+n)%n,d=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(i[a-2],i[a-1]),t.rotate(h),t.moveTo(0,0),t.lineTo(-o,d/2),t.lineTo(-o,-d/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(i[0],i[1]),s?(l=(r[0]+r[2])/2-i[0],c=(r[1]+r[3])/2-i[1]):(l=i[2]-i[0],c=i[3]-i[1]),t.rotate((Math.atan2(-c,-l)+n)%n),t.moveTo(0,0),t.lineTo(-o,d/2),t.lineTo(-o,-d/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),n=this.pointerWidth()/2;return{x:t.x-n,y:t.y-n,width:t.width+n*2,height:t.height+n*2}}}ns.Arrow=An;An.prototype.className="Arrow";(0,Wp._registerNode)(An);rs.Factory.addGetterSetter(An,"pointerLength",10,(0,Mu.getNumberValidator)());rs.Factory.addGetterSetter(An,"pointerWidth",10,(0,Mu.getNumberValidator)());rs.Factory.addGetterSetter(An,"pointerAtBeginning",!1);rs.Factory.addGetterSetter(An,"pointerAtEnding",!0);var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.Circle=void 0;const zp=ut,Kp=jt,qp=et,Yp=ht;class li extends Kp.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}ss.Circle=li;li.prototype._centroid=!0;li.prototype.className="Circle";li.prototype._attrsAffectingSize=["radius"];(0,Yp._registerNode)(li);zp.Factory.addGetterSetter(li,"radius",0,(0,qp.getNumberValidator)());var os={};Object.defineProperty(os,"__esModule",{value:!0});os.Ellipse=void 0;const Fa=ut,Xp=jt,ku=et,Jp=ht;class un extends Xp.Shape{_sceneFunc(t){const n=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),n!==i&&t.scale(1,i/n),t.arc(0,0,n,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}os.Ellipse=un;un.prototype.className="Ellipse";un.prototype._centroid=!0;un.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,Jp._registerNode)(un);Fa.Factory.addComponentsGetterSetter(un,"radius",["x","y"]);Fa.Factory.addGetterSetter(un,"radiusX",0,(0,ku.getNumberValidator)());Fa.Factory.addGetterSetter(un,"radiusY",0,(0,ku.getNumberValidator)());var as={};Object.defineProperty(as,"__esModule",{value:!0});as.Image=void 0;const lo=Lt,On=ut,Qp=jt,Zp=ht,qi=et;class me extends Qp.Shape{constructor(t){super(t),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const t=!!this.cornerRadius(),n=this.hasShadow();return t&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(t){const n=this.getWidth(),i=this.getHeight(),r=this.cornerRadius(),s=this.attrs.image;let o;if(s){const a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?o=[s,this.cropX(),this.cropY(),a,l,0,0,n,i]:o=[s,0,0,n,i]}(this.hasFill()||this.hasStroke()||r)&&(t.beginPath(),r?lo.Util.drawRoundedRectPath(t,n,i,r):t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)),s&&(r&&t.clip(),t.drawImage.apply(t,o))}_hitFunc(t){const n=this.width(),i=this.height(),r=this.cornerRadius();t.beginPath(),r?lo.Util.drawRoundedRectPath(t,n,i,r):t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,n;return(t=this.attrs.width)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var t,n;return(t=this.attrs.height)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(t,n,i=null){const r=lo.Util.createImageElement();r.onload=function(){const s=new me({image:r});n(s)},r.onerror=i,r.crossOrigin="Anonymous",r.src=t}}as.Image=me;me.prototype.className="Image";(0,Zp._registerNode)(me);On.Factory.addGetterSetter(me,"cornerRadius",0,(0,qi.getNumberOrArrayOfNumbersValidator)(4));On.Factory.addGetterSetter(me,"image");On.Factory.addComponentsGetterSetter(me,"crop",["x","y","width","height"]);On.Factory.addGetterSetter(me,"cropX",0,(0,qi.getNumberValidator)());On.Factory.addGetterSetter(me,"cropY",0,(0,qi.getNumberValidator)());On.Factory.addGetterSetter(me,"cropWidth",0,(0,qi.getNumberValidator)());On.Factory.addGetterSetter(me,"cropHeight",0,(0,qi.getNumberValidator)());var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.Tag=Jn.Label=void 0;const ls=ut,t5=jt,e5=si,Ma=et,Nu=ht,Lu=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],n5="Change.konva",i5="none",zo="up",Ko="right",qo="down",Yo="left",r5=Lu.length;class ka extends e5.Group{constructor(t){super(t),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){let n=this,i;const r=function(){n._sync()};for(i=0;i<r5;i++)t.on(Lu[i]+n5,r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let t=this.getText(),n=this.getTag(),i,r,s,o,a,l,c;if(t&&n){switch(i=t.width(),r=t.height(),s=n.pointerDirection(),o=n.pointerWidth(),c=n.pointerHeight(),a=0,l=0,s){case zo:a=i/2,l=-1*c;break;case Ko:a=i+o,l=r/2;break;case qo:a=i/2,l=r+c;break;case Yo:a=-1*o,l=r/2;break}n.setAttrs({x:-1*a,y:-1*l,width:i,height:r}),t.setAttrs({x:-1*a,y:-1*l})}}}Jn.Label=ka;ka.prototype.className="Label";(0,Nu._registerNode)(ka);class Fn extends t5.Shape{_sceneFunc(t){const n=this.width(),i=this.height(),r=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,h=0,d=0;typeof a=="number"?l=c=h=d=Math.min(a,n/2,i/2):(l=Math.min(a[0]||0,n/2,i/2),c=Math.min(a[1]||0,n/2,i/2),d=Math.min(a[2]||0,n/2,i/2),h=Math.min(a[3]||0,n/2,i/2)),t.beginPath(),t.moveTo(l,0),r===zo&&(t.lineTo((n-s)/2,0),t.lineTo(n/2,-1*o),t.lineTo((n+s)/2,0)),t.lineTo(n-c,0),t.arc(n-c,c,c,Math.PI*3/2,0,!1),r===Ko&&(t.lineTo(n,(i-o)/2),t.lineTo(n+s,i/2),t.lineTo(n,(i+o)/2)),t.lineTo(n,i-d),t.arc(n-d,i-d,d,0,Math.PI/2,!1),r===qo&&(t.lineTo((n+s)/2,i),t.lineTo(n/2,i+o),t.lineTo((n-s)/2,i)),t.lineTo(h,i),t.arc(h,i-h,h,Math.PI/2,Math.PI,!1),r===Yo&&(t.lineTo(0,(i+o)/2),t.lineTo(-1*s,i/2),t.lineTo(0,(i-o)/2)),t.lineTo(0,l),t.arc(l,l,l,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){let t=0,n=0,i=this.pointerWidth(),r=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return s===zo?(n-=r,a+=r):s===qo?a+=r:s===Yo?(t-=i*1.5,o+=i):s===Ko&&(o+=i*1.5),{x:t,y:n,width:o,height:a}}}Jn.Tag=Fn;Fn.prototype.className="Tag";(0,Nu._registerNode)(Fn);ls.Factory.addGetterSetter(Fn,"pointerDirection",i5);ls.Factory.addGetterSetter(Fn,"pointerWidth",0,(0,Ma.getNumberValidator)());ls.Factory.addGetterSetter(Fn,"pointerHeight",0,(0,Ma.getNumberValidator)());ls.Factory.addGetterSetter(Fn,"cornerRadius",0,(0,Ma.getNumberOrArrayOfNumbersValidator)(4));var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.Rect=void 0;const s5=ut,o5=jt,a5=ht,l5=Lt,c5=et;class cs extends o5.Shape{_sceneFunc(t){const n=this.cornerRadius(),i=this.width(),r=this.height();t.beginPath(),n?l5.Util.drawRoundedRectPath(t,i,r,n):t.rect(0,0,i,r),t.closePath(),t.fillStrokeShape(this)}}Yi.Rect=cs;cs.prototype.className="Rect";(0,a5._registerNode)(cs);s5.Factory.addGetterSetter(cs,"cornerRadius",0,(0,c5.getNumberOrArrayOfNumbersValidator)(4));var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.RegularPolygon=void 0;const Du=ut,h5=jt,Iu=et,u5=ht;class Mn extends h5.Shape{_sceneFunc(t){const n=this._getPoints();t.beginPath(),t.moveTo(n[0].x,n[0].y);for(let i=1;i<n.length;i++)t.lineTo(n[i].x,n[i].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,n=this.attrs.radius||0,i=[];for(let r=0;r<t;r++)i.push({x:n*Math.sin(r*2*Math.PI/t),y:-1*n*Math.cos(r*2*Math.PI/t)});return i}getSelfRect(){const t=this._getPoints();let n=t[0].x,i=t[0].y,r=t[0].x,s=t[0].y;return t.forEach(o=>{n=Math.min(n,o.x),i=Math.max(i,o.x),r=Math.min(r,o.y),s=Math.max(s,o.y)}),{x:n,y:r,width:i-n,height:s-r}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}hs.RegularPolygon=Mn;Mn.prototype.className="RegularPolygon";Mn.prototype._centroid=!0;Mn.prototype._attrsAffectingSize=["radius"];(0,u5._registerNode)(Mn);Du.Factory.addGetterSetter(Mn,"radius",0,(0,Iu.getNumberValidator)());Du.Factory.addGetterSetter(Mn,"sides",0,(0,Iu.getNumberValidator)());var us={};Object.defineProperty(us,"__esModule",{value:!0});us.Ring=void 0;const Gu=ut,d5=jt,Bu=et,f5=ht,uc=Math.PI*2;class kn extends d5.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,uc,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),uc,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}us.Ring=kn;kn.prototype.className="Ring";kn.prototype._centroid=!0;kn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,f5._registerNode)(kn);Gu.Factory.addGetterSetter(kn,"innerRadius",0,(0,Bu.getNumberValidator)());Gu.Factory.addGetterSetter(kn,"outerRadius",0,(0,Bu.getNumberValidator)());var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.Sprite=void 0;const Nn=ut,g5=jt,p5=oi,Uu=et,m5=ht;class ke extends g5.Shape{constructor(t){super(t),this._updated=!0,this.anim=new p5.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){const n=this.animation(),i=this.frameIndex(),r=i*4,s=this.animations()[n],o=this.frameOffsets(),a=s[r+0],l=s[r+1],c=s[r+2],h=s[r+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,c,h),t.closePath(),t.fillStrokeShape(this)),d)if(o){const f=o[n],u=i*2;t.drawImage(d,a,l,c,h,f[u+0],f[u+1],c,h)}else t.drawImage(d,a,l,c,h,0,0,c,h)}_hitFunc(t){const n=this.animation(),i=this.frameIndex(),r=i*4,s=this.animations()[n],o=this.frameOffsets(),a=s[r+2],l=s[r+3];if(t.beginPath(),o){const c=o[n],h=i*2;t.rect(c[h+0],c[h+1],a,l)}else t.rect(0,0,a,l);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const t=this.frameIndex(),n=this.animation(),i=this.animations(),r=i[n],s=r.length/4;t<s-1?this.frameIndex(t+1):this.frameIndex(0)}}ds.Sprite=ke;ke.prototype.className="Sprite";(0,m5._registerNode)(ke);Nn.Factory.addGetterSetter(ke,"animation");Nn.Factory.addGetterSetter(ke,"animations");Nn.Factory.addGetterSetter(ke,"frameOffsets");Nn.Factory.addGetterSetter(ke,"image");Nn.Factory.addGetterSetter(ke,"frameIndex",0,(0,Uu.getNumberValidator)());Nn.Factory.addGetterSetter(ke,"frameRate",17,(0,Uu.getNumberValidator)());Nn.Factory.backCompat(ke,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.Star=void 0;const Na=ut,_5=jt,La=et,y5=ht;class dn extends _5.Shape{_sceneFunc(t){const n=this.innerRadius(),i=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(let s=1;s<r*2;s++){const o=s%2===0?i:n,a=o*Math.sin(s*Math.PI/r),l=-1*o*Math.cos(s*Math.PI/r);t.lineTo(a,l)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}fs.Star=dn;dn.prototype.className="Star";dn.prototype._centroid=!0;dn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,y5._registerNode)(dn);Na.Factory.addGetterSetter(dn,"numPoints",5,(0,La.getNumberValidator)());Na.Factory.addGetterSetter(dn,"innerRadius",0,(0,La.getNumberValidator)());Na.Factory.addGetterSetter(dn,"outerRadius",0,(0,La.getNumberValidator)());var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.Text=void 0;ci.stringToArray=$u;const Xo=Lt,Zt=ut,b5=jt,co=ht,fn=et,v5=ht;function $u(e){return[...e].reduce((t,n,i,r)=>(new RegExp("\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?(?:\\u200D\\p{Emoji_Presentation})+","u").test(n)?t.push(n):new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(r[i+1]||""))?t.push(n+r[i+1]):i>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?t[t.length-1]+=n:t.push(n),t),[])}const Gn="auto",S5="center",Hu="inherit",mi="justify",w5="Change.konva",C5="2d",dc="-",Vu="left",x5="text",E5="Text",T5="top",P5="bottom",fc="middle",ju="normal",R5="px ",er=" ",A5="right",gc="rtl",O5="word",F5="char",pc="none",ho="",Wu=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],M5=Wu.length;function k5(e){return e.split(",").map(t=>{t=t.trim();const n=t.indexOf(" ")>=0,i=t.indexOf('"')>=0||t.indexOf("'")>=0;return n&&!i&&(t=`"${t}"`),t}).join(", ")}let nr;function uo(){return nr||(nr=Xo.Util.createCanvasElement().getContext(C5),nr)}function N5(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function L5(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function D5(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}class It extends b5.Shape{constructor(t){super(D5(t)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<M5;n++)this.on(Wu[n]+w5,this._setTextData);this._setTextData()}_sceneFunc(t){const n=this.textArr,i=n.length;if(!this.text())return;let r=this.padding(),s=this.fontSize(),o=this.lineHeight()*s,a=this.verticalAlign(),l=this.direction(),c=0,h=this.align(),d=this.getWidth(),f=this.letterSpacing(),u=this.fill(),p=this.textDecoration(),m=p.indexOf("underline")!==-1,y=p.indexOf("line-through")!==-1,v;l=l===Hu?t.direction:l;let E=o/2,g=fc;if(co.Konva._fixTextRendering){const K=this.measureSize("M");g="alphabetic",E=(K.fontBoundingBoxAscent-K.fontBoundingBoxDescent)/2+o/2}var _=0,S=0;for(l===gc&&t.setAttr("direction",l),t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",g),t.setAttr("textAlign",Vu),a===fc?c=(this.getHeight()-i*o-r*2)/2:a===P5&&(c=this.getHeight()-i*o-r*2),t.translate(r,c+r),v=0;v<i;v++){var _=0,S=0,P=n[v],M=P.text,T=P.width,F=P.lastInParagraph,C,A,D;if(t.save(),h===A5?_+=d-T-r*2:h===S5&&(_+=(d-T-r*2)/2),m){t.save(),t.beginPath();const V=co.Konva._fixTextRendering?Math.round(s/4):Math.round(s/2),Y=_,q=E+S+V;t.moveTo(Y,q),C=M.split(" ").length-1,A=C===0,D=h===mi&&!F?d-r*2:T,t.lineTo(Y+Math.round(D),q),t.lineWidth=s/15;const J=this._getLinearGradient();t.strokeStyle=J||u,t.stroke(),t.restore()}if(y){t.save(),t.beginPath();const V=co.Konva._fixTextRendering?-Math.round(s/4):0;t.moveTo(_,E+S+V),C=M.split(" ").length-1,A=C===0,D=h===mi&&F&&!A?d-r*2:T,t.lineTo(_+Math.round(D),E+S+V),t.lineWidth=s/15;const Y=this._getLinearGradient();t.strokeStyle=Y||u,t.stroke(),t.restore()}if(l!==gc&&(f!==0||h===mi)){C=M.split(" ").length-1;const V=$u(M);for(let Y=0;Y<V.length;Y++){const q=V[Y];q===" "&&!F&&h===mi&&(_+=(d-r*2-T)/C),this._partialTextX=_,this._partialTextY=E+S,this._partialText=q,t.fillStrokeShape(this),_+=this.measureSize(q).width+f}}else f!==0&&t.setAttr("letterSpacing",`${f}px`),this._partialTextX=_,this._partialTextY=E+S,this._partialText=M,t.fillStrokeShape(this);t.restore(),i>1&&(E+=o)}}_hitFunc(t){const n=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)}setText(t){const n=Xo.Util._isString(t)?t:t==null?"":t+"";return this._setAttr(x5,n),this}getWidth(){return this.attrs.width===Gn||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Gn||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Xo.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var n,i,r,s,o,a,l,c,h,d,f;let u=uo(),p=this.fontSize(),m;u.save(),u.font=this._getContextFont(),m=u.measureText(t),u.restore();const y=p/100;return{actualBoundingBoxAscent:(n=m.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*y,actualBoundingBoxDescent:(i=m.actualBoundingBoxDescent)!==null&&i!==void 0?i:0,actualBoundingBoxLeft:(r=m.actualBoundingBoxLeft)!==null&&r!==void 0?r:-7.421875*y,actualBoundingBoxRight:(s=m.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*y,alphabeticBaseline:(o=m.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(a=m.emHeightAscent)!==null&&a!==void 0?a:100*y,emHeightDescent:(l=m.emHeightDescent)!==null&&l!==void 0?l:-20*y,fontBoundingBoxAscent:(c=m.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*y,fontBoundingBoxDescent:(h=m.fontBoundingBoxDescent)!==null&&h!==void 0?h:21*y,hangingBaseline:(d=m.hangingBaseline)!==null&&d!==void 0?d:72.80000305175781*y,ideographicBaseline:(f=m.ideographicBaseline)!==null&&f!==void 0?f:-21*y,width:m.width,height:p}}_getContextFont(){return this.fontStyle()+er+this.fontVariant()+er+(this.fontSize()+R5)+k5(this.fontFamily())}_addTextLine(t){this.align()===mi&&(t=t.trim());const i=this._getTextWidth(t);return this.textArr.push({text:t,width:i,lastInParagraph:!1})}_getTextWidth(t){const n=this.letterSpacing(),i=t.length;return uo().measureText(t).width+(i?n*(i-1):0)}_setTextData(){let t=this.text().split(`
`),n=+this.fontSize(),i=0,r=this.lineHeight()*n,s=this.attrs.width,o=this.attrs.height,a=s!==Gn&&s!==void 0,l=o!==Gn&&o!==void 0,c=this.padding(),h=s-c*2,d=o-c*2,f=0,u=this.wrap(),p=u!==pc,m=u!==F5&&p,y=this.ellipsis();this.textArr=[],uo().font=this._getContextFont();const v=y?this._getTextWidth(ho):0;for(let g=0,_=t.length;g<_;++g){let S=t[g],P=this._getTextWidth(S);if(a&&P>h)for(;S.length>0;){let M=0,T=S.length,F="",C=0;for(;M<T;){const A=M+T>>>1,D=S.slice(0,A+1),K=this._getTextWidth(D)+v;K<=h?(M=A+1,F=D,C=K):T=A}if(F){if(m){var E;const D=S[F.length];(D===er||D===dc)&&C<=h?E=F.length:E=Math.max(F.lastIndexOf(er),F.lastIndexOf(dc))+1,E>0&&(M=E,F=F.slice(0,M),C=this._getTextWidth(F))}if(F=F.trimRight(),this._addTextLine(F),i=Math.max(i,C),f+=r,this._shouldHandleEllipsis(f)){this._tryToAddEllipsisToLastLine();break}if(S=S.slice(M),S=S.trimLeft(),S.length>0&&(P=this._getTextWidth(S),P<=h)){this._addTextLine(S),f+=r,i=Math.max(i,P);break}}else break}else this._addTextLine(S),f+=r,i=Math.max(i,P),this._shouldHandleEllipsis(f)&&g<_-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+r>d)break}this.textHeight=n,this.textWidth=i}_shouldHandleEllipsis(t){const n=+this.fontSize(),i=this.lineHeight()*n,r=this.attrs.height,s=r!==Gn&&r!==void 0,o=this.padding(),a=r-o*2;return!(this.wrap()!==pc)||s&&t+i>a}_tryToAddEllipsisToLastLine(){const t=this.attrs.width,n=t!==Gn&&t!==void 0,i=this.padding(),r=t-i*2,s=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!s||(n&&(this._getTextWidth(o.text+ho)<r||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+ho))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const t=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return t&&n?!0:super._useBufferCanvas()}}ci.Text=It;It.prototype._fillFunc=N5;It.prototype._strokeFunc=L5;It.prototype.className=E5;It.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,v5._registerNode)(It);Zt.Factory.overWriteSetter(It,"width",(0,fn.getNumberOrAutoValidator)());Zt.Factory.overWriteSetter(It,"height",(0,fn.getNumberOrAutoValidator)());Zt.Factory.addGetterSetter(It,"direction",Hu);Zt.Factory.addGetterSetter(It,"fontFamily","Arial");Zt.Factory.addGetterSetter(It,"fontSize",12,(0,fn.getNumberValidator)());Zt.Factory.addGetterSetter(It,"fontStyle",ju);Zt.Factory.addGetterSetter(It,"fontVariant",ju);Zt.Factory.addGetterSetter(It,"padding",0,(0,fn.getNumberValidator)());Zt.Factory.addGetterSetter(It,"align",Vu);Zt.Factory.addGetterSetter(It,"verticalAlign",T5);Zt.Factory.addGetterSetter(It,"lineHeight",1,(0,fn.getNumberValidator)());Zt.Factory.addGetterSetter(It,"wrap",O5);Zt.Factory.addGetterSetter(It,"ellipsis",!1,(0,fn.getBooleanValidator)());Zt.Factory.addGetterSetter(It,"letterSpacing",0,(0,fn.getNumberValidator)());Zt.Factory.addGetterSetter(It,"text","",(0,fn.getStringValidator)());Zt.Factory.addGetterSetter(It,"textDecoration","");var gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.TextPath=void 0;const fo=Lt,xe=ut,I5=jt,_i=ai,go=ci,zu=et,G5=ht,B5="",Ku="normal";function qu(e){e.fillText(this.partialText,0,0)}function Yu(e){e.strokeText(this.partialText,0,0)}class Wt extends I5.Shape{constructor(t){super(t),this.dummyCanvas=fo.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return _i.Path.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;const n=this.pathLength;return t-1>n?null:_i.Path.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=_i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();const n=this.textDecoration(),i=this.fill(),r=this.fontSize(),s=this.glyphInfo;n==="underline"&&t.beginPath();for(let o=0;o<s.length;o++){t.save();const a=s[o].p0;t.translate(a.x,a.y),t.rotate(s[o].rotation),this.partialText=s[o].text,t.fillStrokeShape(this),n==="underline"&&(o===0&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}n==="underline"&&(t.strokeStyle=i,t.lineWidth=r/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();const n=this.glyphInfo;if(n.length>=1){const i=n[0].p0;t.moveTo(i.x,i.y)}for(let i=0;i<n.length;i++){const r=n[i].p1;t.lineTo(r.x,r.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return fo.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return go.Text.prototype.setText.call(this,t)}_getContextFont(){return go.Text.prototype._getContextFont.call(this)}_getTextSize(t){const i=this.dummyCanvas.getContext("2d");i.save(),i.font=this._getContextFont();const r=i.measureText(t);return i.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),r=this.align(),s=this.kerningFunc(),o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let a=0;r==="center"&&(a=Math.max(0,this.pathLength/2-o/2)),r==="right"&&(a=Math.max(0,this.pathLength-o));const l=(0,go.stringToArray)(this.text());let c=a;for(let h=0;h<l.length;h++){const d=this._getPointAtLength(c);if(!d)return;let f=this._getTextSize(l[h]).width+i;if(l[h]===" "&&r==="justify"){const E=this.text().split(" ").length-1;f+=(this.pathLength-o)/E}const u=this._getPointAtLength(c+f);if(!u)return;const p=_i.Path.getLineLength(d.x,d.y,u.x,u.y);let m=0;if(s)try{m=s(l[h-1],l[h])*this.fontSize()}catch{m=0}d.x+=m,u.x+=m,this.textWidth+=m;const y=_i.Path.getPointOnLine(m+p/2,d.x,d.y,u.x,u.y),v=Math.atan2(u.y-d.y,u.x-d.x);this.glyphInfo.push({transposeX:y.x,transposeY:y.y,text:l[h],rotation:v,p0:d,p1:u}),c+=f}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const t=[];this.glyphInfo.forEach(function(c){t.push(c.p0.x),t.push(c.p0.y),t.push(c.p1.x),t.push(c.p1.y)});let n=t[0]||0,i=t[0]||0,r=t[1]||0,s=t[1]||0,o,a;for(let c=0;c<t.length/2;c++)o=t[c*2],a=t[c*2+1],n=Math.min(n,o),i=Math.max(i,o),r=Math.min(r,a),s=Math.max(s,a);const l=this.fontSize();return{x:n-l/2,y:r-l/2,width:i-n+l,height:s-r+l}}destroy(){return fo.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}gs.TextPath=Wt;Wt.prototype._fillFunc=qu;Wt.prototype._strokeFunc=Yu;Wt.prototype._fillFuncHit=qu;Wt.prototype._strokeFuncHit=Yu;Wt.prototype.className="TextPath";Wt.prototype._attrsAffectingSize=["text","fontSize","data"];(0,G5._registerNode)(Wt);xe.Factory.addGetterSetter(Wt,"data");xe.Factory.addGetterSetter(Wt,"fontFamily","Arial");xe.Factory.addGetterSetter(Wt,"fontSize",12,(0,zu.getNumberValidator)());xe.Factory.addGetterSetter(Wt,"fontStyle",Ku);xe.Factory.addGetterSetter(Wt,"align","left");xe.Factory.addGetterSetter(Wt,"letterSpacing",0,(0,zu.getNumberValidator)());xe.Factory.addGetterSetter(Wt,"textBaseline","middle");xe.Factory.addGetterSetter(Wt,"fontVariant",Ku);xe.Factory.addGetterSetter(Wt,"text",B5);xe.Factory.addGetterSetter(Wt,"textDecoration",null);xe.Factory.addGetterSetter(Wt,"kerningFunc",null);var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.Transformer=void 0;const Ct=Lt,_t=ut,mc=Nt,U5=jt,$5=Yi,_c=si,ye=ht,gn=et,H5=ht,Xu="tr-konva",V5=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(e=>e+`.${Xu}`).join(" "),yc="nodesRect",j5=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],W5={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},z5="ontouchstart"in ye.Konva._global;function K5(e,t,n){if(e==="rotater")return n;t+=Ct.Util.degToRad(W5[e]||0);const i=(Ct.Util.radToDeg(t)%360+360)%360;return Ct.Util._inRange(i,315+22.5,360)||Ct.Util._inRange(i,0,22.5)?"ns-resize":Ct.Util._inRange(i,45-22.5,45+22.5)?"nesw-resize":Ct.Util._inRange(i,90-22.5,90+22.5)?"ew-resize":Ct.Util._inRange(i,135-22.5,135+22.5)?"nwse-resize":Ct.Util._inRange(i,180-22.5,180+22.5)?"ns-resize":Ct.Util._inRange(i,225-22.5,225+22.5)?"nesw-resize":Ct.Util._inRange(i,270-22.5,270+22.5)?"ew-resize":Ct.Util._inRange(i,315-22.5,315+22.5)?"nwse-resize":(Ct.Util.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}const wr=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],bc=1e8;function q5(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}function Ju(e,t,n){const i=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),r=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:i,y:r}}function Y5(e,t){const n=q5(e);return Ju(e,t,n)}function X5(e,t,n){let i=t;for(let r=0;r<e.length;r++){const s=ye.Konva.getAngle(e[r]),o=Math.abs(s-t)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(i=s)}return i}let Jo=0;class gt extends _c.Group{constructor(t){super(t),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(V5,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return Ct.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Xu+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const n=t.filter(r=>r.isAncestorOf(this)?(Ct.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=t=n,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},o=r._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");r.on(o,s),r.on(j5.map(a=>a+`.${this._getEventNamespace()}`).join(" "),s),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(r)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let n;t.on(`dragstart.${this._getEventNamespace()}`,i=>{n=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(i,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!n)return;const r=t.getAbsolutePosition(),s=r.x-n.x,o=r.y-n.y;this.nodes().forEach(a=>{if(a===t||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+s,y:l.y+o}),a.startDrag(i)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(yc),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(yc,this.__getNodeRect)}__getNodeShape(t,n=this.rotation(),i){const r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=t.getAbsoluteScale(i),o=t.getAbsolutePosition(i),a=r.x*s.x-t.offsetX()*s.x,l=r.y*s.y-t.offsetY()*s.y,c=(ye.Konva.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),h={x:o.x+a*Math.cos(c)+l*Math.sin(-c),y:o.y+l*Math.cos(c)+a*Math.sin(c),width:r.width*s.x,height:r.height*s.y,rotation:c};return Ju(h,-ye.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-bc,y:-bc,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const h=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}],f=c.getAbsoluteTransform();d.forEach(function(u){const p=f.point(u);n.push(p)})});const i=new Ct.Transform;i.rotate(-ye.Konva.getAngle(this.rotation()));let r=1/0,s=1/0,o=-1/0,a=-1/0;n.forEach(function(c){const h=i.point(c);r===void 0&&(r=o=h.x,s=a=h.y),r=Math.min(r,h.x),s=Math.min(s,h.y),o=Math.max(o,h.x),a=Math.max(a,h.y)}),i.invert();const l=i.point({x:r,y:s});return{x:l.x,y:l.y,width:o-r,height:a-s,rotation:ye.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),wr.forEach(t=>{this._createAnchor(t)}),this._createAnchor("rotater")}_createAnchor(t){const n=new $5.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:z5?10:"auto"}),i=this;n.on("mousedown touchstart",function(r){i._handleMouseDown(r)}),n.on("dragstart",r=>{n.stopDrag(),r.cancelBubble=!0}),n.on("dragend",r=>{r.cancelBubble=!0}),n.on("mouseenter",()=>{const r=ye.Konva.getAngle(this.rotation()),s=this.rotateAnchorCursor(),o=K5(t,r,s);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const t=new U5.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,i){const r=i.getParent(),s=r.padding();n.beginPath(),n.rect(-s,-s,i.width()+s*2,i.height()+s*2),n.moveTo(i.width()/2,-s),r.rotateEnabled()&&r.rotateLineVisible()&&n.lineTo(i.width()/2,-r.rotateAnchorOffset()*Ct.Util._sign(i.height())-s),n.fillStrokeShape(i)},hitFunc:(n,i)=>{if(!this.shouldOverdrawWholeArea())return;const r=this.padding();n.beginPath(),n.rect(-r,-r,i.width()+r*2,i.height()+r*2),n.fillStrokeShape(i)}});this.add(t),this._proxyDrag(t),t.on("dragstart",n=>{n.cancelBubble=!0}),t.on("dragmove",n=>{n.cancelBubble=!0}),t.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(t){if(this._transforming)return;this._movingAnchorName=t.target.name().split(" ")[0];const n=this._getNodeRect(),i=n.width,r=n.height,s=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.sin=Math.abs(r/s),this.cos=Math.abs(i/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},Jo++,this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:t.evt,target:l})})}_handleMouseMove(t){let n,i,r;const s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(t);const a=o.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,t)),s.setAbsolutePosition(l);const h=s.getAbsolutePosition();if(c.x===h.x&&c.y===h.y)return;if(this._movingAnchorName==="rotater"){const S=this._getNodeRect();n=s.x()-S.width/2,i=-s.y()+S.height/2;let P=Math.atan2(-i,n)+Math.PI/2;S.height<0&&(P-=Math.PI);const T=ye.Konva.getAngle(this.rotation())+P,F=ye.Konva.getAngle(this.rotationSnapTolerance()),A=X5(this.rotationSnaps(),T,F)-S.rotation,D=Y5(S,A);this._fitNodesInto(D,t);return}const d=this.shiftBehavior();let f;d==="inverted"?f=this.keepRatio()&&!t.shiftKey:d==="none"?f=this.keepRatio():f=this.keepRatio()||t.shiftKey;var v=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(f){var u=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(u.x-s.x(),2)+Math.pow(u.y-s.y(),2));var p=this.findOne(".top-left").x()>u.x?-1:1,m=this.findOne(".top-left").y()>u.y?-1:1;n=r*this.cos*p,i=r*this.sin*m,this.findOne(".top-left").x(u.x-n),this.findOne(".top-left").y(u.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(f){var u=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(s.x()-u.x,2)+Math.pow(u.y-s.y(),2));var p=this.findOne(".top-right").x()<u.x?-1:1,m=this.findOne(".top-right").y()>u.y?-1:1;n=r*this.cos*p,i=r*this.sin*m,this.findOne(".top-right").x(u.x+n),this.findOne(".top-right").y(u.y-i)}var y=s.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(f){var u=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(u.x-s.x(),2)+Math.pow(s.y()-u.y,2));var p=u.x<s.x()?-1:1,m=s.y()<u.y?-1:1;n=r*this.cos*p,i=r*this.sin*m,s.x(u.x-n),s.y(u.y+i)}y=s.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(f){var u=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(s.x()-u.x,2)+Math.pow(s.y()-u.y,2));var p=this.findOne(".bottom-right").x()<u.x?-1:1,m=this.findOne(".bottom-right").y()<u.y?-1:1;n=r*this.cos*p,i=r*this.sin*m,this.findOne(".bottom-right").x(u.x+n),this.findOne(".bottom-right").y(u.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var v=this.centeredScaling()||t.altKey;if(v){const S=this.findOne(".top-left"),P=this.findOne(".bottom-right"),M=S.x(),T=S.y(),F=this.getWidth()-P.x(),C=this.getHeight()-P.y();P.move({x:-M,y:-T}),S.move({x:F,y:C})}const E=this.findOne(".top-left").getAbsolutePosition();n=E.x,i=E.y;const g=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),_=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:i,width:g,height:_,rotation:ye.Konva.getAngle(this.rotation())},t)}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const i=this.getNode();Jo--,this._fire("transformend",{evt:t,target:i}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),i&&this._nodes.forEach(r=>{var s;r._fire("transformend",{evt:t,target:r}),(s=r.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(t,n){const i=this._getNodeRect(),r=1;if(Ct.Util._inRange(t.width,-this.padding()*2-r,r)){this.update();return}if(Ct.Util._inRange(t.height,-this.padding()*2-r,r)){this.update();return}const s=new Ct.Transform;if(s.rotate(ye.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const f=s.point({x:-this.padding()*2,y:0});t.x+=f.x,t.y+=f.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const f=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,t.width+=this.padding()*2}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const f=s.point({x:0,y:-this.padding()*2});t.x+=f.x,t.y+=f.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,t.height+=this.padding()*2}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const f=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,t.height+=this.padding()*2}if(this.boundBoxFunc()){const f=this.boundBoxFunc()(i,t);f?t=f:Ct.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new Ct.Transform;a.translate(i.x,i.y),a.rotate(i.rotation),a.scale(i.width/o,i.height/o);const l=new Ct.Transform,c=t.width/o,h=t.height/o;this.flipEnabled()===!1?(l.translate(t.x,t.y),l.rotate(t.rotation),l.translate(t.width<0?t.width:0,t.height<0?t.height:0),l.scale(Math.abs(c),Math.abs(h))):(l.translate(t.x,t.y),l.rotate(t.rotation),l.scale(c,h));const d=l.multiply(a.invert());this._nodes.forEach(f=>{var u;const p=f.getParent().getAbsoluteTransform(),m=f.getTransform().copy();m.translate(f.offsetX(),f.offsetY());const y=new Ct.Transform;y.multiply(p.copy().invert()).multiply(d).multiply(p).multiply(m);const v=y.decompose();f.setAttrs(v),(u=f.getLayer())===null||u===void 0||u.batchDraw()}),this.rotation(Ct.Util._getRotation(t.rotation)),this._nodes.forEach(f=>{this._fire("transform",{evt:n,target:f}),f._fire("transform",{evt:n,target:f})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,n){this.findOne(t).setAttrs(n)}update(){var t;const n=this._getNodeRect();this.rotation(Ct.Util._getRotation(n.rotation));const i=n.width,r=n.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(d=>{d.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:l/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:l/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:r/2,offsetX:l/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:l/2+a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:r,offsetY:l/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:r,offsetX:l/2-a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*Ct.Util._sign(r)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const h=this.anchorStyleFunc();h&&c.forEach(d=>{h(d)}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),_c.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return mc.Node.prototype.toObject.call(this)}clone(t){return mc.Node.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}ps.Transformer=gt;gt.isTransforming=()=>Jo>0;function J5(e){return e instanceof Array||Ct.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(t){wr.indexOf(t)===-1&&Ct.Util.warn("Unknown anchor name: "+t+". Available names are: "+wr.join(", "))}),e||[]}gt.prototype.className="Transformer";(0,H5._registerNode)(gt);_t.Factory.addGetterSetter(gt,"enabledAnchors",wr,J5);_t.Factory.addGetterSetter(gt,"flipEnabled",!0,(0,gn.getBooleanValidator)());_t.Factory.addGetterSetter(gt,"resizeEnabled",!0);_t.Factory.addGetterSetter(gt,"anchorSize",10,(0,gn.getNumberValidator)());_t.Factory.addGetterSetter(gt,"rotateEnabled",!0);_t.Factory.addGetterSetter(gt,"rotateLineVisible",!0);_t.Factory.addGetterSetter(gt,"rotationSnaps",[]);_t.Factory.addGetterSetter(gt,"rotateAnchorOffset",50,(0,gn.getNumberValidator)());_t.Factory.addGetterSetter(gt,"rotateAnchorCursor","crosshair");_t.Factory.addGetterSetter(gt,"rotationSnapTolerance",5,(0,gn.getNumberValidator)());_t.Factory.addGetterSetter(gt,"borderEnabled",!0);_t.Factory.addGetterSetter(gt,"anchorStroke","rgb(0, 161, 255)");_t.Factory.addGetterSetter(gt,"anchorStrokeWidth",1,(0,gn.getNumberValidator)());_t.Factory.addGetterSetter(gt,"anchorFill","white");_t.Factory.addGetterSetter(gt,"anchorCornerRadius",0,(0,gn.getNumberValidator)());_t.Factory.addGetterSetter(gt,"borderStroke","rgb(0, 161, 255)");_t.Factory.addGetterSetter(gt,"borderStrokeWidth",1,(0,gn.getNumberValidator)());_t.Factory.addGetterSetter(gt,"borderDash");_t.Factory.addGetterSetter(gt,"keepRatio",!0);_t.Factory.addGetterSetter(gt,"shiftBehavior","default");_t.Factory.addGetterSetter(gt,"centeredScaling",!1);_t.Factory.addGetterSetter(gt,"ignoreStroke",!1);_t.Factory.addGetterSetter(gt,"padding",0,(0,gn.getNumberValidator)());_t.Factory.addGetterSetter(gt,"node");_t.Factory.addGetterSetter(gt,"nodes");_t.Factory.addGetterSetter(gt,"boundBoxFunc");_t.Factory.addGetterSetter(gt,"anchorDragBoundFunc");_t.Factory.addGetterSetter(gt,"anchorStyleFunc");_t.Factory.addGetterSetter(gt,"shouldOverdrawWholeArea",!1);_t.Factory.addGetterSetter(gt,"useSingleNodeRotation",!0);_t.Factory.backCompat(gt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.Wedge=void 0;const _s=ut,Q5=jt,Z5=ht,Qu=et,t4=ht;class Ye extends Q5.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,Z5.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}ms.Wedge=Ye;Ye.prototype.className="Wedge";Ye.prototype._centroid=!0;Ye.prototype._attrsAffectingSize=["radius"];(0,t4._registerNode)(Ye);_s.Factory.addGetterSetter(Ye,"radius",0,(0,Qu.getNumberValidator)());_s.Factory.addGetterSetter(Ye,"angle",0,(0,Qu.getNumberValidator)());_s.Factory.addGetterSetter(Ye,"clockwise",!1);_s.Factory.backCompat(Ye,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.Blur=void 0;const vc=ut,e4=Nt,n4=et;function Sc(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const i4=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r4=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s4(e,t){const n=e.data,i=e.width,r=e.height;let s,o,a,l,c,h,d,f,u,p,m,y,v,E,g,_,S,P,M,T,F,C,A,D,K=t+t+1,nt=i-1,V=r-1,Y=t+1,q=Y*(Y+1)/2,J=new Sc,Ot=null,j=J,Z=null,st=null,dt=i4[t],mt=r4[t];for(a=1;a<K;a++)j=j.next=new Sc,a===Y&&(Ot=j);for(j.next=J,d=h=0,o=0;o<r;o++){for(_=S=P=M=f=u=p=m=0,y=Y*(T=n[h]),v=Y*(F=n[h+1]),E=Y*(C=n[h+2]),g=Y*(A=n[h+3]),f+=q*T,u+=q*F,p+=q*C,m+=q*A,j=J,a=0;a<Y;a++)j.r=T,j.g=F,j.b=C,j.a=A,j=j.next;for(a=1;a<Y;a++)l=h+((nt<a?nt:a)<<2),f+=(j.r=T=n[l])*(D=Y-a),u+=(j.g=F=n[l+1])*D,p+=(j.b=C=n[l+2])*D,m+=(j.a=A=n[l+3])*D,_+=T,S+=F,P+=C,M+=A,j=j.next;for(Z=J,st=Ot,s=0;s<i;s++)n[h+3]=A=m*dt>>mt,A!==0?(A=255/A,n[h]=(f*dt>>mt)*A,n[h+1]=(u*dt>>mt)*A,n[h+2]=(p*dt>>mt)*A):n[h]=n[h+1]=n[h+2]=0,f-=y,u-=v,p-=E,m-=g,y-=Z.r,v-=Z.g,E-=Z.b,g-=Z.a,l=d+((l=s+t+1)<nt?l:nt)<<2,_+=Z.r=n[l],S+=Z.g=n[l+1],P+=Z.b=n[l+2],M+=Z.a=n[l+3],f+=_,u+=S,p+=P,m+=M,Z=Z.next,y+=T=st.r,v+=F=st.g,E+=C=st.b,g+=A=st.a,_-=T,S-=F,P-=C,M-=A,st=st.next,h+=4;d+=i}for(s=0;s<i;s++){for(S=P=M=_=u=p=m=f=0,h=s<<2,y=Y*(T=n[h]),v=Y*(F=n[h+1]),E=Y*(C=n[h+2]),g=Y*(A=n[h+3]),f+=q*T,u+=q*F,p+=q*C,m+=q*A,j=J,a=0;a<Y;a++)j.r=T,j.g=F,j.b=C,j.a=A,j=j.next;for(c=i,a=1;a<=t;a++)h=c+s<<2,f+=(j.r=T=n[h])*(D=Y-a),u+=(j.g=F=n[h+1])*D,p+=(j.b=C=n[h+2])*D,m+=(j.a=A=n[h+3])*D,_+=T,S+=F,P+=C,M+=A,j=j.next,a<V&&(c+=i);for(h=s,Z=J,st=Ot,o=0;o<r;o++)l=h<<2,n[l+3]=A=m*dt>>mt,A>0?(A=255/A,n[l]=(f*dt>>mt)*A,n[l+1]=(u*dt>>mt)*A,n[l+2]=(p*dt>>mt)*A):n[l]=n[l+1]=n[l+2]=0,f-=y,u-=v,p-=E,m-=g,y-=Z.r,v-=Z.g,E-=Z.b,g-=Z.a,l=s+((l=o+Y)<V?l:V)*i<<2,f+=_+=Z.r=n[l],u+=S+=Z.g=n[l+1],p+=P+=Z.b=n[l+2],m+=M+=Z.a=n[l+3],Z=Z.next,y+=T=st.r,v+=F=st.g,E+=C=st.b,g+=A=st.a,_-=T,S-=F,P-=C,M-=A,st=st.next,h+=i}}const o4=function(t){const n=Math.round(this.blurRadius());n>0&&s4(t,n)};ys.Blur=o4;vc.Factory.addGetterSetter(e4.Node,"blurRadius",0,(0,n4.getNumberValidator)(),vc.Factory.afterSetFilter);var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.Brighten=void 0;const wc=ut,a4=Nt,l4=et,c4=function(e){let t=this.brightness()*255,n=e.data,i=n.length,r;for(r=0;r<i;r+=4)n[r]+=t,n[r+1]+=t,n[r+2]+=t};bs.Brighten=c4;wc.Factory.addGetterSetter(a4.Node,"brightness",0,(0,l4.getNumberValidator)(),wc.Factory.afterSetFilter);var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.Contrast=void 0;const Cc=ut,h4=Nt,u4=et,d4=function(e){const t=Math.pow((this.contrast()+100)/100,2);let n=e.data,i=n.length,r=150,s=150,o=150,a;for(a=0;a<i;a+=4)r=n[a],s=n[a+1],o=n[a+2],r/=255,r-=.5,r*=t,r+=.5,r*=255,s/=255,s-=.5,s*=t,s+=.5,s*=255,o/=255,o-=.5,o*=t,o+=.5,o*=255,r=r<0?0:r>255?255:r,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,n[a]=r,n[a+1]=s,n[a+2]=o};vs.Contrast=d4;Cc.Factory.addGetterSetter(h4.Node,"contrast",0,(0,u4.getNumberValidator)(),Cc.Factory.afterSetFilter);var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.Emboss=void 0;const on=ut,ws=Nt,f4=Lt,Zu=et,g4=function(e){let t=this.embossStrength()*10,n=this.embossWhiteLevel()*255,i=this.embossDirection(),r=this.embossBlend(),s=0,o=0,a=e.data,l=e.width,c=e.height,h=l*4,d=c;switch(i){case"top-left":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"top-right":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottom-right":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottom-left":s=1,o=-1;break;case"left":s=0,o=-1;break;default:f4.Util.error("Unknown emboss direction: "+i)}do{const f=(d-1)*h;let u=s;d+u<1&&(u=0),d+u>c&&(u=0);const p=(d-1+u)*l*4;let m=l;do{const y=f+(m-1)*4;let v=o;m+v<1&&(v=0),m+v>l&&(v=0);const E=p+(m-1+v)*4,g=a[y]-a[E],_=a[y+1]-a[E+1],S=a[y+2]-a[E+2];let P=g;const M=P>0?P:-P,T=_>0?_:-_,F=S>0?S:-S;if(T>M&&(P=_),F>M&&(P=S),P*=t,r){const C=a[y]+P,A=a[y+1]+P,D=a[y+2]+P;a[y]=C>255?255:C<0?0:C,a[y+1]=A>255?255:A<0?0:A,a[y+2]=D>255?255:D<0?0:D}else{let C=n-P;C<0?C=0:C>255&&(C=255),a[y]=a[y+1]=a[y+2]=C}}while(--m)}while(--d)};Ss.Emboss=g4;on.Factory.addGetterSetter(ws.Node,"embossStrength",.5,(0,Zu.getNumberValidator)(),on.Factory.afterSetFilter);on.Factory.addGetterSetter(ws.Node,"embossWhiteLevel",.5,(0,Zu.getNumberValidator)(),on.Factory.afterSetFilter);on.Factory.addGetterSetter(ws.Node,"embossDirection","top-left",null,on.Factory.afterSetFilter);on.Factory.addGetterSetter(ws.Node,"embossBlend",!1,null,on.Factory.afterSetFilter);var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.Enhance=void 0;const xc=ut,p4=Nt,m4=et;function po(e,t,n,i,r){let s=n-t,o=r-i,a;return s===0?i+o/2:o===0?i:(a=(e-t)/s,a=o*a+i,a)}const _4=function(e){let t=e.data,n=t.length,i=t[0],r=i,s,o=t[1],a=o,l,c=t[2],h=c,d,f;const u=this.enhance();if(u===0)return;for(f=0;f<n;f+=4)s=t[f+0],s<i?i=s:s>r&&(r=s),l=t[f+1],l<o?o=l:l>a&&(a=l),d=t[f+2],d<c?c=d:d>h&&(h=d);r===i&&(r=255,i=0),a===o&&(a=255,o=0),h===c&&(h=255,c=0);let p,m,y,v,E,g,_,S,P;for(u>0?(m=r+u*(255-r),y=i-u*(i-0),E=a+u*(255-a),g=o-u*(o-0),S=h+u*(255-h),P=c-u*(c-0)):(p=(r+i)*.5,m=r+u*(r-p),y=i+u*(i-p),v=(a+o)*.5,E=a+u*(a-v),g=o+u*(o-v),_=(h+c)*.5,S=h+u*(h-_),P=c+u*(c-_)),f=0;f<n;f+=4)t[f+0]=po(t[f+0],i,r,y,m),t[f+1]=po(t[f+1],o,a,g,E),t[f+2]=po(t[f+2],c,h,P,S)};Cs.Enhance=_4;xc.Factory.addGetterSetter(p4.Node,"enhance",0,(0,m4.getNumberValidator)(),xc.Factory.afterSetFilter);var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.Grayscale=void 0;const y4=function(e){let t=e.data,n=t.length,i,r;for(i=0;i<n;i+=4)r=.34*t[i]+.5*t[i+1]+.16*t[i+2],t[i]=r,t[i+1]=r,t[i+2]=r};xs.Grayscale=y4;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.HSL=void 0;const Qn=ut,Da=Nt,Ia=et;Qn.Factory.addGetterSetter(Da.Node,"hue",0,(0,Ia.getNumberValidator)(),Qn.Factory.afterSetFilter);Qn.Factory.addGetterSetter(Da.Node,"saturation",0,(0,Ia.getNumberValidator)(),Qn.Factory.afterSetFilter);Qn.Factory.addGetterSetter(Da.Node,"luminance",0,(0,Ia.getNumberValidator)(),Qn.Factory.afterSetFilter);const b4=function(e){let t=e.data,n=t.length,i=1,r=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=this.luminance()*127,a;const l=i*r*Math.cos(s*Math.PI/180),c=i*r*Math.sin(s*Math.PI/180),h=.299*i+.701*l+.167*c,d=.587*i-.587*l+.33*c,f=.114*i-.114*l-.497*c,u=.299*i-.299*l-.328*c,p=.587*i+.413*l+.035*c,m=.114*i-.114*l+.293*c,y=.299*i-.3*l+1.25*c,v=.587*i-.586*l-1.05*c,E=.114*i+.886*l-.2*c;let g,_,S,P;for(a=0;a<n;a+=4)g=t[a+0],_=t[a+1],S=t[a+2],P=t[a+3],t[a+0]=h*g+d*_+f*S+o,t[a+1]=u*g+p*_+m*S+o,t[a+2]=y*g+v*_+E*S+o,t[a+3]=P};Es.HSL=b4;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.HSV=void 0;const Zn=ut,Ga=Nt,Ba=et,v4=function(e){const t=e.data,n=t.length,i=Math.pow(2,this.value()),r=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=i*r*Math.cos(s*Math.PI/180),a=i*r*Math.sin(s*Math.PI/180),l=.299*i+.701*o+.167*a,c=.587*i-.587*o+.33*a,h=.114*i-.114*o-.497*a,d=.299*i-.299*o-.328*a,f=.587*i+.413*o+.035*a,u=.114*i-.114*o+.293*a,p=.299*i-.3*o+1.25*a,m=.587*i-.586*o-1.05*a,y=.114*i+.886*o-.2*a;let v,E,g,_;for(let S=0;S<n;S+=4)v=t[S+0],E=t[S+1],g=t[S+2],_=t[S+3],t[S+0]=l*v+c*E+h*g,t[S+1]=d*v+f*E+u*g,t[S+2]=p*v+m*E+y*g,t[S+3]=_};Ts.HSV=v4;Zn.Factory.addGetterSetter(Ga.Node,"hue",0,(0,Ba.getNumberValidator)(),Zn.Factory.afterSetFilter);Zn.Factory.addGetterSetter(Ga.Node,"saturation",0,(0,Ba.getNumberValidator)(),Zn.Factory.afterSetFilter);Zn.Factory.addGetterSetter(Ga.Node,"value",0,(0,Ba.getNumberValidator)(),Zn.Factory.afterSetFilter);var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.Invert=void 0;const S4=function(e){let t=e.data,n=t.length,i;for(i=0;i<n;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]};Ps.Invert=S4;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.Kaleidoscope=void 0;const Cr=ut,td=Nt,Ec=Lt,ed=et,w4=function(e,t,n){let i=e.data,r=t.data,s=e.width,o=e.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2,c,h,d,f=0,u=0,p=0,m=0,y,v=Math.sqrt(a*a+l*l);h=s-a,d=o-l,y=Math.sqrt(h*h+d*d),v=y>v?y:v;let E=o,g=s,_,S,P=360/g*Math.PI/180,M,T;for(S=0;S<g;S+=1)for(M=Math.sin(S*P),T=Math.cos(S*P),_=0;_<E;_+=1)h=Math.floor(a+v*_/E*T),d=Math.floor(l+v*_/E*M),c=(d*s+h)*4,f=i[c+0],u=i[c+1],p=i[c+2],m=i[c+3],c=(S+_*s)*4,r[c+0]=f,r[c+1]=u,r[c+2]=p,r[c+3]=m},C4=function(e,t,n){let i=e.data,r=t.data,s=e.width,o=e.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2,c,h,d,f,u,p=0,m=0,y=0,v=0,E,g=Math.sqrt(a*a+l*l);h=s-a,d=o-l,E=Math.sqrt(h*h+d*d),g=E>g?E:g;let _=o,S=s,P,M,T=0,F,C;for(h=0;h<s;h+=1)for(d=0;d<o;d+=1)f=h-a,u=d-l,P=Math.sqrt(f*f+u*u)*_/g,M=(Math.atan2(u,f)*180/Math.PI+360+T)%360,M=M*S/360,F=Math.floor(M),C=Math.floor(P),c=(C*s+F)*4,p=i[c+0],m=i[c+1],y=i[c+2],v=i[c+3],c=(d*s+h)*4,r[c+0]=p,r[c+1]=m,r[c+2]=y,r[c+3]=v},x4=function(e){const t=e.width,n=e.height;let i,r,s,o,a,l,c,h,d,f,u=Math.round(this.kaleidoscopePower());const p=Math.round(this.kaleidoscopeAngle()),m=Math.floor(t*(p%360)/360);if(u<1)return;const y=Ec.Util.createCanvasElement();y.width=t,y.height=n;const v=y.getContext("2d").getImageData(0,0,t,n);Ec.Util.releaseCanvas(y),w4(e,v,{polarCenterX:t/2,polarCenterY:n/2});let E=t/Math.pow(2,u);for(;E<=8;)E=E*2,u-=1;E=Math.ceil(E);let g=E,_=0,S=g,P=1;for(m+E>t&&(_=g,S=0,P=-1),r=0;r<n;r+=1)for(i=_;i!==S;i+=P)s=Math.round(i+m)%t,d=(t*r+s)*4,a=v.data[d+0],l=v.data[d+1],c=v.data[d+2],h=v.data[d+3],f=(t*r+i)*4,v.data[f+0]=a,v.data[f+1]=l,v.data[f+2]=c,v.data[f+3]=h;for(r=0;r<n;r+=1)for(g=Math.floor(E),o=0;o<u;o+=1){for(i=0;i<g+1;i+=1)d=(t*r+i)*4,a=v.data[d+0],l=v.data[d+1],c=v.data[d+2],h=v.data[d+3],f=(t*r+g*2-i-1)*4,v.data[f+0]=a,v.data[f+1]=l,v.data[f+2]=c,v.data[f+3]=h;g*=2}C4(v,e,{polarRotation:0})};Rs.Kaleidoscope=x4;Cr.Factory.addGetterSetter(td.Node,"kaleidoscopePower",2,(0,ed.getNumberValidator)(),Cr.Factory.afterSetFilter);Cr.Factory.addGetterSetter(td.Node,"kaleidoscopeAngle",0,(0,ed.getNumberValidator)(),Cr.Factory.afterSetFilter);var As={};Object.defineProperty(As,"__esModule",{value:!0});As.Mask=void 0;const Tc=ut,E4=Nt,T4=et;function ir(e,t,n){let i=(n*e.width+t)*4;const r=[];return r.push(e.data[i++],e.data[i++],e.data[i++],e.data[i++]),r}function yi(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function P4(e){const t=[0,0,0];for(let n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}function R4(e,t){const n=ir(e,0,0),i=ir(e,e.width-1,0),r=ir(e,0,e.height-1),s=ir(e,e.width-1,e.height-1),o=t||10;if(yi(n,i)<o&&yi(i,s)<o&&yi(s,r)<o&&yi(r,n)<o){const a=P4([i,n,s,r]),l=[];for(let c=0;c<e.width*e.height;c++){const h=yi(a,[e.data[c*4],e.data[c*4+1],e.data[c*4+2]]);l[c]=h<o?0:255}return l}}function A4(e,t){for(let n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}function O4(e,t,n){const i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<t;l++){const c=a*t+l;let h=0;for(let d=0;d<r;d++)for(let f=0;f<r;f++){const u=a+d-s,p=l+f-s;if(u>=0&&u<n&&p>=0&&p<t){const m=u*t+p,y=i[d*r+f];h+=e[m]*y}}o[c]=h===255*8?255:0}return o}function F4(e,t,n){const i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<t;l++){const c=a*t+l;let h=0;for(let d=0;d<r;d++)for(let f=0;f<r;f++){const u=a+d-s,p=l+f-s;if(u>=0&&u<n&&p>=0&&p<t){const m=u*t+p,y=i[d*r+f];h+=e[m]*y}}o[c]=h>=255*4?255:0}return o}function M4(e,t,n){const i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<t;l++){const c=a*t+l;let h=0;for(let d=0;d<r;d++)for(let f=0;f<r;f++){const u=a+d-s,p=l+f-s;if(u>=0&&u<n&&p>=0&&p<t){const m=u*t+p,y=i[d*r+f];h+=e[m]*y}}o[c]=h}return o}const k4=function(e){let t=this.threshold(),n=R4(e,t);return n&&(n=O4(n,e.width,e.height),n=F4(n,e.width,e.height),n=M4(n,e.width,e.height),A4(e,n)),e};As.Mask=k4;Tc.Factory.addGetterSetter(E4.Node,"threshold",0,(0,T4.getNumberValidator)(),Tc.Factory.afterSetFilter);var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.Noise=void 0;const Pc=ut,N4=Nt,L4=et,D4=function(e){const t=this.noise()*255,n=e.data,i=n.length,r=t/2;for(let s=0;s<i;s+=4)n[s+0]+=r-2*r*Math.random(),n[s+1]+=r-2*r*Math.random(),n[s+2]+=r-2*r*Math.random()};Os.Noise=D4;Pc.Factory.addGetterSetter(N4.Node,"noise",.2,(0,L4.getNumberValidator)(),Pc.Factory.afterSetFilter);var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.Pixelate=void 0;const Rc=ut,I4=Lt,G4=Nt,B4=et,U4=function(e){let t=Math.ceil(this.pixelSize()),n=e.width,i=e.height,r,s,o,a,l,c,h,d=Math.ceil(n/t),f=Math.ceil(i/t),u,p,m,y,v,E,g,_=e.data;if(t<=0){I4.Util.error("pixelSize value can not be <= 0");return}for(v=0;v<d;v+=1)for(E=0;E<f;E+=1){for(a=0,l=0,c=0,h=0,u=v*t,p=u+t,m=E*t,y=m+t,g=0,r=u;r<p;r+=1)if(!(r>=n))for(s=m;s<y;s+=1)s>=i||(o=(n*s+r)*4,a+=_[o+0],l+=_[o+1],c+=_[o+2],h+=_[o+3],g+=1);for(a=a/g,l=l/g,c=c/g,h=h/g,r=u;r<p;r+=1)if(!(r>=n))for(s=m;s<y;s+=1)s>=i||(o=(n*s+r)*4,_[o+0]=a,_[o+1]=l,_[o+2]=c,_[o+3]=h)}};Fs.Pixelate=U4;Rc.Factory.addGetterSetter(G4.Node,"pixelSize",8,(0,B4.getNumberValidator)(),Rc.Factory.afterSetFilter);var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.Posterize=void 0;const Ac=ut,$4=Nt,H4=et,V4=function(e){let t=Math.round(this.levels()*254)+1,n=e.data,i=n.length,r=255/t,s;for(s=0;s<i;s+=1)n[s]=Math.floor(n[s]/r)*r};Ms.Posterize=V4;Ac.Factory.addGetterSetter($4.Node,"levels",.5,(0,H4.getNumberValidator)(),Ac.Factory.afterSetFilter);var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.RGB=void 0;const xr=ut,Ua=Nt,j4=et,W4=function(e){let t=e.data,n=t.length,i=this.red(),r=this.green(),s=this.blue(),o,a;for(o=0;o<n;o+=4)a=(.34*t[o]+.5*t[o+1]+.16*t[o+2])/255,t[o]=a*i,t[o+1]=a*r,t[o+2]=a*s,t[o+3]=t[o+3]};ks.RGB=W4;xr.Factory.addGetterSetter(Ua.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});xr.Factory.addGetterSetter(Ua.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});xr.Factory.addGetterSetter(Ua.Node,"blue",0,j4.RGBComponent,xr.Factory.afterSetFilter);var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.RGBA=void 0;const Gi=ut,Ls=Nt,z4=et,K4=function(e){const t=e.data,n=t.length,i=this.red(),r=this.green(),s=this.blue(),o=this.alpha();for(let a=0;a<n;a+=4){const l=1-o;t[a]=i*o+t[a]*l,t[a+1]=r*o+t[a+1]*l,t[a+2]=s*o+t[a+2]*l}};Ns.RGBA=K4;Gi.Factory.addGetterSetter(Ls.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Gi.Factory.addGetterSetter(Ls.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Gi.Factory.addGetterSetter(Ls.Node,"blue",0,z4.RGBComponent,Gi.Factory.afterSetFilter);Gi.Factory.addGetterSetter(Ls.Node,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e});var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.Sepia=void 0;const q4=function(e){let t=e.data,n=t.length,i,r,s,o;for(i=0;i<n;i+=4)r=t[i+0],s=t[i+1],o=t[i+2],t[i+0]=Math.min(255,r*.393+s*.769+o*.189),t[i+1]=Math.min(255,r*.349+s*.686+o*.168),t[i+2]=Math.min(255,r*.272+s*.534+o*.131)};Ds.Sepia=q4;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.Solarize=void 0;const Y4=function(e){const t=e.data,n=e.width,i=e.height,r=n*4;let s=i;do{const o=(s-1)*r;let a=n;do{const l=o+(a-1)*4;let c=t[l],h=t[l+1],d=t[l+2];c>127&&(c=255-c),h>127&&(h=255-h),d>127&&(d=255-d),t[l]=c,t[l+1]=h,t[l+2]=d}while(--a)}while(--s)};Is.Solarize=Y4;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.Threshold=void 0;const Oc=ut,X4=Nt,J4=et,Q4=function(e){const t=this.threshold()*255,n=e.data,i=n.length;for(let r=0;r<i;r+=1)n[r]=n[r]<t?0:255};Gs.Threshold=Q4;Oc.Factory.addGetterSetter(X4.Node,"threshold",.5,(0,J4.getNumberValidator)(),Oc.Factory.afterSetFilter);Object.defineProperty(Kr,"__esModule",{value:!0});Kr.Konva=void 0;const Fc=Su,Z4=Zr,t3=ns,e3=ss,n3=os,i3=as,Mc=Jn,r3=Ki,s3=ai,o3=Yi,a3=hs,l3=us,c3=ds,h3=fs,u3=ci,d3=gs,f3=ps,g3=ms,p3=ys,m3=bs,_3=vs,y3=Ss,b3=Cs,v3=xs,S3=Es,w3=Ts,C3=Ps,x3=Rs,E3=As,T3=Os,P3=Fs,R3=Ms,A3=ks,O3=Ns,F3=Ds,M3=Is,k3=Gs;Kr.Konva=Fc.Konva.Util._assign(Fc.Konva,{Arc:Z4.Arc,Arrow:t3.Arrow,Circle:e3.Circle,Ellipse:n3.Ellipse,Image:i3.Image,Label:Mc.Label,Tag:Mc.Tag,Line:r3.Line,Path:s3.Path,Rect:o3.Rect,RegularPolygon:a3.RegularPolygon,Ring:l3.Ring,Sprite:c3.Sprite,Star:h3.Star,Text:u3.Text,TextPath:d3.TextPath,Transformer:f3.Transformer,Wedge:g3.Wedge,Filters:{Blur:p3.Blur,Brighten:m3.Brighten,Contrast:_3.Contrast,Emboss:y3.Emboss,Enhance:b3.Enhance,Grayscale:v3.Grayscale,HSL:S3.HSL,HSV:w3.HSV,Invert:C3.Invert,Kaleidoscope:x3.Kaleidoscope,Mask:E3.Mask,Noise:T3.Noise,Pixelate:P3.Pixelate,Posterize:R3.Posterize,RGB:A3.RGB,RGBA:O3.RGBA,Sepia:F3.Sepia,Solarize:M3.Solarize,Threshold:k3.Threshold}});var N3=Ta.exports;Object.defineProperty(N3,"__esModule",{value:!0});const L3=Kr;Ta.exports=L3.Konva;var D3=Ta.exports;const Ft=G2(D3);function Er(e){if(!Ft.autoDrawEnabled){const t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const kc={key:!0,style:!0,elm:!0,isRootInsert:!0},mo=".vue-konva-event";function nd(e,t,n,i){const r=e.__konvaNode,s={};let o=!1;for(let a in n){if(kc.hasOwnProperty(a))continue;const l=a.slice(0,2)==="on",c=n[a]!==t[a];if(l&&c){let h=a.slice(2).toLowerCase();h.slice(0,7)==="content"&&(h="content"+h.slice(7,1).toUpperCase()+h.slice(8)),r==null||r.off(h+mo,n[a])}!t.hasOwnProperty(a)&&(r==null||r.setAttr(a,void 0))}for(let a in t){if(kc.hasOwnProperty(a))continue;let l=a.slice(0,2)==="on";const c=n[a]!==t[a];if(l&&c){let h=a.slice(2).toLowerCase();h.slice(0,7)==="content"&&(h="content"+h.slice(7,1).toUpperCase()+h.slice(8)),t[a]&&(r==null||r.off(h+mo),r==null||r.on(h+mo,t[a]))}!l&&(t[a]!==n[a]||i&&t[a]!==(r==null?void 0:r.getAttr(a)))&&(o=!0,s[a]=t[a])}o&&r&&(r.setAttrs(s),Er(r))}const I3="v";function G3(e){function t(n){return n!=null&&n.__konvaNode?n:n!=null&&n.parent?t(n.parent):(console.error("vue-konva error: Can not find parent node"),null)}return t(e.parent)}function id(e){return e.component?e.component.__konvaNode||id(e.component.subTree):null}function B3(e){const{el:t,component:n}=e,i=id(e);if(t!=null&&t.tagName&&n&&!i){const r=t.tagName.toLowerCase();return console.error(`vue-konva error: You are trying to render "${r}" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`),null}return i}function U3(e){const t=r=>!!(r!=null&&r.hasOwnProperty("component")),n=r=>Array.isArray(r),i=r=>t(r)?[r,...i(r.children)]:n(r)?r.flatMap(i):[];return i(e.children)}function rd(e,t){const n=U3(e),i=[];n.forEach(s=>{const o=B3(s);o&&i.push(o)});let r=!1;i.forEach((s,o)=>{s.getZIndex()!==o&&(s.setZIndex(o),r=!0)}),r&&Er(t)}const $3=Nr({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:i}){const r=kh();if(!r)return;const s=ti({}),o=Be(null),a=new Ft.Stage({width:e.config.width,height:e.config.height,container:document.createElement("div")});r.__konvaNode=a,h();function l(){return r==null?void 0:r.__konvaNode}function c(){return r==null?void 0:r.__konvaNode}function h(){if(!r)return;const d=s||{},f={...t,...e.config};nd(r,f,d,e.__useStrictMode),Object.assign(s,f)}return $i(()=>{o.value&&(o.value.innerHTML="",a.container(o.value)),h()}),ga(()=>{h(),rd(r.subTree,a)}),Dr(()=>{a.destroy()}),Kn(()=>e.config,h,{deep:!0}),i({getStage:c,getNode:l}),()=>{var d;return Ur("div",{ref:o},(d=n.default)==null?void 0:d.call(n))}}}),H3=".vue-konva-event",V3={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function j3(e,t){return Nr({name:e,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(n,{attrs:i,slots:r,expose:s}){const o=kh();if(!o)return;const a=ti({}),l=new t;o.__konvaNode=l,o.vnode.__konvaNode=l,d();function c(){return o==null?void 0:o.__konvaNode}function h(){return o==null?void 0:o.__konvaNode}function d(){if(!o)return;const u={};for(const y in o==null?void 0:o.vnode.props)y.slice(0,2)==="on"&&(u[y]=o.vnode.props[y]);const p=a||{},m={...i,...n.config,...u};nd(o,m,p,n.__useStrictMode),Object.assign(a,m)}$i(()=>{var u;const p=(u=G3(o))==null?void 0:u.__konvaNode;p&&"add"in p&&p.add(l),Er(l)}),pa(()=>{Er(l),l.destroy(),l.off(H3)}),ga(()=>{d(),rd(o.subTree,l)}),Kn(()=>n.config,d,{deep:!0}),s({getStage:h,getNode:c});const f=V3.hasOwnProperty(e);return()=>{var u;return f?Ur("template",{},(u=r.default)==null?void 0:u.call(r)):null}}})}typeof window<"u"&&!window.Konva&&require("konva");const W3={install:(e,t)=>{const n=(t==null?void 0:t.prefix)||I3,i={Arc:Ft.Arc,Arrow:Ft.Arrow,Circle:Ft.Circle,Ellipse:Ft.Ellipse,FastLayer:Ft.FastLayer,Group:Ft.Group,Image:Ft.Image,Label:Ft.Label,Layer:Ft.Layer,Line:Ft.Line,Path:Ft.Path,Rect:Ft.Rect,RegularPolygon:Ft.RegularPolygon,Ring:Ft.Ring,Shape:Ft.Shape,Sprite:Ft.Sprite,Star:Ft.Star,Tag:Ft.Tag,Text:Ft.Text,TextPath:Ft.TextPath,Transformer:Ft.Transformer,Wedge:Ft.Wedge,...t==null?void 0:t.customNodes};[$3,...Object.entries(i).map(([r,s])=>j3(r,s))].forEach(r=>{e.component(`${n}${r.name}`,r)})}};S0(P0).use(I2).use(W3).mount("#app");
